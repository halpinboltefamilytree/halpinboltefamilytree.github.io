/*! For license information please see bundle.js.LICENSE.txt */
var treeViewer;!function(){var e={1983:function(e,t,n){"use strict";n(5033),n(8033),n(2863),n(6141),n(4316),n(117),n(6863),n(290),n(8652),n(1235),n(8930),n(1794),n(1523),n(5666)},5033:function(e,t,n){n(8997),n(7944),n(5388),n(266),n(7557),n(3386),n(81),n(4943),n(192),n(4371),n(7026),n(6736),n(7260),n(4649),n(8325),n(2798),n(6911),n(4394),n(8769),n(729),n(9383),n(9315),n(5072),n(348),n(1028),n(2610),n(4007),n(7616),n(6762),n(3316),n(3019),n(293),n(640),n(6589),n(3210),n(2372),n(511),n(6781),n(4434),n(4783),n(5521),n(4093),n(6378),n(2380),n(2803),n(3725),n(7977),n(4192),n(2940),n(5731),n(9382),n(8877),n(2539),n(9820),n(8417),n(4333),n(2858),n(2058),n(5472),n(7001),n(7492),n(447),n(5624),n(1263),n(5193),n(8241),n(6723),n(9394),n(6938),n(1961),n(9659),n(3354),n(9620),n(638),n(2338),n(641),n(1575),n(5611),n(1033),n(160),n(5271),n(8221),n(2523),n(5441),n(8375),n(9106),n(9139),n(3352),n(3289),n(5943),n(9483),n(8292),n(6174),n(6975),n(1412),n(360),n(8394),n(3118),n(8772),n(1308),n(7080),n(8615),n(5244),n(9544),n(5475),n(3770),n(5201),n(1385),n(2813),n(2509),n(8253),n(7391),n(3307),n(3315),n(2920),n(5443),n(9815),n(3771),n(6935),n(7846),n(6403),n(1200),n(951),n(29),n(9310),n(6722),n(8372),n(4604),n(4781),n(8416),n(4395),n(9649),n(2475),n(2924),n(6337),n(3286),n(7225),n(8766),e.exports=n(4411)},2863:function(e,t,n){n(8125),e.exports=n(4411).Array.flatMap},8033:function(e,t,n){n(9348),e.exports=n(4411).Array.includes},8930:function(e,t,n){n(1768),e.exports=n(4411).Object.entries},8652:function(e,t,n){n(9223),e.exports=n(4411).Object.getOwnPropertyDescriptors},1235:function(e,t,n){n(7442),e.exports=n(4411).Object.values},1794:function(e,t,n){"use strict";n(2813),n(4936),e.exports=n(4411).Promise.finally},4316:function(e,t,n){n(239),e.exports=n(4411).String.padEnd},6141:function(e,t,n){n(8755),e.exports=n(4411).String.padStart},6863:function(e,t,n){n(6948),e.exports=n(4411).String.trimRight},117:function(e,t,n){n(3412),e.exports=n(4411).String.trimLeft},290:function(e,t,n){n(8284),e.exports=n(8833).f("asyncIterator")},1543:function(e,t,n){n(4296),e.exports=n(1275).global},7411:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3206:function(e,t,n){var r=n(700);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},1275:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},999:function(e,t,n){var r=n(7411);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},697:function(e,t,n){e.exports=!n(3834)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2394:function(e,t,n){var r=n(700),i=n(1075).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},4553:function(e,t,n){var r=n(1075),i=n(1275),o=n(999),a=n(2550),l=n(4324),s="prototype",c=function(e,t,n){var u,f,d,p=e&c.F,h=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,y=e&c.W,w=h?i:i[t]||(i[t]={}),b=w[s],E=h?r:m?r[t]:(r[t]||{})[s];for(u in h&&(n=t),n)(f=!p&&E&&void 0!==E[u])&&l(w,u)||(d=f?E[u]:n[u],w[u]=h&&"function"!=typeof E[u]?n[u]:g&&f?o(d,r):y&&E[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((w.virtual||(w.virtual={}))[u]=d,e&c.R&&b&&!b[u]&&a(b,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},3834:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},1075:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},4324:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},2550:function(e,t,n){var r=n(249),i=n(3652);e.exports=n(697)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},3393:function(e,t,n){e.exports=!n(697)&&!n(3834)((function(){return 7!=Object.defineProperty(n(2394)("div"),"a",{get:function(){return 7}}).a}))},700:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},249:function(e,t,n){var r=n(3206),i=n(3393),o=n(3377),a=Object.defineProperty;t.f=n(697)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},3652:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3377:function(e,t,n){var r=n(700);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},4296:function(e,t,n){var r=n(4553);r(r.G,{global:n(1075)})},3079:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3373:function(e,t,n){var r=n(9426);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},2802:function(e,t,n){var r=n(9739)("unscopables"),i=Array.prototype;null==i[r]&&n(8442)(i,r,{}),e.exports=function(e){i[r][e]=!0}},9959:function(e,t,n){"use strict";var r=n(7384)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},599:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},9719:function(e,t,n){var r=n(7481);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},4893:function(e,t,n){"use strict";var r=n(4200),i=n(5044),o=n(1838);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),l=i(e,a),s=i(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-s,a-l),f=1;for(s<l&&l<s+u&&(f=-1,s+=u-1,l+=u-1);u-- >0;)s in n?n[l]=n[s]:delete n[l],l+=f,s+=f;return n}},852:function(e,t,n){"use strict";var r=n(4200),i=n(5044),o=n(1838);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,l=i(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);c>l;)t[l++]=e;return t}},1545:function(e,t,n){var r=n(8500),i=n(1838),o=n(5044);e.exports=function(e){return function(t,n,a){var l,s=r(t),c=i(s.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},6934:function(e,t,n){var r=n(2794),i=n(975),o=n(4200),a=n(1838),l=n(4087);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,u=4==e,f=6==e,d=5==e||f,p=t||l;return function(t,l,h){for(var m,v,g=o(t),y=i(g),w=r(l,h,3),b=a(y.length),E=0,S=n?p(t,b):s?p(t,0):void 0;b>E;E++)if((d||E in y)&&(v=w(m=y[E],E,g),e))if(n)S[E]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:S.push(m)}else if(u)return!1;return f?-1:c||u?u:S}}},9857:function(e,t,n){var r=n(3079),i=n(4200),o=n(975),a=n(1838);e.exports=function(e,t,n,l,s){r(t);var c=i(e),u=o(c),f=a(c.length),d=s?f-1:0,p=s?-1:1;if(n<2)for(;;){if(d in u){l=u[d],d+=p;break}if(d+=p,s?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;s?d>=0:f>d;d+=p)d in u&&(l=t(l,u[d],d,c));return l}},4849:function(e,t,n){var r=n(7481),i=n(689),o=n(9739)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},4087:function(e,t,n){var r=n(4849);e.exports=function(e,t){return new(r(e))(t)}},6966:function(e,t,n){"use strict";var r=n(3079),i=n(7481),o=n(3534),a=[].slice,l={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?function(e,t,n){if(!(t in l)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";l[t]=Function("F,a","return new F("+r.join(",")+")")}return l[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},2845:function(e,t,n){var r=n(9426),i=n(9739)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},9426:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5144:function(e,t,n){"use strict";var r=n(3530).f,i=n(2545),o=n(4092),a=n(2794),l=n(599),s=n(2971),c=n(9121),u=n(8611),f=n(5993),d=n(1916),p=n(2153).fastKey,h=n(1603),m=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){l(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&s(r,n,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(t)}}},3503:function(e,t,n){"use strict";var r=n(4092),i=n(2153).getWeak,o=n(9719),a=n(7481),l=n(599),s=n(2971),c=n(6934),u=n(1063),f=n(1603),d=c(5),p=c(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){l(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&s(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(f(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},8091:function(e,t,n){"use strict";var r=n(6341),i=n(5366),o=n(1564),a=n(4092),l=n(2153),s=n(2971),c=n(599),u=n(7481),f=n(1240),d=n(1461),p=n(1309),h=n(4805);e.exports=function(e,t,n,m,v,g){var y=r[e],w=y,b=v?"set":"add",E=w&&w.prototype,S={},T=function(e){var t=E[e];o(E,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof w&&(g||E.forEach&&!f((function(){(new w).entries().next()})))){var x=new w,k=x[b](g?{}:-0,1)!=x,C=f((function(){x.has(1)})),P=d((function(e){new w(e)})),N=!g&&f((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));P||((w=t((function(t,n){c(t,w,e);var r=h(new y,t,w);return null!=n&&s(n,v,r[b],r),r}))).prototype=E,E.constructor=w),(C||N)&&(T("delete"),T("has"),v&&T("get")),(N||k)&&T(b),g&&E.clear&&delete E.clear}else w=m.getConstructor(t,e,v,b),a(w.prototype,n),l.NEED=!0;return p(w,e),S[e]=w,i(i.G+i.W+i.F*(w!=y),S),g||m.setStrong(w,e,v),w}},4411:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},1676:function(e,t,n){"use strict";var r=n(3530),i=n(1761);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},2794:function(e,t,n){var r=n(3079);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},1792:function(e,t,n){"use strict";var r=n(1240),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},7687:function(e,t,n){"use strict";var r=n(9719),i=n(9241),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},3589:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},1916:function(e,t,n){e.exports=!n(1240)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},3383:function(e,t,n){var r=n(7481),i=n(6341).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},7590:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},4535:function(e,t,n){var r=n(5825),i=n(2520),o=n(1144);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,l=n(e),s=o.f,c=0;l.length>c;)s.call(e,a=l[c++])&&t.push(a);return t}},5366:function(e,t,n){var r=n(6341),i=n(4411),o=n(8442),a=n(1564),l=n(2794),s="prototype",c=function(e,t,n){var u,f,d,p,h=e&c.F,m=e&c.G,v=e&c.S,g=e&c.P,y=e&c.B,w=m?r:v?r[t]||(r[t]={}):(r[t]||{})[s],b=m?i:i[t]||(i[t]={}),E=b[s]||(b[s]={});for(u in m&&(n=t),n)d=((f=!h&&w&&void 0!==w[u])?w:n)[u],p=y&&f?l(d,r):g&&"function"==typeof d?l(Function.call,d):d,w&&a(w,u,d,e&c.U),b[u]!=d&&o(b,u,p),g&&E[u]!=d&&(E[u]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},6881:function(e,t,n){var r=n(9739)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},1240:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5307:function(e,t,n){"use strict";n(8615);var r=n(1564),i=n(8442),o=n(1240),a=n(3589),l=n(9739),s=n(8868),c=l("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=l(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!f){var m=/./[d],v=n(a,d,""[e],(function(e,t,n,r,i){return t.exec===s?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},6439:function(e,t,n){"use strict";var r=n(9719);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3885:function(e,t,n){"use strict";var r=n(689),i=n(7481),o=n(1838),a=n(2794),l=n(9739)("isConcatSpreadable");e.exports=function e(t,n,s,c,u,f,d,p){for(var h,m,v=u,g=0,y=!!d&&a(d,p,3);g<c;){if(g in s){if(h=y?y(s[g],g,n):s[g],m=!1,i(h)&&(m=void 0!==(m=h[l])?!!m:r(h)),m&&f>0)v=e(t,n,h,o(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}g++}return v}},2971:function(e,t,n){var r=n(2794),i=n(5539),o=n(3894),a=n(9719),l=n(1838),s=n(8444),c={},u={},f=e.exports=function(e,t,n,f,d){var p,h,m,v,g=d?function(){return e}:s(e),y=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=l(e.length);p>w;w++)if((v=t?y(a(h=e[w])[0],h[1]):y(e[w]))===c||v===u)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=i(m,y,h.value,t))===c||v===u)return v};f.BREAK=c,f.RETURN=u},5979:function(e,t,n){e.exports=n(7355)("native-function-to-string",Function.toString)},6341:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},1063:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},8442:function(e,t,n){var r=n(3530),i=n(1761);e.exports=n(1916)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},6137:function(e,t,n){var r=n(6341).document;e.exports=r&&r.documentElement},4352:function(e,t,n){e.exports=!n(1916)&&!n(1240)((function(){return 7!=Object.defineProperty(n(3383)("div"),"a",{get:function(){return 7}}).a}))},4805:function(e,t,n){var r=n(7481),i=n(7135).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},3534:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},975:function(e,t,n){var r=n(9426);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},3894:function(e,t,n){var r=n(4919),i=n(9739)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},689:function(e,t,n){var r=n(9426);e.exports=Array.isArray||function(e){return"Array"==r(e)}},2289:function(e,t,n){var r=n(7481),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},7481:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},9543:function(e,t,n){var r=n(7481),i=n(9426),o=n(9739)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},5539:function(e,t,n){var r=n(9719);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},7938:function(e,t,n){"use strict";var r=n(2545),i=n(1761),o=n(1309),a={};n(8442)(a,n(9739)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},9121:function(e,t,n){"use strict";var r=n(5113),i=n(5366),o=n(1564),a=n(8442),l=n(4919),s=n(7938),c=n(1309),u=n(4408),f=n(9739)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,v,g,y,w){s(n,t,v);var b,E,S,T=function(e){if(!d&&e in P)return P[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k=g==h,C=!1,P=e.prototype,N=P[f]||P["@@iterator"]||g&&P[g],_=N||T(g),O=g?k?T("entries"):_:void 0,I="Array"==t&&P.entries||N;if(I&&(S=u(I.call(new e)))!==Object.prototype&&S.next&&(c(S,x,!0),r||"function"==typeof S[f]||a(S,f,m)),k&&N&&N.name!==h&&(C=!0,_=function(){return N.call(this)}),r&&!w||!d&&!C&&P[f]||a(P,f,_),l[t]=_,l[x]=m,g)if(b={values:k?_:T(h),keys:y?_:T(p),entries:O},w)for(E in b)E in P||o(P,E,b[E]);else i(i.P+i.F*(d||C),t,b);return b}},1461:function(e,t,n){var r=n(9739)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},8611:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},4919:function(e){e.exports={}},5113:function(e){e.exports=!1},7117:function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},9396:function(e,t,n){var r=n(4247),i=Math.pow,o=i(2,-52),a=i(2,-23),l=i(2,127)*(2-a),s=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<s?c*(i/s/a+1/o-1/o)*s*a:(n=(t=(1+a/o)*i)-(t-i))>l||n!=n?c*(1/0):c*n}},9007:function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},4247:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},2153:function(e,t,n){var r=n(430)("meta"),i=n(7481),o=n(1063),a=n(3530).f,l=0,s=Object.isExtensible||function(){return!0},c=!n(1240)((function(){return s(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++l,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&s(e)&&!o(e,r)&&u(e),e}}},37:function(e,t,n){var r=n(6341),i=n(7122).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,l=r.Promise,s="process"==n(9426)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(s&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(l&&l.resolve){var u=l.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},3285:function(e,t,n){"use strict";var r=n(3079);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},9821:function(e,t,n){"use strict";var r=n(1916),i=n(5825),o=n(2520),a=n(1144),l=n(4200),s=n(975),c=Object.assign;e.exports=!c||n(1240)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=l(e),c=arguments.length,u=1,f=o.f,d=a.f;c>u;)for(var p,h=s(arguments[u++]),m=f?i(h).concat(f(h)):i(h),v=m.length,g=0;v>g;)p=m[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:c},2545:function(e,t,n){var r=n(9719),i=n(413),o=n(7590),a=n(3548)("IE_PROTO"),l=function(){},s="prototype",c=function(){var e,t=n(3383)("iframe"),r=o.length;for(t.style.display="none",n(6137).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[s][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(l[s]=r(e),n=new l,l[s]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},3530:function(e,t,n){var r=n(9719),i=n(4352),o=n(9241),a=Object.defineProperty;t.f=n(1916)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},413:function(e,t,n){var r=n(3530),i=n(9719),o=n(5825);e.exports=n(1916)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),l=a.length,s=0;l>s;)r.f(e,n=a[s++],t[n]);return e}},7762:function(e,t,n){var r=n(1144),i=n(1761),o=n(8500),a=n(9241),l=n(1063),s=n(4352),c=Object.getOwnPropertyDescriptor;t.f=n(1916)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return i(!r.f.call(e,t),e[t])}},5009:function(e,t,n){var r=n(8500),i=n(4230).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},4230:function(e,t,n){var r=n(2851),i=n(7590).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},2520:function(e,t){t.f=Object.getOwnPropertySymbols},4408:function(e,t,n){var r=n(1063),i=n(4200),o=n(3548)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},2851:function(e,t,n){var r=n(1063),i=n(8500),o=n(1545)(!1),a=n(3548)("IE_PROTO");e.exports=function(e,t){var n,l=i(e),s=0,c=[];for(n in l)n!=a&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~o(c,n)||c.push(n));return c}},5825:function(e,t,n){var r=n(2851),i=n(7590);e.exports=Object.keys||function(e){return r(e,i)}},1144:function(e,t){t.f={}.propertyIsEnumerable},1025:function(e,t,n){var r=n(5366),i=n(4411),o=n(1240);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},5346:function(e,t,n){var r=n(1916),i=n(5825),o=n(8500),a=n(1144).f;e.exports=function(e){return function(t){for(var n,l=o(t),s=i(l),c=s.length,u=0,f=[];c>u;)n=s[u++],r&&!a.call(l,n)||f.push(e?[n,l[n]]:l[n]);return f}}},7285:function(e,t,n){var r=n(4230),i=n(2520),o=n(9719),a=n(6341).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},3765:function(e,t,n){var r=n(6341).parseFloat,i=n(7370).trim;e.exports=1/r(n(8275)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},500:function(e,t,n){var r=n(6341).parseInt,i=n(7370).trim,o=n(8275),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},8332:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},8614:function(e,t,n){var r=n(9719),i=n(7481),o=n(3285);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},1761:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4092:function(e,t,n){var r=n(1564);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1564:function(e,t,n){var r=n(6341),i=n(8442),o=n(1063),a=n(430)("src"),l=n(5979),s="toString",c=(""+l).split(s);n(4411).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,l){var s="function"==typeof n;s&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(s&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:l?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||l.call(this)}))},9073:function(e,t,n){"use strict";var r=n(2845),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},8868:function(e,t,n){"use strict";var r,i,o=n(6439),a=RegExp.prototype.exec,l=String.prototype.replace,s=a,c="lastIndex",u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),f=void 0!==/()??/.exec("")[1];(u||f)&&(s=function(e){var t,n,r,i,s=this;return f&&(n=new RegExp("^"+s.source+"$(?!\\s)",o.call(s))),u&&(t=s[c]),r=a.call(s,e),u&&r&&(s[c]=s.global?r.index+r[0].length:t),f&&r&&r.length>1&&l.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=s},1541:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7135:function(e,t,n){var r=n(7481),i=n(9719),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(2794)(Function.call,n(7762).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},5993:function(e,t,n){"use strict";var r=n(6341),i=n(3530),o=n(1916),a=n(9739)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},1309:function(e,t,n){var r=n(3530).f,i=n(1063),o=n(9739)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},3548:function(e,t,n){var r=n(7355)("keys"),i=n(430);e.exports=function(e){return r[e]||(r[e]=i(e))}},7355:function(e,t,n){var r=n(4411),i=n(6341),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(5113)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},9789:function(e,t,n){var r=n(9719),i=n(3079),o=n(9739)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},5139:function(e,t,n){"use strict";var r=n(1240);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},7384:function(e,t,n){var r=n(1549),i=n(3589);e.exports=function(e){return function(t,n){var o,a,l=String(i(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(o=l.charCodeAt(s))<55296||o>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):o:e?l.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},3256:function(e,t,n){var r=n(9543),i=n(3589);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},9048:function(e,t,n){var r=n(5366),i=n(1240),o=n(3589),a=/"/g,l=function(e,t,n,r){var i=String(o(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),l+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(l),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},9823:function(e,t,n){var r=n(1838),i=n(5),o=n(3589);e.exports=function(e,t,n,a){var l=String(o(e)),s=l.length,c=void 0===n?" ":String(n),u=r(t);if(u<=s||""==c)return l;var f=u-s,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+l:l+d}},5:function(e,t,n){"use strict";var r=n(1549),i=n(3589);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},7370:function(e,t,n){var r=n(5366),i=n(3589),o=n(1240),a=n(8275),l="["+a+"]",s=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),u=function(e,t,n){var i={},l=o((function(){return!!a[e]()||"​"!="​"[e]()})),s=i[e]=l?t(f):a[e];n&&(i[n]=s),r(r.P+r.F*l,"String",i)},f=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},8275:function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},7122:function(e,t,n){var r,i,o,a=n(2794),l=n(3534),s=n(6137),c=n(3383),u=n(6341),f=u.process,d=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,v=0,g={},y="onreadystatechange",w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){w.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){l("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(9426)(f)?r=function(e){f.nextTick(a(w,e,1))}:m&&m.now?r=function(e){m.now(a(w,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r=y in c("script")?function(e){s.appendChild(c("script"))[y]=function(){s.removeChild(this),w.call(e)}}:function(e){setTimeout(a(w,e,1),0)}),e.exports={set:d,clear:p}},5044:function(e,t,n){var r=n(1549),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},9707:function(e,t,n){var r=n(1549),i=n(1838);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},1549:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},8500:function(e,t,n){var r=n(975),i=n(3589);e.exports=function(e){return r(i(e))}},1838:function(e,t,n){var r=n(1549),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},4200:function(e,t,n){var r=n(3589);e.exports=function(e){return Object(r(e))}},9241:function(e,t,n){var r=n(7481);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},8754:function(e,t,n){"use strict";if(n(1916)){var r=n(5113),i=n(6341),o=n(1240),a=n(5366),l=n(7728),s=n(9895),c=n(2794),u=n(599),f=n(1761),d=n(8442),p=n(4092),h=n(1549),m=n(1838),v=n(9707),g=n(5044),y=n(9241),w=n(1063),b=n(2845),E=n(7481),S=n(4200),T=n(3894),x=n(2545),k=n(4408),C=n(4230).f,P=n(8444),N=n(430),_=n(9739),O=n(6934),I=n(1545),M=n(9789),F=n(1308),j=n(4919),L=n(1461),A=n(5993),D=n(852),R=n(4893),V=n(3530),B=n(7762),U=V.f,H=B.f,G=i.RangeError,z=i.TypeError,Z=i.Uint8Array,W="ArrayBuffer",q="Shared"+W,$="BYTES_PER_ELEMENT",K="prototype",Y=Array[K],J=s.ArrayBuffer,Q=s.DataView,X=O(0),ee=O(2),te=O(3),ne=O(4),re=O(5),ie=O(6),oe=I(!0),ae=I(!1),le=F.values,se=F.keys,ce=F.entries,ue=Y.lastIndexOf,fe=Y.reduce,de=Y.reduceRight,pe=Y.join,he=Y.sort,me=Y.slice,ve=Y.toString,ge=Y.toLocaleString,ye=_("iterator"),we=_("toStringTag"),be=N("typed_constructor"),Ee=N("def_constructor"),Se=l.CONSTR,Te=l.TYPED,xe=l.VIEW,ke="Wrong length!",Ce=O(1,(function(e,t){return Ie(M(e,e[Ee]),t)})),Pe=o((function(){return 1===new Z(new Uint16Array([1]).buffer)[0]})),Ne=!!Z&&!!Z[K].set&&o((function(){new Z(1).set({})})),_e=function(e,t){var n=h(e);if(n<0||n%t)throw G("Wrong offset!");return n},Oe=function(e){if(E(e)&&Te in e)return e;throw z(e+" is not a typed array!")},Ie=function(e,t){if(!E(e)||!(be in e))throw z("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return Fe(M(e,e[Ee]),t)},Fe=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},je=function(e,t,n){U(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,l=S(e),s=arguments.length,u=s>1?arguments[1]:void 0,f=void 0!==u,d=P(l);if(null!=d&&!T(d)){for(a=d.call(l),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);l=r}for(f&&s>2&&(u=c(u,arguments[2],2)),t=0,n=m(l.length),i=Ie(this,n);n>t;t++)i[t]=f?u(l[t],t):l[t];return i},Ae=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},De=!!Z&&o((function(){ge.call(new Z(1))})),Re=function(){return ge.apply(De?me.call(Oe(this)):Oe(this),arguments)},Ve={copyWithin:function(e,t){return R.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return D.apply(Oe(this),arguments)},filter:function(e){return Me(this,ee(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Oe(this),arguments)},lastIndexOf:function(e){return ue.apply(Oe(this),arguments)},map:function(e){return Ce(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return fe.apply(Oe(this),arguments)},reduceRight:function(e){return de.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return he.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,i=g(e,r);return new(M(n,n[Ee]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Be=function(e,t){return Me(this,me.call(Oe(this),e,t))},Ue=function(e){Oe(this);var t=_e(arguments[1],1),n=this.length,r=S(e),i=m(r.length),o=0;if(i+t>n)throw G(ke);for(;o<i;)this[t+o]=r[o++]},He={entries:function(){return ce.call(Oe(this))},keys:function(){return se.call(Oe(this))},values:function(){return le.call(Oe(this))}},Ge=function(e,t){return E(e)&&e[Te]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},ze=function(e,t){return Ge(e,t=y(t,!0))?f(2,e[t]):H(e,t)},Ze=function(e,t,n){return!(Ge(e,t=y(t,!0))&&E(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};Se||(B.f=ze,V.f=Ze),a(a.S+a.F*!Se,"Object",{getOwnPropertyDescriptor:ze,defineProperty:Ze}),o((function(){ve.call({})}))&&(ve=ge=function(){return pe.call(this)});var We=p({},Ve);p(We,He),d(We,ye,He.values),p(We,{slice:Be,set:Ue,constructor:function(){},toString:ve,toLocaleString:Re}),je(We,"buffer","b"),je(We,"byteOffset","o"),je(We,"byteLength","l"),je(We,"length","e"),U(We,we,{get:function(){return this[Te]}}),e.exports=function(e,t,n,s){var c=e+((s=!!s)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&k(h),w=!h||!l.ABV,S={},T=h&&h[K],P=function(e,n){U(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,Pe)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Pe)}(this,n,e)},enumerable:!0})};w?(h=n((function(e,n,r,i){u(e,h,c,"_d");var o,a,l,s,f=0,p=0;if(E(n)){if(!(n instanceof J||(s=b(n))==W||s==q))return Te in n?Fe(h,n):Le.call(h,n);o=n,p=_e(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw G(ke);if((a=g-p)<0)throw G(ke)}else if((a=m(i)*t)+p>g)throw G(ke);l=a/t}else l=v(n),o=new J(a=l*t);for(d(e,"_d",{b:o,o:p,l:a,e:l,v:new Q(o)});f<l;)P(e,f++)})),T=h[K]=x(We),d(T,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&L((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return u(e,h,c),E(n)?n instanceof J||(o=b(n))==W||o==q?void 0!==i?new g(n,_e(r,t),i):void 0!==r?new g(n,_e(r,t)):new g(n):Te in n?Fe(h,n):Le.call(h,n):new g(v(n))})),X(y!==Function.prototype?C(g).concat(C(y)):C(g),(function(e){e in h||d(h,e,g[e])})),h[K]=T,r||(T.constructor=h));var N=T[ye],_=!!N&&("values"==N.name||null==N.name),O=He.values;d(h,be,!0),d(T,Te,c),d(T,xe,!0),d(T,Ee,h),(s?new h(1)[we]==c:we in T)||U(T,we,{get:function(){return c}}),S[c]=h,a(a.G+a.W+a.F*(h!=g),S),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(h,1)})),c,{from:Le,of:Ae}),$ in T||d(T,$,t),a(a.P,c,Ve),A(c),a(a.P+a.F*Ne,c,{set:Ue}),a(a.P+a.F*!_,c,He),r||T.toString==ve||(T.toString=ve),a(a.P+a.F*o((function(){new h(1).slice()})),c,{slice:Be}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){T.toLocaleString.call([1,2])}))),c,{toLocaleString:Re}),j[c]=_?N:O,r||_||d(T,ye,O)}}else e.exports=function(){}},9895:function(e,t,n){"use strict";var r=n(6341),i=n(1916),o=n(5113),a=n(7728),l=n(8442),s=n(4092),c=n(1240),u=n(599),f=n(1549),d=n(1838),p=n(9707),h=n(4230).f,m=n(3530).f,v=n(852),g=n(1309),y="ArrayBuffer",w="DataView",b="prototype",E="Wrong index!",S=r[y],T=r[w],x=r.Math,k=r.RangeError,C=r.Infinity,P=S,N=x.abs,_=x.pow,O=x.floor,I=x.log,M=x.LN2,F="buffer",j="byteLength",L="byteOffset",A=i?"_b":F,D=i?"_l":j,R=i?"_o":L;function V(e,t,n){var r,i,o,a=new Array(n),l=8*n-t-1,s=(1<<l)-1,c=s>>1,u=23===t?_(2,-24)-_(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=N(e))!=e||e===C?(i=e!=e?1:0,r=s):(r=O(I(e)/M),e*(o=_(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*_(2,1-c))*o>=2&&(r++,o/=2),r+c>=s?(i=0,r=s):r+c>=1?(i=(e*o-1)*_(2,t),r+=c):(i=e*_(2,c-1)*_(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,l+=t;l>0;a[f++]=255&r,r/=256,l-=8);return a[--f]|=128*d,a}function B(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,l=i-7,s=n-1,c=e[s--],u=127&c;for(c>>=7;l>0;u=256*u+e[s],s--,l-=8);for(r=u&(1<<-l)-1,u>>=-l,l+=t;l>0;r=256*r+e[s],s--,l-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-C:C;r+=_(2,t),u-=a}return(c?-1:1)*r*_(2,u-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function H(e){return[255&e]}function G(e){return[255&e,e>>8&255]}function z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function Z(e){return V(e,52,8)}function W(e){return V(e,23,4)}function q(e,t,n){m(e[b],t,{get:function(){return this[n]}})}function $(e,t,n,r){var i=p(+n);if(i+t>e[D])throw k(E);var o=e[A]._b,a=i+e[R],l=o.slice(a,a+t);return r?l:l.reverse()}function K(e,t,n,r,i,o){var a=p(+n);if(a+t>e[D])throw k(E);for(var l=e[A]._b,s=a+e[R],c=r(+i),u=0;u<t;u++)l[s+u]=c[o?u:t-u-1]}if(a.ABV){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),S.name!=y}))){for(var Y,J=(S=function(e){return u(this,S),new P(p(e))})[b]=P[b],Q=h(P),X=0;Q.length>X;)(Y=Q[X++])in S||l(S,Y,P[Y]);o||(J.constructor=S)}var ee=new T(new S(2)),te=T[b].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||s(T[b],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else S=function(e){u(this,S,y);var t=p(e);this._b=v.call(new Array(t),0),this[D]=t},T=function(e,t,n){u(this,T,w),u(e,S,w);var r=e[D],i=f(t);if(i<0||i>r)throw k("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw k("Wrong length!");this[A]=e,this[R]=i,this[D]=n},i&&(q(S,j,"_l"),q(T,F,"_b"),q(T,j,"_l"),q(T,L,"_o")),s(T[b],{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U($(this,4,e,arguments[1]))},getUint32:function(e){return U($(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B($(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B($(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,H,t)},setUint8:function(e,t){K(this,1,e,H,t)},setInt16:function(e,t){K(this,2,e,G,t,arguments[2])},setUint16:function(e,t){K(this,2,e,G,t,arguments[2])},setInt32:function(e,t){K(this,4,e,z,t,arguments[2])},setUint32:function(e,t){K(this,4,e,z,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,Z,t,arguments[2])}});g(S,y),g(T,w),l(T[b],a.VIEW,!0),t[y]=S,t[w]=T},7728:function(e,t,n){for(var r,i=n(6341),o=n(8442),a=n(430),l=a("typed_array"),s=a("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,l,!0),o(r.prototype,s,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:l,VIEW:s}},430:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},3843:function(e,t,n){var r=n(6341).navigator;e.exports=r&&r.userAgent||""},1603:function(e,t,n){var r=n(7481);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},8155:function(e,t,n){var r=n(6341),i=n(4411),o=n(5113),a=n(8833),l=n(3530).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},8833:function(e,t,n){t.f=n(9739)},9739:function(e,t,n){var r=n(7355)("wks"),i=n(430),o=n(6341).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},8444:function(e,t,n){var r=n(2845),i=n(9739)("iterator"),o=n(4919);e.exports=n(4411).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},1412:function(e,t,n){var r=n(5366);r(r.P,"Array",{copyWithin:n(4893)}),n(2802)("copyWithin")},5943:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(4);r(r.P+r.F*!n(5139)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},360:function(e,t,n){var r=n(5366);r(r.P,"Array",{fill:n(852)}),n(2802)("fill")},3352:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(2);r(r.P+r.F*!n(5139)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},3118:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(2802)(o)},8394:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(2802)(o)},9106:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(0),o=n(5139)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},5271:function(e,t,n){"use strict";var r=n(2794),i=n(5366),o=n(4200),a=n(5539),l=n(3894),s=n(1838),c=n(1676),u=n(8444);i(i.S+i.F*!n(1461)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=u(d);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&l(y))for(n=new p(t=s(d.length));t>g;g++)c(n,g,v?m(d[g],g):d[g]);else for(f=y.call(d),n=new p;!(i=f.next()).done;g++)c(n,g,v?a(f,m,[i.value,g],!0):i.value);return n.length=g,n}})},6174:function(e,t,n){"use strict";var r=n(5366),i=n(1545)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(5139)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},160:function(e,t,n){var r=n(5366);r(r.S,"Array",{isArray:n(689)})},1308:function(e,t,n){"use strict";var r=n(2802),i=n(8611),o=n(4919),a=n(8500);e.exports=n(9121)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},2523:function(e,t,n){"use strict";var r=n(5366),i=n(8500),o=[].join;r(r.P+r.F*(n(975)!=Object||!n(5139)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},6975:function(e,t,n){"use strict";var r=n(5366),i=n(8500),o=n(1549),a=n(1838),l=[].lastIndexOf,s=!!l&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(5139)(l)),"Array",{lastIndexOf:function(e){if(s)return l.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},9139:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(1);r(r.P+r.F*!n(5139)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},8221:function(e,t,n){"use strict";var r=n(5366),i=n(1676);r(r.S+r.F*n(1240)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},8292:function(e,t,n){"use strict";var r=n(5366),i=n(9857);r(r.P+r.F*!n(5139)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},9483:function(e,t,n){"use strict";var r=n(5366),i=n(9857);r(r.P+r.F*!n(5139)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},5441:function(e,t,n){"use strict";var r=n(5366),i=n(6137),o=n(9426),a=n(5044),l=n(1838),s=[].slice;r(r.P+r.F*n(1240)((function(){i&&s.call(i)})),"Array",{slice:function(e,t){var n=l(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var i=a(e,n),c=a(t,n),u=l(c-i),f=new Array(u),d=0;d<u;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},3289:function(e,t,n){"use strict";var r=n(5366),i=n(6934)(3);r(r.P+r.F*!n(5139)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},8375:function(e,t,n){"use strict";var r=n(5366),i=n(3079),o=n(4200),a=n(1240),l=[].sort,s=[1,2,3];r(r.P+r.F*(a((function(){s.sort(void 0)}))||!a((function(){s.sort(null)}))||!n(5139)(l)),"Array",{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},8772:function(e,t,n){n(5993)("Array")},2338:function(e,t,n){var r=n(5366);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},1575:function(e,t,n){var r=n(5366),i=n(1792);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},641:function(e,t,n){"use strict";var r=n(5366),i=n(4200),o=n(9241);r(r.P+r.F*n(1240)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},1033:function(e,t,n){var r=n(9739)("toPrimitive"),i=Date.prototype;r in i||n(8442)(i,r,n(7687))},5611:function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],l=r.getTime;new Date(NaN)+""!=i&&n(1564)(r,o,(function(){var e=l.call(this);return e==e?a.call(this):i}))},8769:function(e,t,n){var r=n(5366);r(r.P,"Function",{bind:n(6966)})},9383:function(e,t,n){"use strict";var r=n(7481),i=n(4408),o=n(9739)("hasInstance"),a=Function.prototype;o in a||n(3530).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},729:function(e,t,n){var r=n(3530).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(1916)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},2509:function(e,t,n){"use strict";var r=n(5144),i=n(1603),o="Map";e.exports=n(8091)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},2372:function(e,t,n){var r=n(5366),i=n(9007),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},511:function(e,t,n){var r=n(5366),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},6781:function(e,t,n){var r=n(5366),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},4434:function(e,t,n){var r=n(5366),i=n(4247);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},4783:function(e,t,n){var r=n(5366);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},5521:function(e,t,n){var r=n(5366),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},4093:function(e,t,n){var r=n(5366),i=n(7117);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},6378:function(e,t,n){var r=n(5366);r(r.S,"Math",{fround:n(9396)})},2380:function(e,t,n){var r=n(5366),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,l=arguments.length,s=0;a<l;)s<(n=i(arguments[a++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(o)}})},2803:function(e,t,n){var r=n(5366),i=Math.imul;r(r.S+r.F*n(1240)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},3725:function(e,t,n){var r=n(5366);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},7977:function(e,t,n){var r=n(5366);r(r.S,"Math",{log1p:n(9007)})},4192:function(e,t,n){var r=n(5366);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},2940:function(e,t,n){var r=n(5366);r(r.S,"Math",{sign:n(4247)})},5731:function(e,t,n){var r=n(5366),i=n(7117),o=Math.exp;r(r.S+r.F*n(1240)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},9382:function(e,t,n){var r=n(5366),i=n(7117),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},8877:function(e,t,n){var r=n(5366);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},348:function(e,t,n){"use strict";var r=n(6341),i=n(1063),o=n(9426),a=n(4805),l=n(9241),s=n(1240),c=n(4230).f,u=n(7762).f,f=n(3530).f,d=n(7370).trim,p="Number",h=r[p],m=h,v=h.prototype,g=o(n(2545)(v))==p,y="trim"in String.prototype,w=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),c=0,u=s.length;c<u;c++)if((a=s.charCodeAt(c))<48||a>i)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(g?s((function(){v.valueOf.call(n)})):o(n)!=p)?a(new m(w(t)),n,h):w(t)};for(var b,E=n(1916)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;E.length>S;S++)i(m,b=E[S])&&!i(h,b)&&f(h,b,u(m,b));h.prototype=v,v.constructor=h,n(1564)(r,p,h)}},4007:function(e,t,n){var r=n(5366);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},7616:function(e,t,n){var r=n(5366),i=n(6341).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},6762:function(e,t,n){var r=n(5366);r(r.S,"Number",{isInteger:n(2289)})},3316:function(e,t,n){var r=n(5366);r(r.S,"Number",{isNaN:function(e){return e!=e}})},3019:function(e,t,n){var r=n(5366),i=n(2289),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},293:function(e,t,n){var r=n(5366);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},640:function(e,t,n){var r=n(5366);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},6589:function(e,t,n){var r=n(5366),i=n(3765);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},3210:function(e,t,n){var r=n(5366),i=n(500);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},1028:function(e,t,n){"use strict";var r=n(5366),i=n(1549),o=n(3373),a=n(5),l=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",f="0",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=s(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=s(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(f,7-n.length)+n}return t},m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)};r(r.P+r.F*(!!l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(1240)((function(){l.call({})}))),"Number",{toFixed:function(e){var t,n,r,l,s=o(this,u),c=i(e),v="",g=f;if(c<0||c>20)throw RangeError(u);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(v="-",s=-s),s>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*m(2,69,1))-69,n=t<0?s*m(2,-t,1):s/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(m(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),d(1,1),p(2),g=h()}else d(0,n),d(1<<-t,0),g=h()+a.call(f,c);return c>0?v+((l=g.length)<=c?"0."+a.call(f,c-l)+g:g.slice(0,l-c)+"."+g.slice(l-c)):v+g}})},2610:function(e,t,n){"use strict";var r=n(5366),i=n(1240),o=n(3373),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},8325:function(e,t,n){var r=n(5366);r(r.S+r.F,"Object",{assign:n(9821)})},7944:function(e,t,n){var r=n(5366);r(r.S,"Object",{create:n(2545)})},266:function(e,t,n){var r=n(5366);r(r.S+r.F*!n(1916),"Object",{defineProperties:n(413)})},5388:function(e,t,n){var r=n(5366);r(r.S+r.F*!n(1916),"Object",{defineProperty:n(3530).f})},192:function(e,t,n){var r=n(7481),i=n(2153).onFreeze;n(1025)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},7557:function(e,t,n){var r=n(8500),i=n(7762).f;n(1025)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},4943:function(e,t,n){n(1025)("getOwnPropertyNames",(function(){return n(5009).f}))},3386:function(e,t,n){var r=n(4200),i=n(4408);n(1025)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},4649:function(e,t,n){var r=n(7481);n(1025)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},6736:function(e,t,n){var r=n(7481);n(1025)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},7260:function(e,t,n){var r=n(7481);n(1025)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},2798:function(e,t,n){var r=n(5366);r(r.S,"Object",{is:n(1541)})},81:function(e,t,n){var r=n(4200),i=n(5825);n(1025)("keys",(function(){return function(e){return i(r(e))}}))},7026:function(e,t,n){var r=n(7481),i=n(2153).onFreeze;n(1025)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},4371:function(e,t,n){var r=n(7481),i=n(2153).onFreeze;n(1025)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},6911:function(e,t,n){var r=n(5366);r(r.S,"Object",{setPrototypeOf:n(7135).set})},4394:function(e,t,n){"use strict";var r=n(2845),i={};i[n(9739)("toStringTag")]="z",i+""!="[object z]"&&n(1564)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},5072:function(e,t,n){var r=n(5366),i=n(3765);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},9315:function(e,t,n){var r=n(5366),i=n(500);r(r.G+r.F*(parseInt!=i),{parseInt:i})},2813:function(e,t,n){"use strict";var r,i,o,a,l=n(5113),s=n(6341),c=n(2794),u=n(2845),f=n(5366),d=n(7481),p=n(3079),h=n(599),m=n(2971),v=n(9789),g=n(7122).set,y=n(37)(),w=n(3285),b=n(8332),E=n(3843),S=n(8614),T="Promise",x=s.TypeError,k=s.process,C=k&&k.versions,P=C&&C.v8||"",N=s[T],_="process"==u(k),O=function(){},I=i=w.f,M=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n(9739)("species")]=function(e){e(O,O)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==P.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),F=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,l=i?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{l?(i||(2==e._h&&D(e),e._h=1),!0===l?n=r:(u&&u.enter(),n=l(r),u&&(u.exit(),a=!0)),n===t.promise?c(x("Promise-chain cycle")):(o=F(n))?o.call(n,s,c):s(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){g.call(s,(function(){var t,n,r,i=e._v,o=A(e);if(o&&(t=b((function(){_?k.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=_||A(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(s,(function(){var t;_?k.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})}))},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},V=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=F(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(V,r,1),c(R,r,1))}catch(e){R.call(r,e)}})):(n._v=e,n._s=1,j(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};M||(N=function(e){h(this,N,T,"_h"),p(e),r.call(this);try{e(c(V,this,1),c(R,this,1))}catch(e){R.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4092)(N.prototype,{then:function(e,t){var n=I(v(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(V,e,1),this.reject=c(R,e,1)},w.f=I=function(e){return e===N||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:N}),n(1309)(N,T),n(5993)(T),a=n(4411)[T],f(f.S+f.F*!M,T,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(l||!M),T,{resolve:function(e){return S(l&&this===a?N:this,e)}}),f(f.S+f.F*!(M&&n(1461)((function(e){N.all(e).catch(O)}))),T,{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var l=o++,s=!1;n.push(void 0),a++,t.resolve(e).then((function(e){s||(s=!0,n[l]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=b((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},9310:function(e,t,n){var r=n(5366),i=n(3079),o=n(9719),a=(n(6341).Reflect||{}).apply,l=Function.apply;r(r.S+r.F*!n(1240)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),s=o(n);return a?a(r,t,s):l.call(r,t,s)}})},6722:function(e,t,n){var r=n(5366),i=n(2545),o=n(3079),a=n(9719),l=n(7481),s=n(1240),c=n(6966),u=(n(6341).Reflect||{}).construct,f=s((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),d=!s((function(){u((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,p=i(l(s)?s:Object.prototype),h=Function.apply.call(e,p,t);return l(h)?h:p}})},8372:function(e,t,n){var r=n(3530),i=n(5366),o=n(9719),a=n(9241);i(i.S+i.F*n(1240)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},4604:function(e,t,n){var r=n(5366),i=n(7762).f,o=n(9719);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},4781:function(e,t,n){"use strict";var r=n(5366),i=n(9719),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(7938)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},4395:function(e,t,n){var r=n(7762),i=n(5366),o=n(9719);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},9649:function(e,t,n){var r=n(5366),i=n(4408),o=n(9719);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},8416:function(e,t,n){var r=n(7762),i=n(4408),o=n(1063),a=n(5366),l=n(7481),s=n(9719);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return s(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:l(c=i(t))?e(c,n,u):void 0}})},2475:function(e,t,n){var r=n(5366);r(r.S,"Reflect",{has:function(e,t){return t in e}})},2924:function(e,t,n){var r=n(5366),i=n(9719),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},6337:function(e,t,n){var r=n(5366);r(r.S,"Reflect",{ownKeys:n(7285)})},3286:function(e,t,n){var r=n(5366),i=n(9719),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},8766:function(e,t,n){var r=n(5366),i=n(7135);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},7225:function(e,t,n){var r=n(3530),i=n(7762),o=n(4408),a=n(1063),l=n(5366),s=n(1761),c=n(9719),u=n(7481);l(l.S,"Reflect",{set:function e(t,n,l){var f,d,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(u(d=o(t)))return e(d,n,l,p);h=s(0)}if(a(h,"value")){if(!1===h.writable||!u(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=l,r.f(p,n,f)}else r.f(p,n,s(0,l));return!0}return void 0!==h.set&&(h.set.call(p,l),!0)}})},7080:function(e,t,n){var r=n(6341),i=n(4805),o=n(3530).f,a=n(4230).f,l=n(9543),s=n(6439),c=r.RegExp,u=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(n(1916)&&(!h||n(1240)((function(){return p[n(9739)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var n=this instanceof c,r=l(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?s.call(e):t),n?this:f,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=a(u),g=0;v.length>g;)m(v[g++]);f.constructor=c,c.prototype=f,n(1564)(r,"RegExp",c)}n(5993)("RegExp")},8615:function(e,t,n){"use strict";var r=n(8868);n(5366)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},9544:function(e,t,n){n(1916)&&"g"!=/./g.flags&&n(3530).f(RegExp.prototype,"flags",{configurable:!0,get:n(6439)})},5475:function(e,t,n){"use strict";var r=n(9719),i=n(1838),o=n(9959),a=n(9073);n(5307)("match",1,(function(e,t,n,l){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=l(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this);if(!s.global)return a(s,c);var u=s.unicode;s.lastIndex=0;for(var f,d=[],p=0;null!==(f=a(s,c));){var h=String(f[0]);d[p]=h,""===h&&(s.lastIndex=o(c,i(s.lastIndex),u)),p++}return 0===p?null:d}]}))},3770:function(e,t,n){"use strict";var r=n(9719),i=n(4200),o=n(1838),a=n(1549),l=n(9959),s=n(9073),c=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(5307)("replace",2,(function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var v=f.global;if(v){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var w=s(f,d);if(null===w)break;if(y.push(w),!v)break;""===String(w[0])&&(f.lastIndex=l(d,o(f.lastIndex),g))}for(var b,E="",S=0,T=0;T<y.length;T++){w=y[T];for(var x=String(w[0]),k=c(u(a(w.index),d.length),0),C=[],P=1;P<w.length;P++)C.push(void 0===(b=w[P])?b:String(b));var N=w.groups;if(p){var _=[x].concat(C,k,d);void 0!==N&&_.push(N);var O=String(t.apply(void 0,_))}else O=m(x,d,k,C,N,t);k>=S&&(E+=d.slice(S,k)+O,S=k+x.length)}return E+d.slice(S)}];function m(e,t,r,o,a,l){var s=r+e.length,c=o.length,u=p;return void 0!==a&&(a=i(a),u=d),n.call(l,u,(function(n,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":l=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var d=f(u/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}l=o[u-1]}return void 0===l?"":l}))}}))},5201:function(e,t,n){"use strict";var r=n(9719),i=n(1541),o=n(9073);n(5307)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var l=r(e),s=String(this),c=l.lastIndex;i(c,0)||(l.lastIndex=0);var u=o(l,s);return i(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},1385:function(e,t,n){"use strict";var r=n(9543),i=n(9719),o=n(9789),a=n(9959),l=n(1838),s=n(9073),c=n(8868),u=n(1240),f=Math.min,d=[].push,p="split",h="length",m="lastIndex",v=4294967295,g=!u((function(){RegExp(v,"y")}));n(5307)("split",2,(function(e,t,n,u){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,l,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?v:t>>>0,g=new RegExp(e.source,u+"g");(o=c.call(g,i))&&!((a=g[m])>f&&(s.push(i.slice(f,o.index)),o[h]>1&&o.index<i[h]&&d.apply(s,o.slice(1)),l=o[0][h],f=a,s[h]>=p));)g[m]===o.index&&g[m]++;return f===i[h]?!l&&g.test("")||s.push(""):s.push(i.slice(f)),s[h]>p?s.slice(0,p):s}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=u(y,e,this,t,y!==n);if(r.done)return r.value;var c=i(e),d=String(this),p=o(c,RegExp),h=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),w=new p(g?c:"^(?:"+c.source+")",m),b=void 0===t?v:t>>>0;if(0===b)return[];if(0===d.length)return null===s(w,d)?[d]:[];for(var E=0,S=0,T=[];S<d.length;){w.lastIndex=g?S:0;var x,k=s(w,g?d:d.slice(S));if(null===k||(x=f(l(w.lastIndex+(g?0:S)),d.length))===E)S=a(d,S,h);else{if(T.push(d.slice(E,S)),T.length===b)return T;for(var C=1;C<=k.length-1;C++)if(T.push(k[C]),T.length===b)return T;S=E=x}}return T.push(d.slice(E)),T}]}))},5244:function(e,t,n){"use strict";n(9544);var r=n(9719),i=n(6439),o=n(1916),a="toString",l=/./[a],s=function(e){n(1564)(RegExp.prototype,a,e,!0)};n(1240)((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):l.name!=a&&s((function(){return l.call(this)}))},8253:function(e,t,n){"use strict";var r=n(5144),i=n(1603);e.exports=n(8091)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},447:function(e,t,n){"use strict";n(9048)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},5624:function(e,t,n){"use strict";n(9048)("big",(function(e){return function(){return e(this,"big","","")}}))},1263:function(e,t,n){"use strict";n(9048)("blink",(function(e){return function(){return e(this,"blink","","")}}))},5193:function(e,t,n){"use strict";n(9048)("bold",(function(e){return function(){return e(this,"b","","")}}))},2858:function(e,t,n){"use strict";var r=n(5366),i=n(7384)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},2058:function(e,t,n){"use strict";var r=n(5366),i=n(1838),o=n(3256),a="endsWith",l=""[a];r(r.P+r.F*n(6881)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),c=String(e);return l?l.call(t,c,s):t.slice(s-c.length,s)===c}})},8241:function(e,t,n){"use strict";n(9048)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},6723:function(e,t,n){"use strict";n(9048)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},9394:function(e,t,n){"use strict";n(9048)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},2539:function(e,t,n){var r=n(5366),i=n(5044),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},5472:function(e,t,n){"use strict";var r=n(5366),i=n(3256),o="includes";r(r.P+r.F*n(6881)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},6938:function(e,t,n){"use strict";n(9048)("italics",(function(e){return function(){return e(this,"i","","")}}))},4333:function(e,t,n){"use strict";var r=n(7384)(!0);n(9121)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},1961:function(e,t,n){"use strict";n(9048)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},9820:function(e,t,n){var r=n(5366),i=n(8500),o=n(1838);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],l=0;n>l;)a.push(String(t[l++])),l<r&&a.push(String(arguments[l]));return a.join("")}})},7001:function(e,t,n){var r=n(5366);r(r.P,"String",{repeat:n(5)})},9659:function(e,t,n){"use strict";n(9048)("small",(function(e){return function(){return e(this,"small","","")}}))},7492:function(e,t,n){"use strict";var r=n(5366),i=n(1838),o=n(3256),a="startsWith",l=""[a];r(r.P+r.F*n(6881)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},3354:function(e,t,n){"use strict";n(9048)("strike",(function(e){return function(){return e(this,"strike","","")}}))},9620:function(e,t,n){"use strict";n(9048)("sub",(function(e){return function(){return e(this,"sub","","")}}))},638:function(e,t,n){"use strict";n(9048)("sup",(function(e){return function(){return e(this,"sup","","")}}))},8417:function(e,t,n){"use strict";n(7370)("trim",(function(e){return function(){return e(this,3)}}))},8997:function(e,t,n){"use strict";var r=n(6341),i=n(1063),o=n(1916),a=n(5366),l=n(1564),s=n(2153).KEY,c=n(1240),u=n(7355),f=n(1309),d=n(430),p=n(9739),h=n(8833),m=n(8155),v=n(4535),g=n(689),y=n(9719),w=n(7481),b=n(4200),E=n(8500),S=n(9241),T=n(1761),x=n(2545),k=n(5009),C=n(7762),P=n(2520),N=n(3530),_=n(5825),O=C.f,I=N.f,M=k.f,F=r.Symbol,j=r.JSON,L=j&&j.stringify,A="prototype",D=p("_hidden"),R=p("toPrimitive"),V={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),H=u("op-symbols"),G=Object[A],z="function"==typeof F&&!!P.f,Z=r.QObject,W=!Z||!Z[A]||!Z[A].findChild,q=o&&c((function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(G,t);r&&delete G[t],I(e,t,n),r&&e!==G&&I(G,t,r)}:I,$=function(e){var t=U[e]=x(F[A]);return t._k=e,t},K=z&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},Y=function(e,t,n){return e===G&&Y(H,t,n),y(e),t=S(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:T(0,!1)})):(i(e,D)||I(e,D,T(1,{})),e[D][t]=!0),q(e,t,n)):I(e,t,n)},J=function(e,t){y(e);for(var n,r=v(t=E(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},Q=function(e){var t=V.call(this,e=S(e,!0));return!(this===G&&i(U,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,D)&&this[D][e])||t)},X=function(e,t){if(e=E(e),t=S(t,!0),e!==G||!i(U,t)||i(H,t)){var n=O(e,t);return!n||!i(U,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=M(E(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==D||t==s||r.push(t);return r},te=function(e){for(var t,n=e===G,r=M(n?H:E(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(G,t)||o.push(U[t]);return o};z||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(H,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),q(this,e,T(1,n))};return o&&W&&q(G,e,{configurable:!0,set:t}),$(e)},l(F[A],"toString",(function(){return this._k})),C.f=X,N.f=Y,n(4230).f=k.f=ee,n(1144).f=Q,P.f=te,o&&!n(5113)&&l(G,"propertyIsEnumerable",Q,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:F});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var ie=_(p.store),oe=0;ie.length>oe;)m(ie[oe++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=F(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?x(e):J(x(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c((function(){P.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return P.f(b(e))}}),j&&a(a.S+a.F*(!z||c((function(){var e=F();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(w(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,L.apply(j,r)}}),F[A][R]||n(8442)(F[A],R,F[A].valueOf),f(F,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},3315:function(e,t,n){"use strict";var r=n(5366),i=n(7728),o=n(9895),a=n(9719),l=n(5044),s=n(1838),c=n(7481),u=n(6341).ArrayBuffer,f=n(9789),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&u.isView,m=d.prototype.slice,v=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(u!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,g,{isView:function(e){return h&&h(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*n(1240)((function(){return!new d(2).slice(1,void 0).byteLength})),g,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new(f(this,d))(s(i-r)),c=new p(this),u=new p(o),h=0;r<i;)u.setUint8(h++,c.getUint8(r++));return o}}),n(5993)(g)},2920:function(e,t,n){var r=n(5366);r(r.G+r.W+r.F*!n(7728).ABV,{DataView:n(9895).DataView})},951:function(e,t,n){n(8754)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},29:function(e,t,n){n(8754)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6935:function(e,t,n){n(8754)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6403:function(e,t,n){n(8754)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},5443:function(e,t,n){n(8754)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},7846:function(e,t,n){n(8754)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1200:function(e,t,n){n(8754)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},9815:function(e,t,n){n(8754)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3771:function(e,t,n){n(8754)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},7391:function(e,t,n){"use strict";var r,i=n(6341),o=n(6934)(0),a=n(1564),l=n(2153),s=n(9821),c=n(3503),u=n(7481),f=n(1603),d=n(1603),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",m=l.getWeak,v=Object.isExtensible,g=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},w={get:function(e){if(u(e)){var t=m(e);return!0===t?g(f(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,h),e,t)}},b=e.exports=n(8091)(h,y,w,c,!0,!0);d&&p&&(s((r=c.getConstructor(y,h)).prototype,w),l.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!v(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},3307:function(e,t,n){"use strict";var r=n(3503),i=n(1603),o="WeakSet";n(8091)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},8125:function(e,t,n){"use strict";var r=n(5366),i=n(3885),o=n(4200),a=n(1838),l=n(3079),s=n(4087);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return l(e),t=a(r.length),n=s(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(2802)("flatMap")},9348:function(e,t,n){"use strict";var r=n(5366),i=n(1545)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(2802)("includes")},1768:function(e,t,n){var r=n(5366),i=n(5346)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},9223:function(e,t,n){var r=n(5366),i=n(7285),o=n(8500),a=n(7762),l=n(1676);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),s=a.f,c=i(r),u={},f=0;c.length>f;)void 0!==(n=s(r,t=c[f++]))&&l(u,t,n);return u}})},7442:function(e,t,n){var r=n(5366),i=n(5346)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},4936:function(e,t,n){"use strict";var r=n(5366),i=n(4411),o=n(6341),a=n(9789),l=n(8614);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}})},239:function(e,t,n){"use strict";var r=n(5366),i=n(9823),o=n(3843),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},8755:function(e,t,n){"use strict";var r=n(5366),i=n(9823),o=n(3843),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},3412:function(e,t,n){"use strict";n(7370)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},6948:function(e,t,n){"use strict";n(7370)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},8284:function(e,t,n){n(8155)("asyncIterator")},8745:function(e,t,n){for(var r=n(1308),i=n(5825),o=n(1564),a=n(6341),l=n(8442),s=n(4919),c=n(9739),u=c("iterator"),f=c("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var v,g=h[m],y=p[g],w=a[g],b=w&&w.prototype;if(b&&(b[u]||l(b,u,d),b[f]||l(b,f,g),s[g]=d,y))for(v in r)b[v]||o(b,v,r[v],!0)}},25:function(e,t,n){var r=n(5366),i=n(7122);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},1629:function(e,t,n){var r=n(6341),i=n(5366),o=n(3843),a=[].slice,l=/MSIE .\./.test(o),s=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*l,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},1523:function(e,t,n){n(1629),n(25),n(8745),e.exports=n(4411)},7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},7191:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,n){var r=n(8331);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,i=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(7191),i=n(3884),o=n(379),a=n(521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,n){var r=n(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(5666)},7427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=s(r),o=n(3935),a=n(4666),l=s(n(5697));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.state={instance:void 0},i.content=(0,r.createRef)(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t){var n=window.ui.alert;return n(e,(0,a.filterObject)(Object.keys(n.defaults),t))},t.prototype.componentDidMount=function(){var e=void 0;"notification"!==this.props.display||this.props.location?e=t.createInstance(this.content.current,this.props):(this.portal=document.createElement("div"),e=t.createInstance(this.portal,this.props)),this.props.center&&this.props.center(e.center.bind(e)),this.setState({instance:e})},t.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},t.prototype.componentDidUpdate=function(e){var t=this.props.open,n=e.open,r=this.state.instance;t&&!n?r.open():!t&&n&&r.close()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.display,a=e.id,l=e.location;return this.portal&&"notification"===r&&!l?(0,o.createPortal)(t,this.portal):i.default.createElement("div",{className:n,id:a,ref:this.content},t)},t}(r.Component);c.propTypes={animation:l.default.bool,center:l.default.func,children:l.default.any,closable:l.default.bool,destroyOnClose:l.default.bool,display:l.default.oneOf(["inline","overlay","notification","section","sitewide"]),duration:l.default.number,location:l.default.oneOf(["bottomRight","topRight"]),onClose:l.default.func,onOpen:l.default.func,onRequestClose:l.default.func,open:l.default.bool,type:l.default.oneOf(["warning","info","success","error"])},t.default=c},9559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7427);Object.defineProperty(t,"Alert",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},5732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7294),o=c(i),a=c(n(3935)),l=n(4666),s=c(n(5697));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.content=(0,i.createRef)(),r.state={instance:void 0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.Before=function(e){var t=e.before,n=e.children;return a.default.createPortal(n,t)},t.After=function(e){var t=e.after,n=e.children;return a.default.createPortal(n,t)},t.createInstance=function(e,t){var n=window.ui.autocomplete;return n(e,(0,l.filterObject)(Object.keys(n.defaults),t))},t.prototype.componentDidUpdate=function(e,t){e.source!==this.props.source&&this.state.instance.updateSource(this.props.source)},t.prototype.componentDidMount=function(){var e=this,n=r({},this.props);o.default.Children.forEach(this.props.children,(function(r){r.type===t.Before&&(e.beforePortal=document.createElement("div"),n.before=e.beforePortal),r.type===t.After&&(e.afterPortal=document.createElement("div"),n.after=e.afterPortal)}));var i=t.createInstance(this.content.current,n);this.props.close&&this.props.close(i.close.bind(i)),this.props.flush&&this.props.flush(i.flush.bind(i)),this.props.reposition&&this.props.reposition(i.reposition.bind(i)),this.props.run&&this.props.run(i.run.bind(i)),this.setState({instance:i})},t.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},t.prototype.render=function(){var e=this,n=o.default.Children.map(this.props.children,(function(n){return e.state.instance&&n.type===t.Before?o.default.cloneElement(n,{before:e.beforePortal}):e.state.instance&&n.type===t.After?o.default.cloneElement(n,{after:e.afterPortal}):void 0})),a=this.props,l=a.attributes,s=a.className,c=a.id;return o.default.createElement(i.Fragment,null,o.default.createElement("input",r({className:s,id:c,ref:this.content},l)),n)},t}(i.Component);u.propTypes={ajaxOverride:s.default.func,alwaysOpenOnFocus:s.default.bool,autocompleteClasses:s.default.string,close:s.default.func,customDisplay:s.default.func,dataType:s.default.oneOf(["json","jsonp","document","text"]),disableNoResultsMessage:s.default.bool,flush:s.default.func,highlight:s.default.oneOfType([s.default.bool,s.default.object]),jsonConversion:s.default.func,jsonp:s.default.string,matchBeginning:s.default.bool,maxResults:s.default.number,minLength:s.default.number,onChange:s.default.func,onClose:s.default.func,onCreate:s.default.func,onError:s.default.func,onFocus:s.default.func,onItemSelect:s.default.func,onOpen:s.default.func,onResponse:s.default.func,onSearch:s.default.func,reposition:s.default.func,queryParameter:s.default.string,run:s.default.func,searchKey:s.default.string.isRequired,source:s.default.oneOfType([s.default.array,s.default.string,s.default.object,s.default.func]).isRequired,timeout:s.default.number,withCredentials:s.default.bool},t.default=u},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5732);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},5396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7294),o=s(i),a=s(n(5697)),l=n(4666);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.autogrow=(0,i.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t){var n=window.ui.autogrow;return n(e,(0,l.filterObject)(Object.keys(n.defaults),t))},t.prototype.componentDidMount=function(){this.instance=t.createInstance(this.autogrow.current,this.props)},t.prototype.componentDidUpdate=function(e){var t=e.maxLines,n=this.props.maxLines;n!==t&&this.instance.setMaxLines(n)},t.prototype.componentWillUnmount=function(){this.instance.destroy()},t.prototype.render=function(){var e=r({},this.props);return delete e.maxLines,o.default.createElement("textarea",r({ref:this.autogrow},e))},t}(i.Component);c.propTypes={maxLines:a.default.number},t.default=c},7208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5396);Object.defineProperty(t,"Autogrow",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},3178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(7294)),o=a(n(4184));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.children,n=e.className,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className"]);return i.default.createElement("button",r({className:(0,o.default)("ancBtn",n)},a),t)}},1688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3178);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(7294),o=(r=i)&&r.__esModule?r:{default:r},a=n(3935),l=n(5697),s=n(4666),c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={instance:void 0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t,n){var r=(0,s.filterObject)(Object.keys(window.ui.callout.defaults),n);return r.content=e,window.ui.callout(t,r)},t.prototype.componentDidMount=function(){this.portal=document.createElement("div");var e=t.createInstance(this.portal,this.props.trigger.current,this.props);this.setState({instance:e}),this.props.reposition&&this.props.reposition(e.reposition.bind(e))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.open,r=t.position,i=t.width,o=e.open,a=e.position,l=e.width,s=this.state.instance;n&&!o?s.open():!n&&o&&s.close(),r!==a&&s.reposition(r),i!==l&&s.updateWidth(i)},t.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},t.prototype.render=function(){var e=this.props.children;return this.state.instance?(0,a.createPortal)(e,this.portal):o.default.createElement("div",{className:"callout"},e)},t}(i.Component);c.propTypes={calloutClasses:l.string,calloutStyle:(0,l.oneOf)(["alt","dark","light"]),classes:l.string,disableAutofocusOnOpen:l.bool,hidePointer:l.bool,onAfterOpen:l.func,onClose:l.func,onOpen:l.func,onRequestAction:l.func,open:l.bool,position:(0,l.oneOf)(["bottom","left","right","top"]),reposition:l.func,trigger:l.object,type:(0,l.oneOf)(["click","field","guidance","hover"]),width:(0,l.oneOfType)([l.string,l.number])},t.default=c},9618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(499);Object.defineProperty(t,"Callout",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},5481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=s(r),o=n(4666),a=s(n(5697)),l=s(n(4184));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.carousel=(0,r.createRef)(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.Slide=function(e){var t=e.children;return i.default.createElement("li",{className:"carouselSlide"},t)},t.createInstance=function(e,t){var n=window.ui.carousel,r=(0,o.filterObject)(Object.keys(n.defaults),t);return r.firstSlide=t.currentSlide,n(e,r)},t.prototype.componentDidMount=function(){this.instance=t.createInstance(this.carousel.current,this.props),this.props.pause&&this.props.pause(this.instance.pause.bind(this.instance)),this.props.play&&this.props.play(this.instance.play.bind(this.instance)),this.props.repopulateSlides&&this.props.repopulateSlides(this.instance.repopulateSlides.bind(this.instance)),this.props.setPositions&&this.props.setPositions(this.instance.setPositions.bind(this.instance)),this.props.setButtonState&&this.props.setButtonState(this.instance.setButtonState.bind(this.instance))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.currentSlide,r=t.noFocusChange;n!==e.currentSlide&&this.instance.goToSlide(n,r)},t.prototype.componentWillUnmount=function(){this.instance.destroy()},t.prototype.render=function(){var e=this.props,t=e.arrowsOutside,n=e.centered,r=e.children,o=e.className,a=e.id,s=e.padded,c=(0,l.default)("carousel loading",{carouselArrowsOutside:t,carouselCentered:n,carouselPadded:s},o);return i.default.createElement("div",{ref:this.carousel,className:c,id:a},i.default.createElement("ol",{className:"carouselInner"},r))},t}(r.Component);c.defaultProps={currentSlide:0},c.propTypes={activeBtnClass:a.default.string,activeSlideClass:a.default.string,arrowsOutside:a.default.bool,autoscroll:a.default.number,carouselHeight:a.default.string,centered:a.default.bool,continuous:a.default.bool,currentSlide:a.default.oneOfType([a.default.number,a.default.string]),disabledBtnClass:a.default.string,disableTouchEvents:a.default.bool,fullWidth:a.default.bool,infinite:a.default.bool,onAfterSlideChange:a.default.func,onSlideChange:a.default.func,onSlideLoad:a.default.func,onRequestSlide:a.default.func,pagination:a.default.oneOf(["dots","numbers"]),padded:a.default.bool,pause:a.default.func,pausePlayBtnClass:a.default.string,play:a.default.func,playOnLoad:a.default.bool,repopulateSlides:a.default.func,scrollTime:a.default.number,setButtonState:a.default.func,setPositions:a.default.func,showPausePlayBtns:a.default.bool,showPreviews:a.default.bool,showPrevNextBtns:a.default.oneOfType([a.default.oneOf(["desktop"]),a.default.bool]),slidesPerScroll:a.default.oneOfType([a.default.string,a.default.number])},t.default=c},7536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5481);Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},7615:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7294),a=(r=o)&&r.__esModule?r:{default:r},l=n(1073),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.input=(0,o.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.config.collection.push(this.input.current)},t.prototype.render=function(){var e=this.props,t=(e.config,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["config"]));return a.default.createElement("input",i({ref:this.input,type:"checkbox"},t))},t}(o.Component);t.default=(0,l.withFormCollectionContext)(s)},9908:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7294),a=(r=o)&&r.__esModule?r:{default:r},l=n(1073),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={config:{legend:"",collection:[]}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){for(var e={collection:this.state.config.collection},t=i({},this.props),n=["collection","errorLocation","errorMessage","pattern","match","maxLength","minLength","required","extensions","when"],r=0;r<n.length;++r){var o=n[r],a=this.props[o];a&&(e[o]=a),delete t[o]}delete t.validationConfig,this.props.validationConfig[this.state.config.legend]=e},t.prototype.render=function(){var e=this.props.children;return a.default.createElement(l.FormCollectionContext.Provider,{value:this.state.config},a.default.createElement("fieldset",null,e))},t}(o.Component);t.default=(0,l.withFormContext)(s)},1073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withFormCollectionContext=t.withFormContext=t.FormCollectionContext=t.FormContext=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7294),a=(r=o)&&r.__esModule?r:{default:r},l=t.FormContext=(0,o.createContext)(),s=t.FormCollectionContext=(0,o.createContext)();t.withFormContext=function(e){return function(t){return a.default.createElement(l.Consumer,null,(function(n){return a.default.createElement(e,i({validationConfig:n},t))}))}},t.withFormCollectionContext=function(e){return function(t){return a.default.createElement(s.Consumer,null,(function(n){return a.default.createElement(e,i({config:n},t))}))}},t.default=l},7857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7294),o=m(i),a=m(n(5697)),l=m(n(4184)),s=n(4666),c=n(1073),u=m(n(4275)),f=m(n(9908)),d=m(n(4873)),p=m(n(7615)),h=m(n(1236));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return y.call(r),r.validationConfig={},r.form=o.default.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t,n,r){var i=window.ui.validator,o=(0,s.filterObject)(Object.keys(i.defaults),t);return o.onSubmit=r,o.fields=n,i(e,o)},t.prototype.componentDidMount=function(){this.instance=t.createInstance(this.form.current,this.props,this.validationConfig,this._handleFormSubmit)},t.prototype.render=function(){var e=this.props,t=e.children,n=(e.onSubmit,e.allowMultipleSubmissions,v(e,["children","onSubmit","allowMultipleSubmissions"]));return o.default.createElement(c.FormContext.Provider,{value:this.validationConfig},o.default.createElement("form",r({ref:this.form},n),t))},t}(i.Component);g.Collection=f.default,g.Legend=h.default,g.CheckBox=p.default,g.Radio=d.default,g.Input=(0,u.default)((function(e){return o.default.createElement("input",e)})),g.TextArea=(0,u.default)((function(e){return o.default.createElement("textarea",e)})),g.Select=(0,u.default)((function(e){var t=e.children,n=v(e,["children"]);return o.default.createElement("select",n,t)})),g.Footer=function(e){var t=e.className,n=e.children,i=v(e,["className","children"]);return o.default.createElement("div",r({className:(0,l.default)("formFooter",t)},i),n)};var y=function(){var e=this;this._handleFormSubmit=function(t){for(var n=t.valid,r=t.fields,i={},o=0;o<r.length;++o){var a=r[o];"submit"!==a.type&&("checkbox"===a.type?i[a.name]=a.checked:("radio"===a.type&&a.checked||"radio"!==a.type)&&(i[a.name]=a.value))}e.props.onSubmit({valid:n,values:i,raw:r})}};g.propTypes={allowMultipleSubmissions:a.default.bool,onSubmit:a.default.func,submitButton:a.default.element},t.default=g},1236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7294),a=(r=o)&&r.__esModule?r:{default:r},l=n(1073),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.config,n=e.id,r=e.children,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["config","id","children"]);return n||console.warn("An ID is required to do validation on the collection"),t.legend=n,a.default.createElement("legend",i({id:n},o),r)},t}(o.Component);t.default=(0,l.withFormCollectionContext)(s)},4873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7294),a=(r=o)&&r.__esModule?r:{default:r},l=n(1073),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.input=(0,o.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.config.collection.push(this.input.current)},t.prototype.render=function(){var e=this.props,t=(e.config,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["config"]));return a.default.createElement("input",i({ref:this.input,type:"radio"},t))},t}(o.Component);t.default=(0,l.withFormCollectionContext)(s)},6202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7857);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},4275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(7294)),o=l(n(5697)),a=n(1073);function l(e){return e&&e.__esModule?e:{default:e}}var s=["collection","errorLocation","errorMessage","pattern","match","maxLength","minLength","required","extensions","when"];t.default=function(e){var t=function(t){var n=t.validationConfig,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["validationConfig"]),o={},a=Object.keys(r).reduce((function(e,t){if(s.includes(t)){var n=r[t];return n&&(o[t]=n),e}return e[t]=r[t],e}),{});return Object.getOwnPropertyNames(o).length>0&&(n[t.id]=o),i.default.createElement(e,a)};return t.propTypes=r({validationConfig:o.default.object},e.propTypes),(0,a.withFormContext)(t)}},2286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9559);Object.defineProperty(t,"Alert",{enumerable:!0,get:function(){return r.Alert}});var i=n(309);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return i.Autocomplete}});var o=n(7208);Object.defineProperty(t,"Autogrow",{enumerable:!0,get:function(){return o.Autogrow}});var a=n(1688);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return a.Button}});var l=n(9618);Object.defineProperty(t,"Callout",{enumerable:!0,get:function(){return l.Callout}});var s=n(7536);Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return s.Carousel}});var c=n(6202);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return c.Form}});var u=n(5925);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return u.Modal}});var f=n(9153);Object.defineProperty(t,"Paging",{enumerable:!0,get:function(){return f.Paging}}),Object.defineProperty(t,"DualPaging",{enumerable:!0,get:function(){return f.DualPaging}});var d=n(2938);Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return d.Switch}});var p=n(8050);Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return p.Tabs}})},5925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7744);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},7744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=s(r),o=n(3935),a=n(4666),l=s(n(5697));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={instance:void 0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t){var n=window.ui.modal,r=(0,a.filterObject)(Object.keys(n.defaults),t);return r.destroyOnClose=!1,n(e,r)},t.prototype.componentDidMount=function(){this.portal=document.createElement("div");var e=t.createInstance(this.portal,this.props);this.setState({instance:e})},t.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.open,r=t.scrollTop,i=t.showLoading,o=t.width,a=e.open,l=e.scrollTop,s=e.showLoading,c=e.width,u=this.state.instance;n&&!a?u.open():!n&&a&&u.close(),o!==c&&u.resize(o),r!==l&&u.scrollTop(r),i!==s&&u.showLoading(i)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.children,r=n;return t&&(r=[i.default.createElement("header",{className:"modalHeader",key:"modal-header-key"},i.default.createElement("h4",{className:"modalTitle"},t))].concat(i.default.Children.toArray(n))),this.state.instance?(0,o.createPortal)(r,this.portal):i.default.createElement("div",{className:"modal"},r)},t}(r.Component);c.defaultProps={open:!1},c.propTypes={bgDarkClose:l.default.bool,closeOnBkgClick:l.default.bool,destroyOnClose:l.default.bool,hideCloseBtn:l.default.bool,onClose:l.default.func,onOpen:l.default.func,onRequestClose:l.default.func,open:l.default.bool,scrollTop:l.default.number,showLoading:l.default.bool,trigger:l.default.node,useCustomPadding:l.default.bool,width:l.default.oneOfType([l.default.string,l.default.number])},t.default=c},4198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(7294)),o=l(n(5697)),a=l(n(5283));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.children,n=e.pagingChildren,o=e.topClassName,l=e.bottomClassName;return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,r({},e,{className:o}),n),t,i.default.createElement(a.default,r({},e,{onChange:void 0,className:l}),n))};s.propTypes=r({topClassName:o.default.string,bottomClassName:o.default.string},a.default.propTypes),t.default=s},9153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5283);Object.defineProperty(t,"Paging",{enumerable:!0,get:function(){return o(r).default}});var i=n(4198);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DualPaging",{enumerable:!0,get:function(){return o(i).default}})},5283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=s(r),o=s(n(5697)),a=s(n(4184)),l=n(4666);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.nav=(0,r.createRef)(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e,t){var n=window.ui.paging;return n(e,(0,l.filterObject)(Object.keys(n.defaults),t))},t.prototype.componentDidMount=function(){this.instance=t.createInstance(this.nav.current,this.props),this.props.replaceDropdown&&this.props.replaceDropdown(this.instance.replaceDropdown.bind(this.instance))},t.prototype.componentDidUpdate=function(){this.instance.goToPage(this.props.current),this.instance.setTotal(this.props.total)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.id,o=e.right,l=e.total,s=(0,a.default)("paging",{pagingRight:o},n);return i.default.createElement("nav",{ref:this.nav,className:s,id:r,total:l},t)},t}(r.Component);c.propTypes={allowedPages:o.default.object,current:o.default.number.isRequired,display:o.default.oneOf(["input","select","text"]),nextUrl:o.default.string,onChange:o.default.func,onRequestPage:o.default.func.isRequired,previousUrl:o.default.string,replaceDropdown:o.default.func,right:o.default.bool,total:o.default.number.isRequired,url:o.default.string},t.default=c},2938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5029);Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},5029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=l(r),o=l(n(4184)),a=l(n(5697));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.state={id:""},i.input=(0,r.createRef)(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e){return(0,window.ui.switch)(e)},t.prototype.componentDidMount=function(){var e=this.props.id||"switch-"+window.ui.getRandomNumber();this.setState({id:e}),this.instance=t.createInstance(this.input.current)},t.prototype.componentWillUnmount=function(){this.instance.destroy(),this.instance=void 0,this.input=void 0,this.options=void 0},t.prototype.render=function(){var e=this.props,t=e.checked,n=e.children,a=e.className,l=e.offLabel,s=e.onLabel,c=e.onChange,u=e.isMenuItem,f=e.name,d=e.value,p=(0,o.default)(a,{link:u}),h=l&&s;return i.default.createElement(r.Fragment,null,i.default.createElement("input",{ref:this.input,onChange:c,className:"switch",defaultChecked:t,id:this.state.id,name:f||this.state.id,type:"checkbox",value:d}),i.default.createElement("label",{htmlFor:this.state.id,className:p},i.default.createElement("span",{className:"switchHandle","data-label-off":h?l:void 0,"data-label-on":h?s:void 0},i.default.createElement("span",null)),n))},t}(r.Component);s.propTypes={checked:a.default.bool,children:a.default.node.isRequired,id:a.default.string,isMenuItem:a.default.bool,name:a.default.string,offLabel:a.default.string,onChange:a.default.func,onLabel:a.default.string,value:a.default.string},s.defaultProps={checked:!1,id:void 0,isMenuItem:!1,name:void 0,offLabel:void 0,onChange:void 0,onLabel:void 0,value:void 0},t.default=s},8050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9119);Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},6798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7294),o=l(i),a=l(n(9072));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.content=(0,i.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.tabChildren.content=this.content.current},t.prototype.render=function(){return o.default.createElement("div",{className:this.props.className,ref:this.content},this.props.children)},t}(i.Component);t.default=function(e){return o.default.createElement(a.default.Consumer,null,(function(t){return o.default.createElement(s,r({},e,{tabChildren:t}))}))},t.Content=s},9072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294);t.default=(0,r.createContext)()},9119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7294),i=u(r),o=u(n(5697)),a=u(n(9072)),l=u(n(7364)),s=u(n(6798)),c=n(4666);function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.tabChildren={},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createInstance=function(e){var t=window.ui.tabs,n=(0,c.filterObject)(Object.keys(t.defaults),e);return n.content=void 0,t(null,n)},t.prototype.componentDidMount=function(){var e=t.createInstance(this.props);e.createNav(this.tabChildren.nav),e.createContent(this.tabChildren.content),this.props.resize&&this.props.resize(e.resize.bind(e)),this.setState({mediator:e})},t.prototype.componentDidUpdate=function(e){var t=e.activeIndex,n=this.props.activeIndex;t!==n&&this.state.mediator.open(n)},t.prototype.componentWillUnmount=function(){this.state.mediator&&this.state.mediator.destroy()},t.prototype.render=function(){return i.default.createElement(a.default.Provider,{value:this.tabChildren},this.props.children)},t}(r.Component);f.Nav=l.default,f.Content=s.default,f.propTypes={activeIndex:o.default.number,allowUrls:o.default.bool,onOpen:o.default.func,onRequestTab:o.default.func,overrideOverflow:o.default.bool},t.default=f},7364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7294),o=s(i),a=s(n(4184)),l=s(n(9072));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.nav=(0,i.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.tabChildren.nav=this.nav.current},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.tabChildren,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","tabChildren"])),i=(0,a.default)("tabs",t);return o.default.createElement("div",r({},n,{className:i,ref:this.nav}),this.props.children)},t}(i.Component);t.default=function(e){return o.default.createElement(l.default.Consumer,null,(function(t){return o.default.createElement(c,r({},e,{tabChildren:t}))}))},t.Nav=c},4983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2286);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(r)},7511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce((function(e,n){return Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]),e}),{})}},4666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7511);Object.defineProperty(t,"filterObject",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},644:function(e){e.exports={HideGuidance:"hide_guidance",OwnTree:"show_own_tree",VisitorWithNoTree:"show_visitor_tree_0",VisitorWithOneTree:"show_visitor_tree_1",VisitorWithManyTrees:"show_visitor_tree_many",IntroducingActivity:"introducing_activity"}},9920:function(e,t,n){"use strict";var r=n(3038),i=n(9713),o=n(319),a=n(8),l=n(4575),s=n(3913),c=n(2205),u=n(8585),f=n(9754);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=n(1853),g=n(2094),y=n(7311),w=n(4596),b=n(1460).default,E=w.computeRelativeTypeToFocus,S=w.labels,T=50,x={},k={};function C(e,t){if(0!==t){var n,r=[],i=h(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.indexOf(o)<0&&(o.Left=o.position.left+t),r.push(o)}}catch(e){i.e(e)}finally{i.f()}}}function P(e){if(!(e instanceof g))return null;if("spouse"!==e.relativeType)return e.kids.length>0?e.kids[0]:null;var t=e.spouses.find((function(e){return"Mother"===e.relativeType||"Father"===e.relativeType}));return t&&t.kids.length>0?t.kids[0]:null}function N(e,t){return e.position.left-t.position.left}function _(e){if("number"!=typeof e||isNaN(e))throw new Error("invalid generation")}function O(e){if(!Array.isArray(e))throw new Error("missing nodeList");var t,n=null,r=null,i=h(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;(!n||o.position.left<n.position.left)&&(n=o),(!r||o.position.left>r.position.left)&&(r=o)}}catch(e){i.e(e)}finally{i.f()}return{leftMostNode:n?n.position.left:null,rightMostNode:r?r.position.left:null}}var I=function(e){c(d,e);var t,n,i=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function d(e,t,n){var r;if(l(this,d),!e||"object"!==a(e)||!e.JSON)throw new Error("missing treeData");if(!n||"object"!==a(n))throw new Error("missing opts object");var o=n.refreshTreeCallback,s=n.containerHeight,c=n.nodeWidth,u=n.largeNodeHeight,f=n.smallNodeHeight,p=n.maxGeneration,h=n.canAddPerson,m=n.newFamilyView,v=n.showLabels,g=n.showAllSpouses,y=n.kinshipLabels;return(r=i.call(this,e.JSON,t,s,c,u,f,5,!0)).connectors=[],r.lineText=[],r.maxGeneration=p,r.canAddPerson=!1!==h,r.newFamilyView=!0===m,r.showLineLabels=!0===v,r.showAllSpouses=!0===g,r.kinshipLabels=y||null,r.spacing={spouseLineSeparation:5.5,lineSeparation:v?18:5.5,spouse:128,sibling:138,gen:v?100:56,spouseLine:20,marriageConnectorHeight:30},r.MinLeft=0,r.MaxLeft=0,r.MinBottom=0,r.MaxBottom=0,r.TreeData=e,r.refreshcallback=o,r}return s(d,[{key:"ToggleState",get:function(){var e=this;return o(new Set(this.nodes.filter((function(e){return!e.isNew&&"spouse"!==e.relativeType})).map((function(t){return e.TreeData.GetPerson(t.gid)})).filter((function(e){return!!e})))).map((function(t){var n=t.State;return e.showAllSpouses&&Array.isArray(n.s)&&delete n.s,n})).filter((function(e){return!!e&&(Array.isArray(e.v)||Array.isArray(e.s))}))}},{key:"RenderConnectors",value:function(e){if("function"!=typeof e)throw new Error("Missing callback");return this.connectors.map(e)}},{key:"RenderLineText",value:function(e){if("function"!=typeof e)throw new Error("Missing callback");return this.showLineLabels?this.lineText.map(e):null}},{key:"RenderPrintNodes",value:function(e,t){if("function"!=typeof e)throw new Error("Missing callback");return this.nodes.filter((function(e){var n=t.top+e.position.height,r=t.top-t.height-e.position.height,i=-t.left-e.position.width,o=-t.left+t.width+e.position.width,a=e.position.bottom<n&&e.position.bottom>r,l=e.position.left>i&&e.position.left<o;return a&&l})).map(e)}},{key:"Width",get:function(){return this._width}},{key:"Height",get:function(){return this._height}},{key:"draw",value:function(){var e={bottom:0,left:0,height:this.nodeSize.height,width:this.nodeSize.width};this.cleanup(),this._width=this.nodeSize.width,this._height=this.nodeSize.height,this.horizontallyCenter(e);var t=new g(this.rootPersonGid,e,0,"focusPerson",this.spacing.spouse);this.nodes.push(t),this.drawFamilyView(t),this.drawConnectingLines()}},{key:"drawSpouseLine",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("number"==typeof n&&0!==n){var o=n>0?e:e+n,a=n>0?e+n:e;this.lines.push({x1:o,x2:a,y1:t,y2:t,new:!1,gender:r,isDotted:i,t:"s"})}}},{key:"drawFamilyView",value:function(e){d.AssertValidLayouterNode(e),this.drawDescendants(e),this.drawAncestors(e),this.drawSiblings(e),this.drawCousins(e),this.alignNodes(),this.setTreeMinMaxValues()}},{key:"drawConnectingLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.lines.length=0,this.connectors.length=0,this.lineText.length=0,this.drawAllSpouseLines(),e||this.adjustGenerationSpacing(),this.setTreeMinMaxValues()}},{key:"getLineMinMaxValues",value:function(){var e,t={},n=h(this.lines.filter((function(e){return"h"===e.t})));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t[r.generation];i?(i.min=Math.min(i.min,r.y1),i.max=Math.max(i.max,r.y1)):t[r.generation]={gen:r.generation,min:r.y1,max:r.y1}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"setTreeMinMaxValues",value:function(){var e=o(this.nodes).sort(N);this.MinLeft=e[0].position.left,this.MaxLeft=e[e.length-1].position.left,this.MinBottom=this.nodes[this.nodes.length-1].position.bottom,this.MaxBottom=this.nodes[0].position.bottom}},{key:"adjustGenerationSpacing",value:function(){var e=this.getLineMinMaxValues(),t=[];for(var n in e){var r=e[n],i=r.gen;i>=0&&i++;var o=this.getNewGenerationSpacing(i,r);null!==o&&t.push({gen:i,value:o})}this.updateSpacings(t)}},{key:"getNewGenerationSpacing",value:function(e,t){var n,r=this.getGenerationSpacing(e);return n=1+(2+(t.max-t.min)/this.spacing.lineSeparation)*this.spacing.lineSeparation,n+=this.showLineLabels?80:60,r!==(n=Math.round(Math.max(n,this.spacing.gen)))?n:null}},{key:"updateSpacings",value:function(e){if(Array.isArray(e)&&!(e.length<1)){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.setGenerationSpacing(r.gen,r.value)}}catch(e){n.e(e)}finally{n.f()}var i,o=h(this.nodes);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.position.bottom=this.getBottomPosition(a.generation),a.spouseLinesDrawn=!1,a.linesDrawn=!1}}catch(e){o.e(e)}finally{o.f()}this.drawConnectingLines(!0)}}},{key:"getVisibleNodes",value:function(e,t){var n=this;if(!e||"object"!==a(e)||!t||"object"!==a(t))return this.nodes;var r=t.scale,i=t.translation;return"number"!=typeof r||r<=0||!i||"object"!==a(i)||"number"!=typeof i.x||"number"!=typeof i.y?this.nodes:this.nodes.filter((function(t){var o=t.position.left+i.x/r,a=i.y/r-t.position.bottom+188/r;return(o+n.nodeSize.width)*r>=0&&o*r<e.w&&a*r>=100&&a*r-n.nodeSize.height<e.h}))}},{key:"sortNodes",value:function(e){this.nodes.sort((function(t,n){var r=n.generation-t.generation;return e?r:0===r?t.position.left-n.position.left:r}))}},{key:"alignNodes",value:function(){var e=this;this.sortNodes(!1);for(var t=!1,n=function(){var n=0===r,i=e.nodes.filter((function(e){return 2===e.generation&&e.xAnchor===(n?-1:1)}));if(i.length<1)return"continue";var o=n?e.nodeSize.width+e.spacing.spouseLine:280+e.nodeSize.width/2*1;0!=(o-=i[n?i.length-1:0].position.left)&&(C(i,o),t=!0)},r=0;r<=1;r++)n();t&&this.sortNodes(!1)}},{key:"drawAncestors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||e.isNew)return[];var n,r=this.spacing.spouse-this.nodeSize.width,i=this.drawParent(e,"F",0,!0),a=this.drawParent(e,"M",this.spacing.spouse,!1),l=[].concat(o(i),o(a)),s=h(l);try{for(s.s();!(n=s.n()).done;)n.value.xAnchor=t}catch(e){s.e(e)}finally{s.f()}e.father&&(e.father.spouses.push(e.mother),e.father.kids.push(e)),e.mother&&(e.mother.spouses.push(e.father),e.mother.kids.push(e));var c=this.nodeSize.width/2,u=e.position.left;if(1===t)u+=c-O(l).leftMostNode;else if(-1===t){var f=O(l).rightMostNode;u+=c-this.nodeSize.width-f}else u=u-c-r/2;C(l,u);var d=e.generation<2,p=e.generation<2;if(p||d){var m=0!==t?t:-1;i=p?this.drawAncestors(i[0],m):[];var v=0!==t?t:1,g=O(a=d?this.drawAncestors(a[0],v):[]),y=O(i),w=this.nodes[0].position.left+t*(c+r/2+this.nodeSize.width);t>0?(C(i,w-y.leftMostNode),C(a,(null!==y.rightMostNode?y.rightMostNode+this.spacing.sibling:w)-g.leftMostNode)):t<0&&(C(a,w-g.rightMostNode),C(i,(null!==(g=O(a)).leftMostNode?g.leftMostNode-this.spacing.sibling:w)-y.rightMostNode))}return l}},{key:"drawDescendants",value:function(e){this.findFamilies(e,2),this.positionSpouses(e);var t=this.getKidsGroups(e);this.drawKidGroups(e,t,!1,!0);var n,r=this.getGenerationNodes(-1),i=this.getGenerationNodes(-2),a=[],l=[],s=h(r);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!(a.indexOf(c)>=0)){var u=c.SpousesGroup,f=this.getChildrenOfSpouseGroup(u,!0);if(a.length>0){var d=c.Left-a[a.length-1].Right-T;if(l.length>0){var p=i.find((function(e){return l.indexOf(e)<0}))||null;if(p&&(d=Math.min(d,p.Left-l[l.length-1].Right-T),f.length>0)){var m=l[l.length-1].Right+d,v=u[0].Left-T;m>v&&(d-=m-v)}}C(a,d),C(l,d)}a.push.apply(a,o(u)),l.push.apply(l,o(f))}}}catch(e){s.e(e)}finally{s.f()}if(r.length>0){var g=r[r.length-1],y=r[0],w=g.Right-y.Left,b=(e.Left+e.Right)/2,E=y.Left-b+w/2,S=this.nodes.filter((function(e){return e.generation<0}));C(S,-E)}}},{key:"showSpouses",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t?(r||(r=t.Spouses.map((function(e){return e.tgid.v}))),r.length>0&&!r.some((function(e){return!n.TreeData.GetPerson(e)}))&&(r=o(new Set(r)),this.sortSpouseGids(r,e.gid),this.showAllSpouses?r.forEach((function(e){return t.ShowSpouse(e)})):r.some((function(e){return t.IsSpouseVisible(e)}))||t.ShowSpouse(r[0])),r.filter((function(e){return t.IsSpouseVisible(e)}))):[]}},{key:"getSortedKidGids",value:function(e,t){var n=this,r=[],i=t.indexOf(e),a=t.length>3&&1===i,l=new Set;return t.forEach((function(e){var t=n.TreeData.GetPerson(e.gid);t&&(t.Children.forEach((function(e){return l.add(e)})),r.push(t))})),o(l).map((function(e){var t=r.filter((function(t){return t.Children.indexOf(e)>=0})).map((function(e){return r.indexOf(e)})).sort((function(e,t){return e-t}));return a&&t.reverse(),1===t.length&&t.push(t[0]),{gid:e,pkey:t.join("|")}})).sort((function(e,t){var r=e.pkey.split("|"),i=t.pkey.split("|"),o=r[0]-i[0];return 0===o&&(o=r[1]-i[1]),0===o?n.TreeData.CompareBirthDates(e.gid,t.gid):o})).map((function(e){return e.gid}))}},{key:"drawSiblings",value:function(e){for(var t=this.findSiblingsOfRoot(e),n=t.indexOf(e.gid),r={top:e.Left,bottom:e.TreeLeft},i=n-1;i>=0;i--)this.drawCompactFamilyGroup(e,t[i],i<n,r);r={top:e.Right,bottom:e.TreeRight};for(var o=n+1;o<t.length;o++)this.drawCompactFamilyGroup(e,t[o],o<n,r)}},{key:"findSiblingsOfRoot",value:function(e){var t=this,n=[],r=e.AllParentNodes;return this.findSiblings(e.gid).sort((function(e,i){var o=function(e){var i=t.findRelativeGids(e,["F"]),o=i?r.indexOf(r.find((function(e){return i&&e&&i.indexOf(e.gid)>=0}))):-1,a=t.findRelativeGids(e,["M"]),l=a?r.indexOf(r.find((function(e){return a&&e&&a.indexOf(e.gid)>=0}))):-1;return o<0&&l<0&&(!t.newFamilyView||t.TreeData.GetPerson(e))&&n.push(e),o>=0&&l>=0?(o+l)/2:Math.max(o,l)};return o(e)-o(i)})).filter((function(e){return n.indexOf(e)<0}))}},{key:"drawCompactFamilyGroup",value:function(e,t,n,r){var i=this.nodes.length,o=this.createSiblingNode(t,e,r.top,n),a=r.bottom,l=this.getNodeSubset(i),s=l[0],c=l[l.length-1],u=!l.some((function(t){return t.generation!==e.generation})),f=r.top;if(n){if(!u)if(c.Right+T>a)f=Math.min(a,f);else{for(var d=c;d.generation!==e.generation;)d=l[l.indexOf(d)-1];for(var p=c;p.generation===e.generation;)p=l[l.indexOf(p)-1];var h=p.position.left-d.position.left,m=r.bottom-r.top;m>=h&&(f=a-(m-h))}f-=this.spacing.sibling+c.position.left}else{if(!u)if(s.Left<a)f=Math.max(a,f);else{var v=l.find((function(t){return t.generation===e.generation})),g=l.find((function(t){return t.generation!==e.generation})),y=v.position.left-g.position.left,w=r.top-r.bottom;w>y&&(f=a+(w-y))}f+=T-s.position.left}return C(l,f),n?(r.top=o.Left,r.bottom=u?a:Math.min(s.position.left,a)):(r.top=o.Right,r.bottom=u?a:Math.max(c.Right,a)),o}},{key:"createSiblingNode",value:function(e,t,n,r){var i=new g(e,p({},t.position),t.generation,"sibling",this.spacing.spouse);if(i.Left=n,this.nodes.push(i),t.generation<2&&this.findFamilies(i,1),this.positionSpouses(i,r,n),this.linkSiblingToParents(t,i),t.generation<2){var o=this.getKidsGroups(i);this.drawKidGroups(i,o,!0)}return i}},{key:"linkSiblingToParents",value:function(e,t){var n=e.AllParentNodes,i=this.findRelativeGids(t.gid,["F"]),o=n.filter((function(e){return i&&e&&i.indexOf(e.gid)>=0})),a=r(o,1);t.father=a[0];var l=this.findRelativeGids(t.gid,["M"]),s=n.filter((function(e){return l&&e&&l.indexOf(e.gid)>=0})),c=r(s,1);t.mother=c[0],!t.father&&e.father&&e.father.isNew&&t.mother===e.mother&&(t.father=e.father),!t.mother&&e.mother&&e.mother.isNew&&t.father===e.father&&(t.mother=e.mother),t.father&&t.father.kids.indexOf(t)<0&&t.father.kids.push(t),t.mother&&t.mother.kids.indexOf(t)<0&&t.mother.kids.push(t)}},{key:"getNodeSubset",value:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>=this.nodes.length)throw new Error("invalid startIndex");return this.nodes.slice(e,this.nodes.length).sort(N)}},{key:"drawCousins",value:function(e){var t=this,n=function e(n,r,i,o){var a=t.findSiblings(n.gid).map((function(e){return{gid:e}})),l=n.AllParentNodes;r&&(a.reverse(),l.reverse());var s,c=[n.gid],u={top:i,bottom:o},f=h(l);try{for(f.s();!(s=f.n()).done;){var d,p=s.value,m=h(a);try{var v=function(){var e=d.value;if(c.indexOf(e.gid)>=0)return"continue";var i=t.findRelativeGids(e.gid,["F","M"]);if(!i||i.indexOf(p.gid)<0)return"continue";if(n.mother&&n.father&&i.indexOf(n.mother.gid)>=0&&i.indexOf(n.father.gid)>=0)return"continue";c.push(e.gid);var o=t.drawCompactFamilyGroup(n,e.gid,r,u);o.xAnchor=n.xAnchor;var a=t.findRelativeGids(e.gid,["M"])||[],s=t.findRelativeGids(e.gid,["F"])||[];p===n.father&&n.mother&&n.mother.isNew&&0===a.length||p===n.mother&&n.father&&n.father.isNew&&0===s.length?(o.mother=n.mother,o.father=n.father):(a.length>0&&(o.mother=l.find((function(e){return a.indexOf(e.gid)>=0}))||null),s.length>0&&(o.father=l.find((function(e){return s.indexOf(e.gid)>=0}))||null)),p.kids.push(o)};for(m.s();!(d=m.n()).done;)v()}catch(e){m.e(e)}finally{m.f()}if(n.mother&&n.father&&(p===r?n.mother.gid:n.father.gid)){var g,y=h(a);try{for(y.s();!(g=y.n()).done;){var w=g.value;if(!(c.indexOf(w.gid)>=0)){var b=t.findRelativeGids(w.gid,["F","M"]);if(!b||b.indexOf(n.mother.gid)>=0&&b.indexOf(n.father.gid)>=0){c.push(w.gid);var E=t.drawCompactFamilyGroup(n,w.gid,r,u);E.xAnchor=n.xAnchor,E.mother=n.mother,E.father=n.father,n.mother.kids.push(E),n.father.kids.push(E)}}}}catch(e){y.e(e)}finally{y.f()}}}}catch(e){f.e(e)}finally{f.f()}if(1===n.generation){if(n.father){var S,T=n.father.position.left,x=h(n.father.spouses);try{for(x.s();!(S=x.n()).done;){var k=S.value;T=k?Math.min(k.position.left,T):T}}catch(e){x.e(e)}finally{x.f()}e(n.father,!0,T,T)}if(n.mother){var C,P=n.mother.Right,N=h(n.mother.spouses);try{for(N.s();!(C=N.n()).done;){var _=C.value;P=_?Math.max(_.Right,P):P}}catch(e){N.e(e)}finally{N.f()}e(n.mother,!1,P,P)}}};if(e.father||e.mother){var r=e.generation>=0?this.getGenerationNodes(e.generation+1):null,i=e.generation>=0?this.getGenerationNodes(e.generation):null;if(e.father){var o=((null==r?void 0:r.length)>0?r[0]:e.father).Left,a=((null==i?void 0:i.length)>0?i[0]:e).Left;n(e.father,!0,o,a)}if(e.mother){var l=((null==r?void 0:r.length)>0?r[r.length-1]:e.mother).Right,s=((null==i?void 0:i.length)>0?i[i.length-1]:e).Right;n(e.mother,!1,l,s)}}}},{key:"drawParent",value:function(e,t,n,i){if("M"!==t&&"F"!==t)throw new Error("parentType must be M or F");var o=[],a=p(p({},e.position),{},{left:n,bottom:this.getBottomPosition(e.generation+1)}),l=this.findRelativeGids(e.gid,[t])||[];if(0===l.length&&this.canAddPerson&&l.push("".concat(this.missingParentId++,"-").concat("M"===t?"mother":"father")),l.length>0){var s=new g(l[0],a,e.generation+1,"M"===t?"Mother":"Father",this.spacing.spouse);if(s.childGid=e.gid,e.relationToFocus){s.relationToFocus=e.relationToFocus+t;var c=E(S.parents,e.relationToFocusText,s.generation),u=r(c,3);s.relationToFocusPrefix=u[0],s.relationToFocusText=u[1],s.relationToFocusSuffix=u[2]}this.nodes.push(s),e["F"===t?"father":"mother"]=s,o.push(s);var f=this.findRelativeGids(e.gid,["M"===t?"F":"M"])||[],d=this.findRelativeGids(l[0],["H","W"])||[],m=this.TreeData.GetPerson(s.gid);if(this.newFamilyView&&m)if(this.showAllSpouses)d.forEach((function(e){return m.ShowSpouse(e)}));else{var v,y=h(f);try{for(y.s();!(v=y.n()).done;){var w=v.value;m.ShowSpouse(w)}}catch(e){y.e(e)}finally{y.f()}}var b,T=h(d);try{for(T.s();!(b=T.n()).done;){var x=b.value;if(!(f.indexOf(x)>=0)&&(!this.newFamilyView||!m||m.IsSpouseVisible(x))){var k=new g(x,p({},a),e.generation+1,"spouse",this.spacing.spouse);k.relationToFocus=s.relationToFocus+"S",s.spouses.push(k),k.spouses.push(s),this.nodes.push(k),o.push(k)}}}catch(e){T.e(e)}finally{T.f()}this.sortSpouses(s);var C,P=this.spacing.spouse*(i?-1:1),N=a.left,_=h(s.spouses);try{for(_.s();!(C=_.n()).done;){var O=C.value;N+=P,O.Left=N}}catch(e){_.e(e)}finally{_.f()}}return o}},{key:"findSiblings",value:function(e){var t=this;return this.TreeData.GetSiblings(e,!this.newFamilyView).sort((function(e,n){return t.TreeData.CompareBirthDates(e,n)}))}},{key:"getKidsGroups",value:function(e){var t,n=[],r=this.spacing.spouse-this.nodeSize.width;(t=this.getKids(e)).length>0&&n.push(new y(e.position.left+this.nodeSize.width/2,t,this));var i,o=h(e.spouses);try{for(o.s();!(i=o.n()).done;){var a=i.value;if((t=this.getKids(e,a)).length>0){var l=this.getKidXAnchor(a,e,r),s=new y(l,t,this);a.position.left>e.position.left?n.push(s):n.unshift(s)}if((t=this.getKids(e,a,!0)).length>0){var c=new y(a.position.left+this.nodeSize.width/2,t,this);a.position.left>e.position.left?n.push(c):n.unshift(c)}}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"getKidXAnchor",value:function(e,t,n){return e.position.left<t.position.left?e.position.left+this.nodeSize.width+n/2:e.position.left-n/2}},{key:"getkidWidth",value:function(e){if(!e)return 0;var t,n=o(e.kids),r=h(e.spouses);try{for(r.s();!(t=r.n()).done;){var i=t.value;i&&n.push.apply(n,o(i.kids.filter((function(e){return n.indexOf(e)<0}))))}}catch(e){r.e(e)}finally{r.f()}for(var a=0,l=0;l<n.length;l++)a+=n[l].width+(l>0?T:0);return a}},{key:"getLineText",value:function(e,t){return this.showLineLabels?(this.kinshipLabels?this.getLineTextFromLabelService(e,t):this.getLineTextLocal(e,t)).replace(/\s+/g," ").replace("/","/<wbr>").trim():""}},{key:"getLineTextLocal",value:function(e,t){var n=t.relationToFocus.substr(0,2);if(("RF"===n||"RM"===n)&&t.relationToFocus.indexOf("K")>0)return"";var r=this.TreeData.GetPerson(e),i="";return r&&(i=r.IsPrivate?"":r.FirstGivenName),(i?"".concat(i,"'s "):"")+"".concat(t.relationToFocusPrefix||""," ").concat(t.relationToFocusText||""," ").concat(t.relationToFocusSuffix||"")}},{key:"getLineTextFromLabelService",value:function(e,t){var n=this.TreeData.GetPerson(e),r="";n&&(r=n.IsPrivate?"":n.FirstGivenName);var i=t.relationToFocus;"R"===i?i="P":"RM"===i.substr(0,2)||"RF"===i.substr(0,2)?i="PP"+i.substr(2):"R"===i.substr(0,1)&&(i=i.substr(1)),"S"===i.substr(0,1)&&(i=i.substr(1)),i=(i=i.replace(/M/g,"P").replace(/F/g,"P").replace(/K/g,"G")).replace(/GS/g,"G").replace(/CS/g,"C");var o=this.kinshipLabels[i]||"";return o?r?b("relation.possessive",{focusName:r,focusRelation:o}):o:""}},{key:"drawLineToParents",value:function(e,t,n,r){if(!(e instanceof g))throw new Error("Invalid kid parameter");if("number"!=typeof t||isNaN(t)||"number"!=typeof n||isNaN(n)||"number"!=typeof r||isNaN(r))throw new Error("Invalid coordinates");var i=e.position.left+this.nodeSize.width/2,o=e.position.bottom+this.nodeSize.height;return this.drawVerticalLine(i,o,t,!0),this.drawHorizontalLine(i,t,n-i,!0,e.generation),this.drawVerticalLine(n,t,r,!0),{kidAnchorX:i,kidAnchorY:o}}},{key:"drawKidGroups",value:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.Left;if(!o){var l,s=t.length>1?(t.length-1)*T:0,c=h(t);try{for(c.s();!(l=c.n()).done;)s+=l.value.width}catch(e){c.e(e)}finally{c.f()}a=(e.Right+e.Left-s)/2}t.forEach((function(t){var o,l=i.getBottomPosition(e.generation-1),s=h(t.kids);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.position.bottom=l;var u=c.width,f=i.getkidWidth(c),d=Math.max(f-u,0)/2,p=a+=d,m=i.findPersonGender(c.gid);a+="female"===m?c.spouses.length>0?i.spacing.spouse:0:Math.max(0,c.spouses.length-1)*i.spacing.spouse,c.Left=a;for(var v=0;v<c.spouses.length;v++){var g=c.spouses[v];g.position.bottom=l,g.position.left=c.position.left+i.spacing.spouse*(0===v?1:-v)*("female"===m?-1:1),a=Math.max(a,g.position.left)}var y=E(S.children,e.relationToFocusText,c.generation),w=r(y,3);if(c.relationToFocusPrefix=w[0],c.relationToFocusText=w[1],c.relationToFocusSuffix=w[2],!n){var b=i.getKidsGroups(c);i.drawKidGroups(c,b,!1)}a=p+c.width+T,a+=d}}catch(e){s.e(e)}finally{s.f()}}))}},{key:"getBottomPosition",value:function(e){if(_(e),0===e)return 0;var t=k[e];if("number"==typeof t)return t;if(t=e*this.nodeSize.height,e<0)for(var n=e;n<0;n++)t-=this.getGenerationSpacing(n);else for(var r=e;r>0;r--)t+=this.getGenerationSpacing(r);return k[e]=t,t}},{key:"getGenerationSpacing",value:function(e){return"number"!=typeof x[e]&&(x[e]=this.spacing.gen),x[e]}},{key:"setGenerationSpacing",value:function(e,t){if(_(e),"number"!=typeof t||isNaN(t))throw new Error("invalid value");x[e]=t,k={}}},{key:"findFamilies",value:function(e,t){var n=this,r=[e.gid],i=this.TreeData.GetPerson(e.gid),a=(i?i.Spouses:[]).map((function(e){return e.tgid.v}));i&&this.newFamilyView&&(a=o(new Set(this.showSpouses(e,i,a)))),r=r.concat(a);var l,s=[],c=h(r);try{for(c.s();!(l=c.n()).done;){var u=l.value,f=null;u===e.gid?f=e:(f=e.GetSpouse(u))||(f=e.addSpouse(u),this.nodes.push(f)),s.indexOf(f)<0&&s.push(f)}}catch(e){c.e(e)}finally{c.f()}var d=this.TreeData.GetPerson(e.gid);if(this.newFamilyView){if(!d||!d.VisibleChildren(e.generation))return}else if(t<=0)return;var p,m=[],v=h(r);try{var g=function(){var r=p.value,i=s.find((function(e){return e.gid===r}));if(!i)return"continue";if(e.generation<-1&&(!d||!d.VisibleChildren(e.generation)))return"continue";var o=n.findRelativeGids(i.gid,["C"]);if(!o)return"continue";var a,l=h(o);try{var c=function(){var r=a.value,o=m.find((function(e){return e.gid===r}))||i.GetChild(r);o||((o=i.addChild(r)).position.bottom=n.getBottomPosition(o.generation),i.relationToFocus&&(o.relationToFocus=i.relationToFocus+"C"),n.nodes.push(o)),m.indexOf(o)<0&&m.push(o),n.addChildToParents(o,s,e),(n.newFamilyView||e.generation<=1)&&(n.findFamilies(o,t-1),n.positionSpouses(o))};for(l.s();!(a=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}};for(v.s();!(p=v.n()).done;)g()}catch(e){v.e(e)}finally{v.f()}}},{key:"addChildToParents",value:function(e,t,n){var r=this.addChildToParent(e,"F",t),i=this.addChildToParent(e,"M",t);(r&&r.indexOf(n.gid)>=0||i&&i.indexOf(n.gid)>=0)&&n.kids.indexOf(e)<0&&n.kids.push(e)}},{key:"addChildToParent",value:function(e,t,n){var r="F"===t?"father":"mother",i=e.gid,o=this.findRelativeGids(i,[t]);return o&&!e[r]&&(e[r]=n.find((function(e){return o.indexOf(e.gid)>=0}))||null,e[r]&&!e[r].GetChild(i)&&e[r].kids.push(e)),o}},{key:"positionSpouses",value:function(e,t,n){var r=this.spacing.spouse;if("boolean"==typeof t){var i=e.spouses.filter((function(n){return t?n.position.left>e.position.left:n.position.left<e.position.left}));e.Left=t?n-(this.spacing.sibling+i.length*r):n+T+i.length*r}var o=e.position.left,a=e.position.left;this.sortSpouses(e);for(var l=this.findPersonGender(e.gid),s=0;s<e.spouses.length;s++){var c=e.position.left+r*(0===s?1:-s)*("female"===l?-1:1);e.spouses[s].Left=c,e.spouses[s].position.bottom=e.position.bottom,o=Math.min(o,c),a=Math.max(a,c)}return{leftMost:o,rightMost:a}}},{key:"getKids",value:function(e,t,n){var r=this,i=e;return t&&n&&(i=t),i.kids.filter((function(r){if(!t){var o,a=h(i.spouses);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l&&l.kids.indexOf(r)>=0)return!1}}catch(e){a.e(e)}finally{a.f()}return!0}return n?e.kids.indexOf(r)<0:t.kids.indexOf(r)>=0})).sort((function(e,t){return r.TreeData.CompareBirthDates(e.gid,t.gid)}))}},{key:"horizontallyCenter",value:function(e){e.left=this._width/2-this.nodeSize.width/2}},{key:"getGenerationNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _(e),this.nodes.filter((function(t){return t.generation===e})).sort((function(n,r){var i=0;if(t)if(e<0){var o=n.father||n.mother,a=r.father||r.mother;i=o&&a?o.position.left-a.position.left:0}else if(e>0){var l=P(n),s=P(r);i=l&&s?l.position.left-s.position.left:0}return 0===i?n.position.left-r.position.left:i}))}},{key:"sortSpouses",value:function(e){var t=this;e.spouses.sort((function(n,r){return t.TreeData.CompareMarriageDates(e.gid,n.gid,r.gid)}))}},{key:"sortSpouseGids",value:function(e,t){var n=this;e.sort((function(e,r){return n.TreeData.CompareMarriageDates(t,e,r)}))}},{key:"drawAllSpouseLines",value:function(){var e,t=null,n=null,r=null,i=h(this.nodes);try{for(i.s();!(e=i.n()).done;){var o=e.value;"spouse"!==o.relativeType&&(r&&o.generation===t&&o.xAnchor===n||(t=o.generation,n=o.xAnchor,r={lastParentX:null,lastChildX:null,multipliers:{}}),this.drawSpouseLines(o,r))}}catch(e){i.e(e)}finally{i.f()}this.consolidateLines()}},{key:"drawSpouseLines",value:function(e,t){d.AssertValidLayouterNode(e),this.connectSpouseNodes(e);var n,r=e.SpousesGroup,i=h(this.getChildrenOfSpouseGroup(r));try{for(i.s();!(n=i.n()).done;){var o=n.value;o.mother&&!o.mother.spouseLinesDrawn&&this.connectSpouseNodes(o.mother),o.father&&!o.father.spouseLinesDrawn&&this.connectSpouseNodes(o.father),this.drawKidLines(e,o,t,o.relationToFocus&&o.relationToFocus.length>0&&"C"!==o.relationToFocus[o.relationToFocus.length-1])}}catch(e){i.e(e)}finally{i.f()}}},{key:"connectSpouseNodes",value:function(e){for(var t=this.TreeData.GetPerson(e.gid),n=0;n<e.spouses.length;n++){var r=e.spouses[n];if(r&&!r.spouseLinesDrawn){var i=Math.min(e.position.left,r.position.left)+this.nodeSize.width,o=Math.max(e.position.left,r.position.left),a=e.position.bottom+this.spacing.marriageConnectorHeight+n*this.spacing.spouseLineSeparation,l=r.position.left<e.position.left,s=o-i-this.spacing.spouseLine,c=i+(l?this.spacing.spouseLine:0),u=i+(l?0:s),f=t&&t.IsDivorced(r.gid);this.drawSpouseLine(c,a,s,this.findPersonGender(e.gid),f),this.drawSpouseLine(u,a,this.spacing.spouseLine,this.findPersonGender(r.gid),f),this.drawMarriageConnector(i+(l?this.spacing.spouseLine:s),a,this.getCoupleId(e,r))}}e.spouseLinesDrawn=!0}},{key:"getChildrenOfSpouseGroup",value:function(e,t){var n,r=[],i=h(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;a&&r.push.apply(r,o(a.kids))}}catch(e){i.e(e)}finally{i.f()}var l=[];if(t){var s,c=h(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;l.push.apply(l,o(u.spouses))}}catch(e){c.e(e)}finally{c.f()}r.push.apply(r,l)}return o(new Set(r)).sort(N)}},{key:"drawKidLines",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.linesDrawn){var i=e.position.left,o=this.getCoupleId(t.father,t.mother),a=this.getMarriageConnector(o);if(t.father&&t.mother)i=a?a.x:Math.max(t.mother.position.left,t.father.position.left)+this.nodeSize.width/2;else{var l=t.father||t.mother;l&&(i=l.position.left),i+=this.nodeSize.width/2}var s=t.position.left+this.nodeSize.width/2,c=n.multipliers[o];"number"!=typeof c&&(null===n.lastChildX?n.multiplier=0:i!==n.lastParentX&&(n.multiplier<0||s<=n.lastParentX&&s>n.lastChildX?n.multiplier--:n.multiplier++),c=n.multiplier,n.multipliers[o]=c),n.lastChildX=s,n.lastParentX=i;var u=a?a.y:e.position.bottom,f=t.position.bottom+this.nodeSize.height+(this.getGenerationSpacing(e.generation>0?e.generation:e.generation-1)-(this.showLineLabels?80:60)-1)/2+(e.generation>1?20:5)+(this.showLineLabels?0:10)+c*this.spacing.lineSeparation;this.drawLineToParents(t,f,i,u,r),t.linesDrawn=!0}}},{key:"drawMarriageConnector",value:function(e,t,n){this.connectors.push({x:e,y:t,id:n})}},{key:"getCoupleId",value:function(e,t){return[e?e.id:"",t?t.id:""].sort().join("|")}},{key:"getMarriageConnector",value:function(e){if("string"!=typeof e||!e)throw new Error("missing coupleId");return this.connectors.find((function(t){return t.id===e}))||null}},{key:"consolidateLines",value:function(){var e=[];e.push.apply(e,o(this.processLines(!0))),e.push.apply(e,o(this.processLines(!1))),this.paths=this.softenLineCorners(e),this.lines=e}},{key:"processLines",value:function(e){for(var t,n=this.getLineSubset(e),r=0,i=null;r<n.length;)t=n[r],!i||i.new!==t.new||i.isDotted!==t.isDotted||i.gender!==t.gender||e&&i.y1!==t.y1||!e&&i.x1!==t.x1?(i=t,r++):e&&t.x1>=i.x1&&t.x1<=i.x2?(i.x2=Math.max(i.x2,t.x2),n.splice(r,1)):!e&&t.y1>=i.y1&&t.y1<=i.y2?(i.y2=Math.max(i.y2,t.y2),n.splice(r,1)):(i=t,r++);return n}},{key:"getLineSubset",value:function(e){return this.lines.filter((function(t){return e?t.y1===t.y2:t.x1===t.x2})).sort((function(t,n){var r=e?t.y1-n.y1:t.x1-n.x1;return 0===r?e?t.x1-n.x1:t.y1-n.y1:r}))}},{key:"softenLineCorners",value:function(e){var t,n=e.filter((function(e){return"h"===e.t})),r=e.filter((function(e){return"v"===e.t})),i=[],o=h(n);try{var a=function(){var e=t.value,n=r.filter((function(t){return!(t.y1!==e.y1&&t.y2!==e.y1||t.x1!==e.x1&&t.x2!==e.x1&&t.x1!==e.x2&&t.x2!==e.x2)}));n.length>0&&(i.push({h:e,v:n.sort((function(e,t){return e.x1-t.x1}))}),e.hide=!0,n.forEach((function(e){return e.hide=!0})))};for(o.s();!(t=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return i}},{key:"Refresh",value:function(){this.refreshcallback(!0)}}],[{key:"AssertValidLayouterNode",value:function(e){if(!(e instanceof g))throw new Error("missing required node")}},{key:"PositionSorter",value:function(e,t){return N(e,t)}},{key:"GetMinMaxNodes",value:function(e){return O(e)}},{key:"shiftNodes",value:function(e,t){return C(e,t)}},{key:"getDescendantNode",value:function(e){return P(e)}},{key:"Reset",value:function(){x={},k={}}}]),d}(v);e.exports=I},7105:function(e,t,n){"use strict";var r=n(4575),i=n(3913),o=n(6525),a=n(2205),l=n(8585),s=n(9754);var c=n(1853),u=n(5888),f=function(e){a(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=s(t);if(n){var i=s(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function f(e,t,n,i,o,a,l){return r(this,f),c.call(this,e,t,n,i,o,a)}return i(f,[{key:"_draw",value:function(e){o(s(f.prototype),"draw",this).call(this,e)}},{key:"RenderLines",value:function(e){}},{key:"getVisibleNodes",value:function(e,t){return this.nodes}},{key:"draw",value:function(e){var t={left:0,height:this.nodeSize.height,width:this.nodeSize.width,arcStart:370,arcEnd:170};this.expandedNodes=e||{},this.nodes.length=0,this._top=t.top,this._width=t.left,this._height=t.top;var n={destroy:function(){},gid:this.rootPersonGid,position:t,generation:0,path:"M 0, 0 m -150, 0  a 150,150 0 1,0 300,0 a 150,150 0 1,0 -300,0",textPath:"M -150, 0 L 150, 0",relativeType:"focusPerson"};this.nodes.push(n),n.parents=this.drawParents(this.rootPersonGid,t,1,0,0,!1)}},{key:"drawNode",value:function(e,t,n,r,i,o,a,l,s){var c,f,d={left:e.left+i,isSmall:r>=4},p=(e.arcStart-e.arcEnd)/2,h="mother"===t;h?(c=e.arcStart,f=e.arcStart-p):(c=e.arcEnd+p,f=e.arcEnd);var m=50+100*r+(r>3?100*(r-3):0),v=m+(r<=2?100:200),g=u.CreateWedgePath(c,f,m,v),y=u.CreateWedgeTextPath(c,f,m,v,r<=2),w=2*l+(h?2:1);d.height=e.height,d.width=e.width,d.arcStart=c,d.arcEnd=f,this._top=Math.min(this._top,d.top),this._width=Math.max(this._width,d.left),this._height=Math.max(this._height,d.top);var b=null,E=function(){};if(n){var S=n.split(":")[0],T=this.isNodeExpanded(s,S,w);b={destroy:E,gid:n,textPath:y,path:g,position:d,generation:r,relativeType:t,expandId:w,branch:s,isExpanded:T},this.nodes.push(b),b.parents=this.drawParents(n,d,r+1,w,s,T)}else b={destroy:E,gid:"".concat(this.missingParentId++,"-").concat(t),textPath:y,path:g,position:d,generation:r,relativeType:t,expandId:w,branch:s,childGid:a,new:!0,parents:null},this.nodes.push(b);return b}}]),f}(c);e.exports=f},1853:function(e,t,n){"use strict";var r=n(8),i=n(4575),o=n(3913);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=n(2094),c=10,u=function(){function e(t,n,o,a,l,s){if(i(this,e),!t||"object"!==r(t)||!t.Persons)throw new Error("Invalid personContainer");if(!n||"string"!=typeof n)throw new Error("Invalid rootGid");this.missingParentId=0,this.Persons=t.Persons,this.rootPersonGid=n,this.height="number"!=typeof o||o<=0?1e3:o;var c="number"!=typeof a||a<=0?206:a;this.nodeSize={width:c,height:"number"!=typeof l||l<=0?40:l},this.smallNodeSize={width:c,height:"number"!=typeof s||s<=0?25:s},this.nodes=[],this.lines=[],this.paths=[],this.subscribers=[]}return o(e,[{key:"ToggleState",get:function(){return null}},{key:"subscribe",value:function(e){if("function"!=typeof e)throw new Error("Invalid listener parameter");this.subscribers.indexOf(e)<0&&this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscribers.indexOf(e);-1!==t&&this.subscribers.splice(t,1)}},{key:"notifySubscribers",value:function(){var e,t=this.ToggleState,n=a(this.subscribers);try{for(n.s();!(e=n.n()).done;)(0,e.value)(t)}catch(e){n.e(e)}finally{n.f()}}},{key:"RenderLines",value:function(e){return this.lines.map(e)}},{key:"RenderPaths",value:function(e){return this.paths.map(e)}},{key:"RenderNodes",value:function(e){return this.nodes.map(e)}},{key:"MissingData",get:function(){var e=this;return this.nodes.filter((function(t){return t.pid&&!e.Persons.some((function(e){return e.gid.v===t.gid}))})).map((function(e){return e.pid}))}},{key:"getPosition",value:function(e){return this.getNodeProperty(e,"position")}},{key:"getExpandId",value:function(e){var t=this.getNodeProperty(e,"branch")||0,n=this.getNodeProperty(e,"expandId")||0;return"".concat(t,":").concat(n)}},{key:"getIsHoverCardExpanded",value:function(e){return this.getNodeProperty(e,"isHoverCardExpanded")||!1}},{key:"setIsHoverCardExpanded",value:function(e){var t,n=a(this.nodes.filter((function(e){return e&&!0===e.isHoverCardExpanded})));try{for(n.s();!(t=n.n()).done;)t.value.isHoverCardExpanded=!1}catch(e){n.e(e)}finally{n.f()}if("number"==typeof e&&this.nodes.length>e){var r=this.nodes[e];r&&(r.isHoverCardExpanded=!0)}}},{key:"getGeneration",value:function(e){return this.getNodeProperty(e,"generation")}},{key:"getNodeProperty",value:function(e,t){if("number"!=typeof e)throw new Error("Invalid nodeId");if(!t||"string"!=typeof t)throw new Error("Invalid propertyName");var n=e>=0&&e<this.nodes.length?this.nodes[e]:null;return n?n[t]:null}},{key:"getRelativeType",value:function(e){var t=this.getNodeProperty(e,"relativeType");return t&&"string"==typeof t?t[0].toUpperCase()+t.slice(1):null}},{key:"getVisibleNodes",value:function(e,t){var n=this;if(!e||"object"!==r(e)||!t||"object"!==r(t))return this.nodes;var i=t.scale,o=t.translation;return"number"!=typeof i||i<=0||!o||"object"!==r(o)||"number"!=typeof o.x||"number"!=typeof o.y?this.nodes:this.nodes.filter((function(t){var r=t.position.left+o.x/i,a=n.nodeSize.height;if("focusPerson"===t.relativeType){var l=document.querySelector(".familyList");l&&(a+=l.getBoundingClientRect().height)}var s=o.y/i+(t.position.top+a);return(r+n.nodeSize.width)*i>=0&&r*i<e.w&&s*i>=0&&(s-a)*i<e.h}))}},{key:"isVisible",value:function(e){return!!this.getPosition(e)}},{key:"isSmall",value:function(e){var t=this.getNodeProperty(e,"position");return t&&t.isSmall||!1}},{key:"Width",get:function(){return this._width+this.nodeSize.width}},{key:"Height",get:function(){return this._height+this.nodeSize.height}},{key:"Top",get:function(){return this._top}},{key:"FocusGid",get:function(){return this.rootPersonGid}},{key:"draw",value:function(e){var t={left:0,height:this.nodeSize.height,width:this.nodeSize.width};this.verticallyCenter(t),this.expandedNodes=e||{},this.cleanup(),this._top=t.top,this._width=t.left,this._height=t.top;var n=new s(this.rootPersonGid,t,0,"focusPerson");this.nodes.push(n),n.parents=this.drawParents(this.rootPersonGid,t,1,0,0,!1),this.paths=this.softenLineCorners(this.lines)}},{key:"softenLineCorners",value:function(e){var t,n=e.filter((function(e){return"h"===e.t})),r=e.filter((function(e){return"v"===e.t})),i=[],o=a(r);try{var l=function(){var e=t.value,r=n.find((function(t){return(t.y1===e.y1||t.y1===e.y2)&&t.x1===e.x1}));r&&(i.push({v:e,h:r}),e.hide=!0,r.hide=!0)};for(o.s();!(t=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}return i}},{key:"cleanup",value:function(){this.nodes.forEach((function(e){return e.destroy()})),this.nodes.length=0}},{key:"drawParents",value:function(e,t,n,r,i,o){var a,l=this.nodeSize.width,s=this.nodeSize.height,u=l+20;if(5===n&&o){var f=t.left+l,d=t.top+this.smallNodeSize.height/2;this.drawHorizontalLine(f,d,c,!0),this.drawHorizontalLine(f+c+20,d,c,!0),i++,n=1,r=0,t={height:this.nodeSize.height,left:t.left+20+20,top:t.top-this.smallNodeSize.height/2,width:t.width},this._top=t.top}var p=this.findRelativeGids(e,["F"])||[],h=p.length>0,m=this.findRelativeGids(e,["M"])||[],v=m.length>0;switch(n){case 1:a=s*("1:1:1"===this.rootPersonGid||!h&&!v?1.125:3.125);break;case 2:a=1.5*s,u=40;break;case 3:a=.77*s;break;case 4:a=.388*s;break;default:return}var g=this.drawNode(t,"father",h?p[0]:null,n,u,a,e,r,i),y=this.drawNode(t,"mother",v?m[0]:null,n,u,a,e,r,i),w=t.top+this.nodeSize.height/2;if(2===n){var b=t.left+60,E=s/2;this.drawVerticalLine(b,t.top,t.top-E,h),this.drawVerticalLine(b,t.top+s,t.top+s+E,v)}else this.drawTreeForkLines(t.left+this.nodeSize.width,w,a,h,v);return[g,y]}},{key:"getChildGid",value:function(e){return this.getNodeProperty(e,"childGid")||null}},{key:"isNodeExpanded",value:function(e,t,n){var r="".concat(e,":").concat(n),i=this.expandedNodes[r];return"number"==typeof i&&t==i}},{key:"drawNode",value:function(e,t,n,r,i,o,a,l,c){var u={left:e.left+i,isSmall:r>=4};u.top="mother"==t?e.top+o:e.top-o,u.isSmall&&(u.top+=(this.nodeSize.height-this.smallNodeSize.height)/2);var f=2*l+("mother"==t?2:1);u.height=u.isSmall?this.smallNodeSize.height:e.height,u.width=u.isSmall?this.smallNodeSize.width:e.width,this._top=Math.min(this._top,u.top),this._width=Math.max(this._width,u.left),this._height=Math.max(this._height,u.top);var d=null;if(n){d=new s(n,u,r,t);var p=this.isNodeExpanded(c,d.pid,f);d.expandId=f,d.branch=c,d.isExpanded=p,this.nodes.push(d),d.parents=this.drawParents(n,u,r+1,f,c,p)}else(d=new s("".concat(this.missingParentId++,"-").concat(t),u,r,t)).expandId=f,d.branch=c,d.childGid=a,d.new=!0,d.parents=null,this.nodes.push(d);return d}},{key:"getPerson",value:function(e){return"string"==typeof e&&e&&this.Persons.find((function(t){return t.gid.v===e}))||null}},{key:"findRelativeGids",value:function(e,t){if("string"!=typeof e||!e)return null;if(!Array.isArray(t)||0===t.length)return null;var n=this.Persons.find((function(t){return t.gid.v===e}));return n&&n.Family?n.Family.filter((function(e){return t.indexOf(e.t)>=0})).map((function(e){return e.tgid.v})):null}},{key:"findPersonGender",value:function(e){var t=this.Persons.find((function(t){return t.gid.v===e}));if(!t||!t.Family)return null;var n=Array.isArray(t.Genders)&&t.Genders.length>0?t.Genders[0].g:null;if(!n)return null;switch(n){case"m":return"male";case"f":return"female";case"u":return"unknown";default:return n}}},{key:"verticallyCenter",value:function(e){e.top=this.height/2-this.nodeSize.height/2}},{key:"drawUpAndDownLines",value:function(e,t,n,r,i){this.drawVerticalLine(e,t,t-n,r),this.drawHorizontalLine(e,t-n,c,r),this.drawVerticalLine(e,t,t+n,i),this.drawHorizontalLine(e,t+n,c,i)}},{key:"drawTreeForkLines",value:function(e,t,n,r,i){this.drawHorizontalLine(e,t,c,r||i),this.drawUpAndDownLines(e+c,t,n,r,i)}},{key:"drawHorizontalLine",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if("number"==typeof n&&0!==n){var o=n>0?e:e+n,a=n>0?e+n:e;this.lines.push({x1:o,x2:a,y1:t,y2:t,new:!r,t:"h",generation:i})}}},{key:"drawVerticalLine",value:function(e,t,n,r){"number"==typeof t&&"number"==typeof n&&t!==n&&this.lines.push({x1:e,x2:e,y1:t,y2:n,new:!r,t:"v"})}}]),e}();e.exports=u},7311:function(e,t,n){var r=n(4575),i=n(3913);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){"use strict";function e(t,n,i){if(r(this,e),"number"!=typeof t||isNaN(t))throw new Error("Missing anchor");if(!Array.isArray(n))throw new Error("Missing kids array");this.anchor=t,this.kids=n,this.layouter=i}return i(e,[{key:"width",get:function(){var e,t=50*Math.max(0,this.kids.length-1),n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}(this.kids);try{for(n.s();!(e=n.n()).done;){var r=e.value;t+=Math.max(r.width,this.layouter.getkidWidth(r))}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();e.exports=a},2094:function(e,t,n){var r=n(319),i=n(9713),o=n(8),a=n(4575),l=n(3913);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=0,p=0,h={};function m(e){if("number"!=typeof e||isNaN(e)||(e=e.toString()),"string"!=typeof e)throw new Error("invalid partString");var t=h[e];return"string"==typeof t?t:(h[e]=(p++).toString(36),h[e])}var v=function(){"use strict";function e(t,n,r,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:128;if(a(this,e),!t||"string"!=typeof t)throw new Error("invalid gid");if(!n||"object"!==o(n))throw new Error("invalid position");this._childGid=null,this._relationToFocus=null,this._key=null,this._parentKeys=null,this._father=null,this._mother=null,this._treeLeft=null,this._treeRight=null,this.gid=t,this.pid=this.isNew?null:t.split(":")[0],this.position=n,this.generation=r,this.relationToFocusPrefix="",this.relationToFocusText="",this.relationToFocusSuffix="",this.relativeType=i,this.spouses=[],this.kids=[],this.spouseSpacing=l,this.id=d++}return l(e,[{key:"resetTreeDimensions",value:function(){this.SpousesGroup.forEach((function(e){e._treeLeft=null,e._treeRight=null}))}},{key:"addChild",value:function(t){if(!t||"string"!=typeof t)throw new Error("missing childId");if(this.kids.find((function(e){return e.gid===t})))throw new Error("duplicate child node");var n=new e(t,f({},this.position),this.generation-1,"child",this.spouseSpacing);return this.kids.push(n),this.resetTreeDimensions(),n}},{key:"addSpouse",value:function(t){if(!t||"string"!=typeof t)throw new Error("missing spouseId");if(this.spouses.find((function(e){return e&&e.gid===t})))throw new Error("duplicate spouse node");var n=new e(t,f({},this.position),this.generation,"spouse");return this.spouses.push(n),n.spouses.push(this),this._key=null,this.resetTreeDimensions(),n}},{key:"addSpouseNode",value:function(e){this.spouses.push(e),this._key=null,this.resetTreeDimensions()}},{key:"destroy",value:function(){this.kids.length=0,this.mother=null,this.father=null,this.spouses.length=0}},{key:"GetChild",value:function(e){if("string"!=typeof e||!e)throw new Error("missing childId");return this.kids.find((function(t){return t.gid===e}))||null}},{key:"GetSpouse",value:function(e){if("string"!=typeof e||!e)throw new Error("missing spouseId");return this.spouses.find((function(t){return t.gid===e}))||null}},{key:"SpousesGroup",get:function(){var t=new Set;return function n(r){t.add(r);var i,o=s(r.spouses);try{for(o.s();!(i=o.n()).done;){var a=i.value;a instanceof e&&!t.has(a)&&n(a)}}catch(e){o.e(e)}finally{o.f()}}(this),r(t).sort((function(e,t){return e.position.left-t.position.left}))}},{key:"HasChildNodes",get:function(){return this.SpousesGroup.some((function(e){return e.kids.length>0}))}},{key:"AllParentNodes",get:function(){var e=this,t=[];return this.father&&(t.push.apply(t,r(this.father.spouses.filter((function(t){return t&&(!e.mother||t.gid!==e.mother.gid)})))),t.push(this.father)),this.mother&&(t.push(this.mother),t.push.apply(t,r(this.mother.spouses.filter((function(t){return t&&(!e.father||t.gid!==e.father.gid)}))))),t}},{key:"width",get:function(){return(this.spouses.length+1)*this.spouseSpacing-(this.spouseSpacing-this.position.width)}},{key:"isNew",get:function(){return this.gid.indexOf("-")>0}},{key:"Left",get:function(){return this.SpousesGroup[0].position.left},set:function(e){this.position.left=e,this.resetTreeDimensions()}},{key:"Right",get:function(){var e=this.SpousesGroup;return e[e.length-1].position.left+this.position.width}},{key:"TreeLeft",get:function(){if(null===this._treeLeft){var e,t=this.SpousesGroup,n=t[0].position.left,i=[],o=s(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;i.push.apply(i,r(a.kids))}}catch(e){o.e(e)}finally{o.f()}for(var l=0,c=i;l<c.length;l++){var u=c[l];n=Math.min(n,u.TreeLeft)}this._treeLeft=n}return this._treeLeft}},{key:"TreeRight",get:function(){if(null===this._treeRight){var e,t=this.SpousesGroup,n=t[t.length-1].position.left+this.position.width,i=[],o=s(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;i.push.apply(i,r(a.kids))}}catch(e){o.e(e)}finally{o.f()}for(var l=0,c=i;l<c.length;l++){var u=c[l];n=Math.max(n,u.TreeRight)}this._treeRight=n}return this._treeRight}},{key:"relationToFocus",get:function(){return this._relationToFocus},set:function(e){e!==this._relationToFocus&&(this._relationToFocus=e,this._key=null)}},{key:"father",get:function(){return this._father},set:function(e){e!==this._father&&(this._father=e,this._key=null)}},{key:"mother",get:function(){return this._mother},set:function(e){e!==this._mother&&(this._mother=e,this._key=null)}},{key:"childGid",get:function(){return this._childGid},set:function(e){e!==this._childGid&&(this._childGid=e,this._key=null)}},{key:"parentKeys",get:function(){return this._parentKeys},set:function(e){e!==this._parentKeys&&(this._parentKeys=e,this._key=null)}},{key:"Key",get:function(){if(!this._key){var e=[this.pid,this.relativeType,this.relationToFocus,this.generation,this.parentKeys];"spouse"===this.relativeType&&e.push(this.spouses.filter((function(e){return"spouse"!==e.relativeType})).map((function(e){return e.Key})).join("|")),this.childGid?e.push(this.childGid.split(":")[0]):(this.father&&e.push(this.father.Key),this.mother&&e.push(this.mother.Key)),this._key=e.filter((function(e){return!!e})).map(m).join("")}return this._key}},{key:"IsParent",get:function(){return"Mother"===this.relativeType||"Father"===this.relativeType}}],[{key:"ResetGlobals",value:function(){d=0,p=0,h={}}}]),e}();e.exports=v},5467:function(e,t,n){"use strict";var r=n(9713),i=n(3038),o=n(8),a=n(4575),l=n(3913),s=n(6525),c=n(2205),u=n(8585),f=n(9754),d=n(319);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=n(9920),g=n(2094),y=n(4596),w=y.computeRelativeTypeToFocus,b=y.labels,E=y.LogError,S=50,T=v.PositionSorter,x=v.shiftNodes;function k(e,t,n){var r=e.relationToFocus&&e.relationToFocus.length>2?e.relationToFocus.substr(0,2):null;return t.filter((function(e){if(e.generation!==n)return!1;var t=e.relationToFocus&&e.relationToFocus.length>2?e.relationToFocus.substr(0,2):null;return!r||!t||r===t||"RS"===t||"RC"===t||"RK"===t}))}function C(e,t,n){var r=e[n?e.length-1:0],i=t[n?0:t.length-1],o=n?i.Left-S:i.Right+S,a=r.AllParentNodes.sort(T);if(a.length>0){var l=(a[0].Left+a[a.length-1].Right)/2,s=new Set;a.forEach((function(e){var t,n=h(e.kids);try{for(n.s();!(t=n.n()).done;){var r=t.value;s.add(r)}}catch(e){n.e(e)}finally{n.f()}}));var c=d(s).sort(T),u=c[c.length-1].Right-c[0].Left;o=n?Math.min(o,l+u/2):Math.max(o,l-u/2)}return n&&o<r.Right?o-r.Right:!n&&o>r.Left?o-r.Left:0}var P=function(e){c(y,e);var t,n,m=(t=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var i=f(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function y(e,t,n){var r;if(a(this,y),!e||"object"!==o(e)||!e.JSON)throw new Error("missing treeData");if(!n||"object"!==o(n))throw new Error("missing opts object");n.newFamilyView=!0,r=m.call(this,e,t,n);var i=n.OnStateChanged,l=n.FixedNode,s=n.Debug;return r.FixedNode=l||null,r.Debug=!0===s,r.spacing.gen-=10,"function"==typeof i&&r.subscribe(i),r}return l(y,[{key:"draw",value:function(){var e=this;if(s(f(y.prototype),"draw",this).call(this),this.FixedNode){var t=this.nodes.find((function(t){return t.Key===e.FixedNode.key}))||null;if(t){var n=this.FixedNode.x-t.position.left,r=this.FixedNode.y-t.position.bottom;this.ShiftToKeepToggledElementFixed=0!==n||0!==r?{x:n,y:r}:null}this.FixedNode=null}this.logOverlappingNodes()}},{key:"logOverlappingNodes",value:function(){if(this.Debug){var e=!1,t=d(this.nodes).sort((function(t,n){if(!t||!n)return 0;var r=t.position,i=n.position;return r.left+r.width<i.left||i.left+i.width<r.left||r.bottom>i.bottom+i.height||i.bottom>r.bottom+r.height?-1:(e=!0,1)}));e&&E("Overlapping Nodes",{rootGid:this.rootPersonGid,overlap:t[0].gid})}}},{key:"drawFamilyView",value:function(e){v.AssertValidLayouterNode(e),e.relationToFocus="R";var t=w(b.parents,e.relationToFocusText,e.generation,e.relationToFocusPrefix,e.relationToFocusSuffix),n=i(t,3);e.relationToFocusPrefix=n[0],e.relationToFocusText=n[1],e.relationToFocusSuffix=n[2];var r=this.TreeData.GetPerson(e.gid);r.Preset||(r.State={v:["0:7"]}),this.drawSpouseNodes(e,!0),this.drawChildNodes(e,!0),this.drawAncestorsNew(e),this.drawSiblingsNew(e),this.drawCousinsNew(e),this.alignNodes()}},{key:"drawAncestorsNew",value:function(e,t){if(!e||e.isNew)return[];"number"!=typeof t&&(t=e.position.left-this.spacing.spouse/2);var n=this.drawParent(e,"F",t,!0),r=this.drawParent(e,"M",t+this.spacing.spouse,!1),i=[].concat(d(n),d(r));return e.father&&(e.father.addSpouseNode(e.mother),e.father.kids.push(e)),e.mother&&(e.mother.addSpouseNode(e.father),e.mother.kids.push(e)),this.DrawVisibleAncestors(e,n),this.DrawVisibleAncestors(e,r),i}},{key:"drawChildNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v.AssertValidLayouterNode(e);var r=this.TreeData.GetPerson(e.gid);if(!r)throw new Error("Cannot draw children without a Person");if(r.VisibleChildren(e.generation)){var o=[e].concat(d(e.spouses)).sort(T),a=this.getSortedKidGids(e,o),l=this.nodes.length,s=[],c=e;a.forEach((function(n){var r=o.find((function(e){var r=t.TreeData.GetPerson(e.gid);return r&&r.Children.indexOf(n)>=0})),a=s.find((function(e){return e.gid===n}))||r.GetChild(n),l=t.nodes.length;if(!a){if((a=r.addChild(n)).parentKeys=o.map((function(e){return e.Key})).join(""),a.position.bottom=t.getBottomPosition(a.generation),c===r)a.Left=r.position.left;else{var u=t.TreeData.GetPerson(n);if(u&&u.VisibleChildren(a.generation)){for(var f=c.TreeRight,d=s.length-2;d>=0;d--)if(s[d].TreeRight>f){f=s[d].TreeRight;break}a.Left=f+S}else a.Left=c.Right+S}var p=w(b.children,e.relationToFocusText,a.generation,e.relationToFocusPrefix,e.relationToFocusSuffix),h=i(p,3);a.relationToFocusPrefix=h[0],a.relationToFocusText=h[1],a.relationToFocusSuffix=h[2],r.relationToFocus&&(a.relationToFocus=r.relationToFocus+"C"),t.nodes.push(a),s.push(a),t.TreeData.GetPerson(a.gid)&&(t.drawSpouseNodes(a,!1),t.drawChildNodes(a,!0)),c=a}t.addChildToParents(a,o,e),t.shiftKidsIfWideView(s,a,l)})),this.centerAndShiftChildNodes(e,l,n)}}},{key:"shiftKidsIfWideView",value:function(e,t,n){if(Array.isArray(e)&&!(e.length<2)){if(!(t instanceof g))throw new Error("invalid addedChild");if("number"!=typeof n||isNaN(n)||n<0)throw new Error("invalid countBeforeChild");for(var r=t.HasChildNodes,i=r?t.TreeLeft:t.Left,o=this.nodes.slice(n),a=e.length-2;a>=0;a--)if(e[a].HasChildNodes){var l=r?e[a].TreeRight:e[a].Right;l+S>i&&x(o,l+S-i);break}}}},{key:"centerAndShiftChildNodes",value:function(e,t,n){var r=this.nodes.slice(t).filter((function(t){return t.generation===e.generation-1})).sort(T);this.centerNodes(e,r,t)}},{key:"centerNodes",value:function(e,t,n){if(0!==t.length){var r=t[t.length-1].Right-t[0].Left,i=e.Left+e.width/2;x(this.nodes.slice(n),i-r/2-t[0].Left)}}},{key:"drawSiblingsNew",value:function(e,t){var n=this.TreeData.GetPerson(e.gid);if(!n||n.VisibleSiblings(e.generation)){var r=this.findSiblingsOfRoot(e),i=r.indexOf(e.gid);"boolean"==typeof t?t?this.drawSiblingsForNode(e,r,r.length-1,0,i,t):this.drawSiblingsForNode(e,r,0,r.length,i,t):(this.drawSiblingsForNode(e,r,i-1,0,i,!0),this.drawSiblingsForNode(e,r,i+1,r.length,i,!1))}}},{key:"drawSiblingsForNode",value:function(e,t,n,r,i,o){for(var a=e,l=n;o?l>=r:l<r;o?l--:l++)l!==i&&(a=this.createSiblingNodeNew(t[l],e,a,o))}},{key:"drawSpouseNodes",value:function(e,t,n){v.AssertValidLayouterNode(e);var r=this.TreeData.GetPerson(e.gid);if(!r)throw new Error("Cannot find the person associated with the given node");var i,o=this.showSpouses(e,r),a=this.findPersonGender(e.gid),l=-1,s=h(o);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=e.addSpouse(c);u.Left=e.position.left+this.spacing.spouse*("female"===a?l:-l),u.relationToFocus=e.relationToFocus+"S",this.nodes.push(u),l<0?l=1:l++}}catch(e){s.e(e)}finally{s.f()}if(!t&&e.spouses.length>0){var f=[e].concat(d(e.spouses)).sort(T),p=f[n?f.length-1:0].position.left;x(f,e.position.left-p)}}},{key:"getStartingPosition",value:function(e,t,n){if(n&&!n.VisibleChildren(e.generation))return t?e.Left-this.spacing.sibling:e.Right+S;for(var r=this.nodes.filter((function(t){return t.generation===e.generation})),i=r.indexOf(e),o=t?e.TreeLeft:e.TreeRight;i>=0;){var a=t?r[i].TreeLeft:r[i].TreeRight;if(t&&a<o||!t&&a>o){o=a;break}i--}return o+(t?-this.spacing.sibling:S)}},{key:"createSiblingNodeNew",value:function(e,t,n,o){var a=this.TreeData.GetPerson(e),l=this.getStartingPosition(n,o,a),s=this.nodes.length,c=new g(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.position),t.generation,"sibling",this.spacing.spouse);c.Left=l,this.nodes.push(c),this.linkSiblingToParents(t,c),c.relationToFocus=t.relationToFocus+"K";var u="R"===t.relationToFocus?b.siblings:b.parents,f=w(b.siblings,u,t.generation,t.relationToFocusPrefix,t.relationToFocusSuffix),h=i(f,3);if(c.relationToFocusPrefix=h[0],c.relationToFocusText=h[1],c.relationToFocusSuffix=h[2],a){var m=this.nodes.length;if(this.drawSpouseNodes(c,!1,o),this.drawChildNodes(c,o),a.VisibleChildren(t.generation)){var v,y,E=this.nodes.filter((function(e){return e.generation===c.generation})),T=E.indexOf(c)-1,k=a.VisibleChildren(c.generation);y=o?k?n.TreeLeft:n.Left:k?n.TreeRight:n.Right;var C;for(C=o?Math.max(c.TreeRight-c.Right,0):Math.max(c.Left-c.TreeLeft,0);T>=0;){var P;if(P=o?k?E[T].TreeLeft:E[T].Left:k?E[T].TreeRight:E[T].Right,o&&P<y||!o&&P>y){y=P;break}T--}v=o?y-C-this.spacing.sibling:y+S+C,x([c].concat(d(this.nodes.slice(m))),v-l)}}return this.shiftGenerationNodes(c,s,o),c}},{key:"shiftGenerationNodes",value:function(e,t,n){if("boolean"!=typeof n)throw new Error("invalid onLeft parameter");for(var r=this.nodes.slice(0,t).sort(T),i=e.generation;r.some((function(e){return e.generation===i}));){var o=k(e,r,i),a=this.nodes.slice(t).filter((function(e){return e.generation===i})).sort(T);if(i--,!(o.length<1||a.length<1)){var l=C(a,o,n);x(a,l),r.some((function(e){return e.generation===i}))||(a=this.nodes.slice(t).filter((function(e){return e.generation===i})).sort(T)).length>0&&x(a,l)}}}},{key:"drawCousinsNew",value:function(e){if(e.father||e.mother){if(e.father){var t=this.TreeData.GetPerson(e.father.gid);t&&(t.VisibleSiblings(e.father.generation)&&this.drawSiblingsNew(e.father,!0),this.drawCousinsNew(e.father))}if(e.mother){var n=this.TreeData.GetPerson(e.mother.gid);n&&(n.VisibleSiblings(e.mother.generation)&&this.drawSiblingsNew(e.mother,!1),this.drawCousinsNew(e.mother))}}}},{key:"DrawVisibleAncestors",value:function(e,t){if(Array.isArray(t)&&0!==t.length){var n=this.TreeData.GetPerson(t[0].gid);n&&(!n.Preset&&e.generation<2&&!this.TreeData.IsParentShownAlready(t[0].gid)&&(n.VisibleParents(t[0].generation,!0),0===e.generation&&n.VisibleSiblings(t[0].generation,!0),this.TreeData.ShowParents(n.gid)),n.VisibleParents(t[0].generation)&&this.drawAncestorsNew(t[0]))}}},{key:"alignNodes",value:function(){this.sortNodes(!0),this.shiftAncestorNodes("F"),this.shiftAncestorNodes("M"),this.sortNodes(!1)}},{key:"getAnchorPosition",value:function(e,t,n,r){var i=n.SpousesGroup.filter((function(e){return e.IsParent}));if(i.length>0){var o,a=(o=[]).concat.apply(o,d(i.map((function(e){return e.kids})))).find((function(e){return e.IsParent}));return"F"===r?Math.min(e,a.position.left+this.nodeSize.width/2+this.spacing.spouse-this.spacing.spouseLine):Math.max(e,a.position.left+this.nodeSize.width/2-this.nodeSize.width-this.spacing.spouseLine)}return e}},{key:"getFocusParent",value:function(e){return this.nodes.find((function(t){return t.relationToFocus==="R"+e}))||null}},{key:"getGenerationNodes",value:function(e,t,n){var r=t.filter((function(t){return t.generation===e&&(e>1||"RFS"!==t.relationToFocus&&"RMS"!==t.relationToFocus)})).sort((function(e,t){var n=e.SpousesGroup.find((function(e){return!!e.childGid})),r=n?n.kids.find((function(e){return e.gid===n.childGid})):null,i=t.SpousesGroup.find((function(e){return!!e.childGid})),o=i?i.kids.find((function(e){return e.gid===i.childGid})):null,a=r&&o?T(r,o):0;return 0===a&&(a=T(e,t)),a}));return"F"===n&&r.reverse(),r}},{key:"getGenerationSpacing",value:function(e){return Math.max(s(f(y.prototype),"getGenerationSpacing",this).call(this,e),this.spacing.gen)}},{key:"shiftAncestorNodes",value:function(e){if("F"!==e&&"M"!==e)throw new Error("invalid parentType");var t=this.getFocusParent(e);if(!t)return!1;for(var n=!1,r=this.nodes.filter((function(e){return e.relationToFocus&&e.relationToFocus.length>2&&e.relationToFocus.substr(0,2)===t.relationToFocus})),i=t.position.left+this.nodeSize.width/2,o=2,a=this.getGenerationNodes(o++,r,e);a.length>0;)0!==this.shiftAncestorNodeSubset(a,i,e)&&(n=!0),a=this.getGenerationNodes(o++,r,e);for(o=1,a=this.getGenerationNodes(o--,r,e);a.length>0;){var l=this.nodes.filter((function(e){return-1===o?e.generation===o+1&&e.relationToFocus&&("RK"===e.relationToFocus||"R"===e.relationToFocus):e.generation===o+1&&e.relationToFocus&&e.relationToFocus.length>2&&("RK"===e.relationToFocus.substr(0,2)||"RC"===e.relationToFocus.substr(0,2))})).sort(T);i=this.getDescendantAnchor(o,t,e,i),l.length>0&&(i="F"===e?l[0].Left-S:l[l.length-1].Right+S),0!==this.shiftAncestorNodeSubset(a,i,e)&&(n=!0),a=this.getGenerationNodes(o--,r,e)}return n}},{key:"shiftAncestorNodeSubset",value:function(e,t,n){var r,i=0,o=null,a=[],l=h(e);try{for(l.s();!(r=l.n()).done;){var s=r.value;if(!(a.indexOf(s)>=0)){this.shiftNodeAndSpouses(s,0,a);var c=this.getAnchorPosition(t,o,s,n);"F"===n&&s.Right>c&&(i+=this.shiftNodeAndSpouses(s,c-s.Right)),"M"===n&&s.Left<c&&(i+=this.shiftNodeAndSpouses(s,c-s.Left)),i+=this.arrangeWithPreviousNode(s,o,n),o=s}}}catch(e){l.e(e)}finally{l.f()}return i}},{key:"shiftNodeAndSpouses",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(n)||(n=[]),e.SpousesGroup.filter((function(e){return n.indexOf(e)<0})).forEach((function(e){n.push(e),e.Left=e.position.left+t})),t}},{key:"getDescendantAnchor",value:function(e,t,n,r){var i;if(e>-2)i=0===e?t:this.nodes.find((function(e){return"R"===e.relationToFocus}));else{var o=this.nodes.filter((function(t){return t.generation===e+1&&"RC"===t.relationToFocus.substr(0,2)||"RSC"===t.relationToFocus.substr(0,3)}));i=o.length>0?o[o.length-1]:null}return i&&(r="M"===n?Math.max(r,i.Right+S):Math.min(r,i.Left-S)),r}},{key:"arrangeWithPreviousNode",value:function(e,t,n){if(!t)return 0;var r=0;if("F"===n){var i=t.Left-S;"Mother"===t.relativeType&&(i-=25),r=Math.min(i-e.Right,0)}if("M"===n){var o=t.Right+S;"Father"===t.relativeType&&(o+=25),r=Math.max(o-e.Left,0)}return this.shiftNodeAndSpouses(e,r)}},{key:"getNonSpouseNodes",value:function(){return this.nodes.filter((function(e){return"spouse"!==e.relativeType})).sort((function(e,t){var n=t.generation-e.generation;if(0===n){var r=v.getDescendantNode(e),i=v.getDescendantNode(t);n=r&&i?r.position.left-i.position.left:0}return n}))}},{key:"drawAllSpouseLines",value:function(){var e,t=this,n=null,r="",i=null,o=h(this.getNonSpouseNodes());try{var a=function(){var o=e.value,a=o.relationToFocus.substr(0,2);if(!i||o.generation!==n||1!==o.generation&&"RF"===r&&"RM"===a||!o.linesDrawn&&"number"==typeof i.lastChildX&&o.TreeLeft>i.lastChildX&&o.TreeLeft>i.lastParentX){if(i){var l=t.lines.slice(i.lineCount).filter((function(e){return"h"===e.t||"v"===e.t})),s=l.filter((function(e){return"h"===e.t}));if(s.length>1){var c,u,f=(s[0].y1-s[s.length-1].y1)/2,d=!1;l.forEach((function(e){"v"===e.t?"h"===c||u===e.x1&&!d?(e.y1+=f,d=!0):(e.y2+=f,d=!1):"h"===e.t&&(e.y1+=f,e.y2+=f),c=e.t,u=e.x1})),t.lineText.slice(i.textCount).filter((function(e){return!e.ta})).forEach((function(e){return e.y+=f}))}}n=o.generation,r=a,i={lastParentX:null,lastChildX:null,multipliers:{},lineCount:t.lines.length,textCount:t.lineText.length}}t.drawSpouseLines(o,i)};for(o.s();!(e=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}this.consolidateLines(),this.consolidateLineLabels()}},{key:"drawLineToParents",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=s(f(y.prototype),"drawLineToParents",this).call(this,e,t,n,r,i),a=o.kidAnchorX,l=o.kidAnchorY;if(i){var c=e.father||e.mother,u=c?c.position.bottom:l,d=Math.abs(u-l)/2;this.drawLineText(e,t,a,n,d)}}},{key:"drawLineText",value:function(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=e.relationToFocus||"",s=(n+r)/2,c=t+a;switch(l){case"R":i=e.gid,c+=25;break;case"RK":case"RS":case"RF":case"RM":case"RFF":case"RFM":case"RMF":case"RMM":i=this.rootPersonGid;break;default:"RM"!==(o=l.substr(0,2))&&"RF"!==o&&"RC"!==o||(i=this.rootPersonGid)}if(l){var u,f=Math.max(Math.abs(n-r),this.nodeSize.width+20),d=!1;switch(e.relationToFocusText){case b.parents:case b.grandparents:case b.greatgrandparents:case b.greatgreatgrandparents:s=r,c=e.position.bottom+this.nodeSize.height+this.getGenerationSpacing(e.generation+1),d=!0,a=20,(u=e.AllParentNodes).length>0&&(f=u[0].width);break;case b.children:case b.grandchildren:case b.greatgrandchildren:case b.greatgreatgrandchildren:s=r,c=e.position.bottom+this.nodeSize.height+this.getGenerationSpacing(e.generation),a=20,f=Math.max(f,2*this.nodeSize.width+2*this.spacing.spouseLine)}"RS"===l&&(n<r?s-=5:s+=5,f-=10),this.lineText.push({x:s,y:c,w:f,h:2*a,t:this.getLineText(i,e),ta:d})}}},{key:"toggleAllSpouses",value:function(e){var t=this;"boolean"!=typeof e&&(e=!1),this.showAllSpouses=e,e||d(new Set(this.nodes.filter((function(e){return!e.isNew&&"spouse"!==e.relativeType})).map((function(e){return t.TreeData.GetPerson(e.gid)})).filter((function(e){return!!e})))).forEach((function(e){return e.ResetSpouseVisibility()})),this.Refresh()}},{key:"consolidateLineLabels",value:function(){if(this.lineText=this.lineText.filter((function(e,t,n){return n.findIndex((function(t){return t.x===e.x&&t.y===e.y&&t.t===e.t&&t.w===e.w}))===t})).sort((function(e,t){return e.y-t.y||e.h-t.h||e.t.localeCompare(t.t)||e.x-t.x})),this.lineText.length>0)for(var e=this.lineText[0],t=1;t<this.lineText.length;){var n=this.lineText[t];if(e.y===n.y&&e.h===n.h&&e.t===n.t){var r=e.x-e.w/2,i=r+e.w,o=n.x-n.w/2,a=o+n.w;if(i>=o){var l=Math.max(i,a),s=Math.min(r,o);e.x=(s+l)/2,e.w=l-s,this.lineText.splice(t,1);continue}}e=n,t++}}}]),y}(v);e.exports=P},6988:function(e){e.exports={OpenWorkspacePanel:function(e,t,n,r,i){if(!e||"string"!=typeof e)throw new Error("Missing required urlPrefix");if(!t||"string"!=typeof t)throw new Error("Missing required userId");if(!n)throw new Error("Missing required person parameter");if("function"!=typeof r)throw new Error("Invalid callback");"number"!=typeof i&&(i=0);var o=window,a=o.searchSidePanel,l=o.layersSidePanel;a&&a.isOpen&&a.close(),l&&l.isOpen&&l.close();var s="".concat(e,"/workspace/user/").concat(t,"/tree/").concat(n.tid,"/person/").concat(n.pid,"?showUserCard=true");return fetch(s,{credentials:"same-origin",method:"GET",cache:"no-cache"}).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()})).then((function(e){if(!e)throw new Error("missing data from workspace call");var t=window.getWorkspaceData;if(window.getWorkspaceData=JSON.parse(e.data),t)window.workspaceView&&(window.workspaceView.handleResetWorkspace(),u(),window.workspaceView&&!1===window.workspaceView.state.isOpen&&window.workspaceView.handleToggle(),window.workspaceView.refWorkspaceContent.refWorkspaceTags.current.setState({unselected:!0}),c(i));else{r(e.html);var n=setInterval((function(){window.workspaceView&&(clearInterval(n),u(),window.workspaceView.handleToggle(),window.workspaceView.refWorkspaceContent.refWorkspaceTags.current.setState({unselected:!0}),c(i))}),50)}}));function c(e){var t="tab";switch(e){case 1:t+="Notes";break;case 2:t+="Comments";break;default:t+="Tags"}var n=document.getElementsByClassName(t);n.length>0&&n[0].click()}function u(){window.workspaceView.setState({userCard:{gender:n.GenderLong,lifeRange:n.LifeSpan,userCardImg:n.PrimaryPhoto,userCardInfo:"",userCardTitle:n.FullName}})}}}},5888:function(e,t,n){"use strict";function r(e){return e*(Math.PI/180)}function i(e,t){return{x:t*Math.cos(e),y:t*Math.sin(e)}}function o(e){return["M",e.x,e.y]}function a(e){return["L",e.x,e.y]}function l(e,t,n){return["A",e,e,0,"0",n,t.x,t.y]}function s(e,t,n,s,c){if("number"!=typeof e)throw new Error("invalid endDeg parameter");if("number"!=typeof t)throw new Error("invalid startDeg parameter");if("number"!=typeof n||n<0)throw new Error("invalid innerRadius parameter");if("number"!=typeof s||s<0)throw new Error("invalid outerRadius parameter");if("boolean"!=typeof c&&(c=!1),c){var u=r(t),f=r(e),d=n+(s-n)/2,p=i(u,d),h=i(f,d);return[o(p),l(d,h,"1")].map((function(e){return e.join(" ")})).join(" ")}var m=(t+e)/2,v=r(m);return[o(i(v,m>270?n:s)),a(i(v,m>270?s:n))].map((function(e){return e.join(" ")})).join(" ")}function c(e,t,n,s){if("number"!=typeof e)throw new Error("invalid startDeg parameter");if("number"!=typeof t)throw new Error("invalid endDeg parameter");if("number"!=typeof n||n<0)throw new Error("invalid innerRadius parameter");if("number"!=typeof s||s<0)throw new Error("invalid outerRadius parameter");var c=r(e),u=r(t),f=i(c,n),d=i(u,n),p=i(c,s),h=i(u,s);return[o(f),l(n,d,"0"),a(h),l(s,p,"1"),a(f)].map((function(e){return e.join(" ")})).join(" ")}n.r(t),n.d(t,{CreateWedgePath:function(){return c},CreateWedgeTextPath:function(){return s}})},1460:function(e,t,n){"use strict";n.r(t),t.default=function(e,t){var n=window.strings&&window.strings[e]||e;if(t)for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e];"number"==typeof r&&(r=r.toLocaleString()),n=n.replace(new RegExp("{"+e+"}","gi"),r)}return n}},4596:function(e,t,n){"use strict";n.r(t),n.d(t,{ContainTabbing:function(){return V},DismissInterfaceExtension:function(){return Q},GetAddRelativeTypes:function(){return X},GetGender:function(){return T},GetHoverCardPosition:function(){return A},GetIconClass:function(){return S},GetTrimmedName:function(){return x},GetYear:function(){return b},HandleJsonResponse:function(){return L},InterfaceExtension:function(){return J},IsValidYear:function(){return E},LogError:function(){return j},MeiosisRelationship:function(){return Z},SortChildren:function(){return H},TaggedRelationship:function(){return W},UBELink:function(){return O},UBETrackScreenState:function(){return I},ValidateNumberId:function(){return F},arrayEquals:function(){return ie},computeRelativeTypeToFocus:function(){return K},getShowDnaIndicators:function(){return re},getSidebarFlags:function(){return oe},isOutOfViewport:function(){return Y},isTreeLinked:function(){return ne},labels:function(){return q},onAfterOpenCallout:function(){return ee},useQuery:function(){return te},useWindowDimensions:function(){return w}});var r=n(4942),i=n(2982),o=n(1002),a=n(885),l=n(7294),s=n(1460);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p,h,m=0,v=.5,g={},y={};function w(){var e=(0,l.useState)({w:window.innerWidth,h:window.innerHeight}),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,l.useEffect)((function(){var e=function(){return r({w:window.innerWidth,h:window.innerHeight})},t=window.ui&&"function"==typeof window.ui.throttle?window.ui.throttle(e,50,{leading:!0,trailing:!0,debounce:!0}):e;return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}function b(e){if("string"!=typeof e)return null;var t,n=g[e];if(void 0===n){n=null;var r=e.trim();if(r.length>0){var i=function(e){for(var t=[],n="",r=0;r<e.length;r++){var i=e.substr(r,1);isNaN(parseInt(i,10))?n.length>0&&(t.push(parseInt(n,10)),n=""):n+=i}return n.length>0&&t.push(parseInt(n,10)),t}(r);if(i.length>0){var o=((t=i).sort((function(e,t){return e-t})),t[t.length-1]);(o>31||o<1)&&(n=o.toString())}}g[e]=n,r!==e&&(g[r]=n)}return n}function E(e){return"string"==typeof e&&e.length>0&&"0"!==e}function S(e,t,n){if(!e||"object"!==(0,o.Z)(e))throw new Error("Missing person");var r=["icon"];switch(e.Gender){case"M":r.push("iconMale");break;case"F":r.push("iconFemale");break;default:r.push("iconPerson")}return r.push("userCardImg"+(t?" userCardImgCircle":" userCardImgSquare userCardImgOriginal")+(n?" potential":"")),r.join(" ")}function T(e){if(!e||"object"!==(0,o.Z)(e))throw new Error("Missing person");switch(e.Gender){case"M":return"Male";case"F":return"Female";default:return"Person"}}function x(e,t,n,r,o){n=B(n),r=B(r),e=B(e),t=B(t),"number"!=typeof o&&(o=-1);var a=e.split(" "),l=0,s=function(e,t,n,r,i){if(i<=0)return 0;var o=0;return e.map((function(e){o+=U(e)})),o+=t.length,n.length>0&&(o+=U(n)),r.length>0&&(o+=U(r)),o-i}(a,t,n,r,o);if(s<=0)return[r].concat((0,i.Z)(a),[t,n]).filter((function(e){return!!e})).join(" ").trim();var c=function(e){return l<s&&e.length>0?(l+=U(e),""):e};return l=N(a,l,s,!0),r=c(r),n=c(n),l<s&&a.length>1&&(l=N(a,l,s,!1)),0===t.length?a[0]=P(a[0],o):(l<s&&a.length>0&&a[0].length>1&&(l+=U(a[0].substr(1))-v,a[0]=k(a[0])),l<s&&a.length>0&&(a[0]=""),t=P(t,o)),[r].concat((0,i.Z)(a),[t,n]).filter((function(e){return!!e})).join(" ").trim()}function k(e){return(0,i.Z)(e)[0]||""}function C(e){var t=(0,i.Z)(e);return t.slice(0,t.length-1).join("")}function P(e,t){for(var n=e;U(n)-v>t;)n=C(n);return n}function N(e,t,n,r){for(var i=e.length-1;i>0&&!(t>=n);i--)if(r){var o=k(e[i]);t+=U(e[i].substring(o.length))-v,e[i]=o}else t+=U(e[i]),e[i]="";return t}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((function(){if("function"==typeof window.unifiedTrackingFactory){var n=(window.location.hostname||"").split("."),r=(n.length>3?n[3]:n[2])||"com",i="com"===r?"us":r;e(window.unifiedTrackingFactory({stack:"treesui-treeviewer"}),i)}else t<50&&_(e,t+1)}),50)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||!e)throw new Error("invalid eventName");if(!t||"object"!==(0,o.Z)(t))throw new Error("invalid eventData");n||M(t),_((function(n){return n.trackUserBehavior(e,d(d({},t),{},{unifiedEvent:!0}))}))}function I(e,t){if("string"!=typeof e||!e)throw new Error("invalid viewName");if(!t||"object"!==(0,o.Z)(t))throw new Error("invalid viewData");M(t),_((function(n){return n.trackScreenState(e,d(d({},t),{},{unifiedEvent:!0}))}))}function M(e){function t(t){"string"==typeof e[t]&&(e[t]=parseInt(e[t])),("number"!=typeof e[t]||isNaN(e[t]))&&delete e[t]}t("treeId"),t("personaId")}function F(e){if(null!==(e=e||null))try{var t=parseInt(e);if(isNaN(t)||0===t)throw new Error("invalid id")}catch(t){j(t),e=null}return e}function j(e,t){window.newrelic&&"function"==typeof window.newrelic.noticeError?window.newrelic.noticeError(e,t):console.log(e)}function L(e){if("object"!==(0,o.Z)(e)||!e||"function"!=typeof e.json)throw new Error("invalid response");if(!e.ok)throw new Error("".concat(e.status));return e.json()}function A(e,t,n,r,i){if("object"!==(0,o.Z)(e)||!e||"object"!==(0,o.Z)(e.rect)||!e.rect)return null;if("number"!=typeof t||t<=767)return null;if("number"!=typeof n||"number"!=typeof r||"number"!=typeof i)return null;var a=e.rect,l=Math.max(a.left,25);if(l>t/2){if(!m){var s=document.createElement("div");s.classList.add("hoverCard"),document.body.appendChild(s),m=s.offsetWidth||450,document.body.removeChild(s)}l=Math.min(l-m+a.width,t-m-25)}var c={left:l};return a.top<r/2?c.top=a.top-n:c.bottom=i-(a.top+a.height),c}var D=function(e){9!==e.which||e.shiftKey||(e.preventDefault(),h.focus())},R=function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),p.focus())};function V(e,t){if(e){var n=e.querySelectorAll("*"),r=null;p&&p.removeEventListener("keydown",D,!0),h&&h.removeEventListener("keydown",R,!0),p=null,h=null;var i,o=c(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;window.ui.tabbable(a)&&a.offsetHeight>0&&("BUTTON"==a.tagName||"A"==a.tagName)&&(h||(h=a),r||(r=a===document.activeElement),p=a)}}catch(e){o.e(e)}finally{o.f()}p&&h&&(p.addEventListener("keydown",D,!0),h.addEventListener("keydown",R,!0),r||(t?t.focus():h.focus()))}}function B(e){if(null!=e&&"string"!=typeof e)throw new Error("Invalid parameter");return(e||"").trim()}function U(e){var t=y[e];if("number"!=typeof t){t=e.length+v;var n=e.match(/[Ifijlrt]/g);n&&(t-=n.length*v),y[e]=t}return t}function H(e){if(!Array.isArray(e))throw new Error("Invalid unsortedChildren parameter");e.sort(G)}function G(e,t){if(null==e&&null==t)return 0;if(null!=e&&null==t)return 1;if(null==e)return-1;var n=e.BirthYear,r=t.BirthYear;if(E(n)&&!E(r))return 1;if(!E(n)&&E(r))return-1;var i=(n||"").localeCompare(r);return!E(n)&&!E(r)||0==i?function(e,t){var n=z(e),r=z(t);return""===r&&""!==n?1:""===n&&""!==r?-1:n.localeCompare(r)}(e,t):i}function z(e){return""!==e.Surname&&""!==e.GivenName?"".concat(e.Surname," ").concat(e.GivenName):""}function Z(e){if(!e)return null;switch(e.relationship){case 0:return(0,s.default)("relation.Self");case 1:return(0,s.default)("relation.Parent");case 2:return(0,s.default)("relation.ImmediateFamily");case 3:return(0,s.default)("relation.CloseFamily");case 4:return(0,s.default)("relation.FirstCousin");case 5:case 6:return(0,s.default)("relation.SecondCousin");case 7:return(0,s.default)("relation.ThirdCousin");case 8:case 9:return(0,s.default)("relation.FourthCousin");case 10:case 11:case 12:case 13:case 14:case 15:return(0,s.default)("relation.DistantCousin");default:return null}}function W(e){var t=e&&e.tags?e.tags[5]:null;return"string"==typeof t&&t?t.charAt(0).toUpperCase()+t.slice(1):null}var q={husband:"Husband",wife:"Wife",girlfriend:"Girlfriend",boyfriend:"Boyfriend",children:"Children",grandchildren:"Grandchildren",greatgrandchildren:"Great-grandchildren",greatgreatgrandchildren:"Great-great-grandchildren",grandparents:"Grandparents",greatgrandparents:"Great-grandparents",greatgreatgrandparents:"Great-great-grandparents",parents:"Parents",siblings:"Siblings",cousins:"Cousins",auntsanduncles:"Aunts and Uncles",grandauntsanduncles:"Grandaunts and uncles",greatgrandauntsanduncles:"Great-grandaunts and uncles",nephewsandnieces:"Nephews and Nieces",grandnephewsandnieces:"Grandnephews and Nieces",greatgrandnephewsandnieces:"Great-grandnephews and nieces"};function $(e){var t,n=["st","nd","rd","th"];return t=e%10==1&&e%100!=11?n[0]:e%10==2&&e%100!=12?n[1]:e%10==3&&e%100!=13?n[2]:n[3],"".concat(e).concat(t)}function K(e,t,n,r,i){var o,a,l="",s="",c="";switch(t){case q.parents:e===q.children?s=q.children:e===q.siblings?2===n?s=q.grandauntsanduncles:3===n?s=q.greatgrandauntsanduncles:n>3?(s=q.greatgrandauntsanduncles,l=$(n-2)):s=q.auntsanduncles:s=q.grandparents;break;case q.grandparents:case q.greatgrandparents:case q.greatgreatgrandparents:e===q.parents&&(2==(a=n-1)?s=q.greatgreatgrandparents:(s=q.greatgrandparents,a>2&&(l=$(a))));break;case q.children:s=q.grandchildren,-1==n?s=q.children:e===q.children&&(s=q.grandchildren);break;case q.grandchildren:case q.greatgrandchildren:case q.greatgreatgrandchildren:e===q.children&&(2==(a=-1*n-2)?s=q.greatgreatgrandchildren:(s=q.greatgrandchildren,a>2&&(l=$(a))));break;case q.siblings:0===n&&(s=q.siblings),e===q.children&&(s=q.nephewsandnieces);break;case q.cousins:s=q.cousins,0===n?e===q.parents&&(l=$(1)):(l=$(Number(r&&r[0])+1),o=parseInt(i),isNaN(o)&&(o=0),c=0!==(o+=n<0?1:-1)?"".concat(o,"x removed"):"");break;case q.auntsanduncles:case q.greatgrandauntsanduncles:case q.grandauntsanduncles:e===q.children?(s=q.cousins,0!==n&&(c="".concat(Math.abs(n),"x removed"))):s=q.auntsanduncles;break;case q.nephewsandnieces:case q.grandnephewsandnieces:case q.greatgrandnephewsandnieces:(a=-1*n-2)<1?s=q.grandnephewsandnieces:(s=q.greatgrandnephewsandnieces,a>1&&(l=$(a)));break;default:s=q.parents}return[l,s,c]}function Y(e){var t=document.getElementsByClassName(e)[0];if(null==t)return!0;var n=t.getBoundingClientRect(),r={};return r.top=n.top<0,r.left=n.left<0,r.bottom=n.bottom>(window.innerHeight||document.documentElement.clientHeight),r.right=n.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r.all=r.top&&r.left&&r.bottom&&r.right,r.any}var J={FamilyViewSurvey:1,FamilyViewGuidance:2,ShareModalGuidance:3,ToggleStateWarning:5,DNAMatchSurvey:6,NFVCallout:7,DNAButtonCallout:8,SpouseToggleNewCallout:9,LivingSiblingCallout:10};function Q(e){var t="",n=[];switch(e){case J.FamilyViewSurvey:t="dismissfamilyviewsurvey";break;case J.FamilyViewGuidance:t="dismissfamilyviewguidance";break;case J.ShareModalGuidance:t="dismisssharemodalguidance";break;case J.ToggleStateWarning:t="dismissToggleStateWarning";break;case J.DNAMatchSurvey:t="dismissDnaMatchSurvey";break;case J.NFVCallout:t="dismissNFVCallout";break;case J.DNAButtonCallout:t="layersCalloutDismissed";break;case J.LivingSiblingCallout:t="dismisslivingsiblingcallout";break;case J.SpouseToggleNewCallout:if(!window.TreeViewerData.ShowNewSpouseToggleBadge)return Promise.resolve();window.TreeViewerData.ShowNewSpouseToggleBadge=!1,t="dismissNFVCallout",n.push("id=spouse");break;default:throw new Error("unexpected interface extension")}var r=n.length>0?"?"+n.join("&"):"";return fetch("/api/treeviewer/".concat(t).concat(r),{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify({dismissed:!0})}).then((function(e){if(!e.ok)throw new Error("Failed to save ".concat(t," preferences"))}))}function X(e){var t=[];if(e){var n=e.JSON.Family,r=n.filter((function(e){return"M"===e.t})).length>0,i=n.filter((function(e){return"F"===e.t})).length>0;i||t.push("Father"),r||t.push("Mother"),(i||r)&&(t.push("Brother"),t.push("Sister")),t.push.apply(t,["Spouse","Child"])}return t}function ee(e,t,n){if(t){n||(n="bottom");var r=t.state.instance.contentElement.parentElement,i=(r.style.transform||"").match(/\d+/g)||[];if(2===i.length){var o=e.element.getBoundingClientRect(),a=r.getBoundingClientRect(),l=i[0],s=i[1];switch(n){case"top":case"bottom":l=o.x+o.width/2-a.width/2,"bottom"===n&&(s=o.y+o.height);break;case"left":case"right":s=o.y+o.height/2-a.height/2,"right"===n&&(l=o.x+o.width)}r.style.transform="translate(".concat(l,"px, ").concat(s,"px)")}}}function te(e){return function(e){var t,n={},r=c(e);try{for(r.s();!(t=r.n()).done;){var i=(0,a.Z)(t.value,2),o=i[0],l=i[1];n[o]=l}}catch(e){r.e(e)}finally{r.f()}return n}(new URLSearchParams(e.search.slice(1)).entries())}function ne(){return null!==window.TreeViewerData.sampleId}function re(e){return!ne()||!function(e){var t;return e.gid===(null===(t=window.TreeViewerData.RootPids)||void 0===t?void 0:t.home)}(e)}function ie(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function oe(e){var t=e.Rights,n=e.ActivityRecentChanges,r=e.ActivityRecentViews,i=e.ActivityComments,o="owner"===(null==t?void 0:t.access);return{showRecentChanges:o&&n,showRecentViews:o&&r,showComments:(null==t?void 0:t.read)&&"public"!==(null==t?void 0:t.access)&&i}}},3241:function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},l=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[n]=[],f=function(){return new c(this)};if(l[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return-1!==s(this,e+="")},u.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{-1===s(this,e=t[n]+"")&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(t=s(this,e=n[r]+"");-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<i);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.toString=function(){return this.join(" ")},i.defineProperty){var d={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,d)}catch(e){void 0!==e.number&&-2146823252!==e.number||(d.enumerable=!1,i.defineProperty(r,t,d))}}else i[n].__defineGetter__&&r.__defineGetter__(t,f)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4020:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=o(n[0]);i!==n[0]&&(t[n[0]]=i)}n=r.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),l=0;l<a.length;l++){var s=a[l];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},2702:function(e,t,n){var r=n(4155);e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,l=function(e,t){h[i]=e,h[i+1]=t,2===(i+=2)&&(a?a(m):b())};var s="undefined"!=typeof window?window:void 0,c=s||{},u=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(m,1)}}var h=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;i=0}var v,g,y,w,b=void 0;function E(e,t){var n=this,r=new this.constructor(x);void 0===r[T]&&D(r);var i=n._state;if(i){var o=arguments[i-1];l((function(){return L(i,r,o,n._result)}))}else F(n,r,e,t);return r}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return _(t,e),t}b=f?function(){return r.nextTick(m)}:u?(g=0,y=new u(m),w=document.createTextNode(""),y.observe(w,{characterData:!0}),function(){w.data=g=++g%2}):d?((v=new MessageChannel).port1.onmessage=m,function(){return v.port2.postMessage(0)}):void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(m)}:p()}catch(e){return p()}}():p();var T=Math.random().toString(36).substring(2);function x(){}var k=void 0,C=1,P=2;function N(t,n,r){n.constructor===t.constructor&&r===E&&n.constructor.resolve===S?function(e,t){t._state===C?I(e,t._result):t._state===P?M(e,t._result):F(t,void 0,(function(t){return _(e,t)}),(function(t){return M(e,t)}))}(t,n):void 0===r?I(t,n):e(r)?function(e,t,n){l((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?_(e,n):I(e,n))}),(function(t){r||(r=!0,M(e,t))}),e._label);!r&&i&&(r=!0,M(e,i))}),e)}(t,n,r):I(t,n)}function _(e,t){if(e===t)M(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)I(e,t);else{var n=void 0;try{n=t.then}catch(t){return void M(e,t)}N(e,t,n)}var r,i}function O(e){e._onerror&&e._onerror(e._result),j(e)}function I(e,t){e._state===k&&(e._result=t,e._state=C,0!==e._subscribers.length&&l(j,e))}function M(e,t){e._state===k&&(e._state=P,e._result=t,l(O,e))}function F(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+C]=n,i[o+P]=r,0===o&&e._state&&l(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?L(n,r,i,o):i(o);e._subscribers.length=0}}function L(t,n,r,i){var o=e(r),a=void 0,l=void 0,s=!0;if(o){try{a=r(i)}catch(e){s=!1,l=e}if(n===a)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==k||(o&&s?_(n,a):!1===s?M(n,l):t===C?I(n,a):t===P&&M(n,a))}var A=0;function D(e){e[T]=A++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(x),this.promise[T]||D(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&I(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===k&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===S){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===E&&e._state!==k)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===V){var l=new n(x);a?M(l,o):N(l,e,i),this._willSettleAt(l,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===k&&(this._remaining--,e===P?M(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;F(e,void 0,(function(e){return n._settledAt(C,t,e)}),(function(e){return n._settledAt(P,t,e)}))},e}();var V=function(){function t(e){this[T]=A++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){_(e,t)}),(function(t){M(e,t)}))}catch(t){M(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return V.prototype.then=E,V.all=function(e){return new R(this,e).promise},V.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=S,V.reject=function(e){var t=new this(x);return M(t,e),t},V._setScheduler=function(e){a=e},V._setAsap=function(e){l=e},V._asap=l,V.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V,V}()},4301:function(e,t,n){n(7147),e.exports=self.fetch.bind(self)},7418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in o=Object(arguments[s]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(l[a[u]]=o[a[u]])}}return l}},4779:function(e,t,n){var r=n(6173);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return u(new RegExp("(?:"+i.join("|")+")",f(r)),n)}(t,n,i):function(e,t,n){return d(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return l(o(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,l="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],p=n.index;if(l+=e.slice(a,p),a=p+f.length,d)l+=d[1];else{var h=e[a],m=n[2],v=n[3],g=n[4],y=n[5],w=n[6],b=n[7];l&&(r.push(l),l="");var E=null!=m&&null!=h&&h!==m,S="+"===w||"*"===w,T="?"===w||"*"===w,x=n[2]||u,k=g||y;r.push({name:v||o++,prefix:m||"",delimiter:x,optional:T,repeat:S,partial:E,asterisk:!!b,pattern:k?c(k):b?".*":"[^"+s(x)+"]+?"})}}return a<e.length&&(l+=e.substr(a)),l&&r.push(l),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",l=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var f,d=l[u.name];if(null==d){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(f=s(d[p]),!n[c].test(f))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?u.prefix:u.delimiter)+f}}else{if(f=u.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!n[c].test(f))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+f+'"');o+=u.prefix+f}}else o+=u}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",l=0;l<e.length;l++){var c=e[l];if("string"==typeof c)a+=s(c);else{var d=s(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+d+p+")*"),a+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var h=s(n.delimiter||"/"),m=a.slice(-h.length)===h;return i||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+h+"|$)",u(new RegExp("^"+a,f(n)),t)}},6173:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},4155:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,s=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?s=l.concat(s):u=-1,s.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=s.length;t;){for(l=s,s=[];++u<t;)l&&l[u].run();u=-1,t=s.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),1!==s.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7563:function(e,t,n){"use strict";var r=n(610),i=n(7418),o=n(4020);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=l(n):e[t]=n,e}),Object.create(null))):r}t.extract=s,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return a(r,t)+"="+a(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(s(e),t)}}},4448:function(e,t,n){"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function l(e,t,n,r,i,o,a,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var s=!1,c=null,u=!1,f=null,d={onError:function(e){s=!0,c=e}};function p(e,t,n,r,i,o,a,u,f){s=!1,c=null,l.apply(d,arguments)}var h=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,l,d,h){if(p.apply(this,arguments),s){if(!s)throw Error(a(198));var m=c;s=!1,c=null,u||(u=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,w={};function b(){if(y)for(var e in w){var t=w[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,o=n[r],l=t,s=r;if(T.hasOwnProperty(s))throw Error(a(99,s));T[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&E(c[i],l,s);i=!0}else o.registrationName?(E(o.registrationName,l,s),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function E(e,t,n){if(x[e])throw Error(a(100,e));x[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],T={},x={},k={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!w.hasOwnProperty(t)||w[t]!==r){if(w[t])throw Error(a(102,t));w[t]=r,n=!0}}n&&b()}var P=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),N=null,_=null,O=null;function I(e){if(e=m(e)){if("function"!=typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=h(t),N(e.stateNode,e.type,t))}}function M(e){_?O?O.push(e):O=[e]:_=e}function F(){if(_){var e=_,t=O;if(O=_=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function j(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function A(){}var D=j,R=!1,V=!1;function B(){null===_&&null===O||(A(),F())}function U(e,t,n){if(V)return e(t,n);V=!0;try{return D(e,t,n)}finally{V=!1,B()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,z={},Z={};function W(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace($,K);q[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace($,K);q[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace($,K);q[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!G.call(Z,e)||!G.call(z,e)&&(H.test(e)?Z[e]=!0:(z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,X="function"==typeof Symbol&&Symbol.for,ee=X?Symbol.for("react.element"):60103,te=X?Symbol.for("react.portal"):60106,ne=X?Symbol.for("react.fragment"):60107,re=X?Symbol.for("react.strict_mode"):60108,ie=X?Symbol.for("react.profiler"):60114,oe=X?Symbol.for("react.provider"):60109,ae=X?Symbol.for("react.context"):60110,le=X?Symbol.for("react.concurrent_mode"):60111,se=X?Symbol.for("react.forward_ref"):60112,ce=X?Symbol.for("react.suspense"):60113,ue=X?Symbol.for("react.suspense_list"):60120,fe=X?Symbol.for("react.memo"):60115,de=X?Symbol.for("react.lazy"):60116,pe=X?Symbol.for("react.block"):60121,he="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=he&&e[he]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case pe:return ve(e.render);case de:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=we(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function ke(e,t){xe(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function _e(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Me(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,De,Re=(De=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return De(e,t)}))}:De);function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ue={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},He={},Ge={};function ze(e){if(He[e])return He[e];if(!Ue[e])return e;var t,n=Ue[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return He[e]=n[t];return e}P&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ue.animationend.animation,delete Ue.animationiteration.animation,delete Ue.animationstart.animation),"TransitionEvent"in window||delete Ue.transitionend.transition);var Ze=ze("animationend"),We=ze("animationiteration"),qe=ze("animationstart"),$e=ze("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function et(e){if(Qe(e)!==e)throw Error(a(188))}function tt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return et(i),e;if(o===r)return et(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function at(e){if(null!==e&&(it=nt(it,e)),e=it,it=null,e){if(rt(e,ot),it)throw Error(a(95));if(u)throw e=f,u=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function st(e){if(!P)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ut(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var l=null,s=0;s<S.length;s++){var c=S[s];c&&(c=c.extractEvents(r,t,o,i,a))&&(l=nt(l,c))}at(l)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":qt(t,"scroll",!0);break;case"focus":case"blur":qt(t,"focus",!0),qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":st(e)&&qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Wt(e,t)}n.set(e,null)}}var ht,mt,vt,gt=!1,yt=[],wt=null,bt=null,Et=null,St=new Map,Tt=new Map,xt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function _t(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Pt(t,n,r,i,o),null!==t&&null!==(t=Mn(t))&&mt(t),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=In(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Mn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){It(e)&&n.delete(t)}function Ft(){for(gt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Mn(e.blockedOn))&&ht(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==wt&&It(wt)&&(wt=null),null!==bt&&It(bt)&&(bt=null),null!==Et&&It(Et)&&(Et=null),St.forEach(Mt),Tt.forEach(Mt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Lt(e){function t(t){return jt(t,e)}if(0<yt.length){jt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&jt(wt,e),null!==bt&&jt(bt,e),null!==Et&&jt(Et,e),St.forEach(t),Tt.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Ot(n),null===n.blockedOn&&xt.shift()}var At={},Dt=new Map,Rt=new Map,Vt=["abort","abort",Ze,"animationEnd",We,"animationIteration",qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Rt.set(r,t),Dt.set(r,o),At[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Vt,2);for(var Ut="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Ut.length;Ht++)Rt.set(Ut[Ht],0);var Gt=o.unstable_UserBlockingPriority,zt=o.unstable_runWithPriority,Zt=!0;function Wt(e,t){qt(t,e,!1)}function qt(e,t,n){var r=Rt.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Yt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){R||A();var i=Yt,o=R;R=!0;try{L(i,e,t,n,r)}finally{(R=o)||B()}}function Kt(e,t,n,r){zt(Gt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){if(Zt)if(0<yt.length&&-1<kt.indexOf(e))e=Pt(null,e,t,n,r),yt.push(e);else{var i=Jt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<kt.indexOf(e))e=Pt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=_t(wt,e,t,n,r,i),!0;case"dragenter":return bt=_t(bt,e,t,n,r,i),!0;case"mouseover":return Et=_t(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,_t(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tt.set(o,_t(Tt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=ft(e,r,null,t);try{U(dt,e)}finally{ut(e)}}}}function Jt(e,t,n,r){if(null!==(n=In(n=lt(r)))){var i=Qe(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=Xe(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{U(dt,e)}finally{ut(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];function en(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function tn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Qt).forEach((function(e){Xt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var nn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(e,t){if(t){if(nn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an="http://www.w3.org/1999/xhtml";function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function sn(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=un(r)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn="$",vn="/$",gn="$?",yn="$!",wn=null,bn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tn="function"==typeof setTimeout?setTimeout:void 0,xn="function"==typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===mn||n===yn||n===gn){if(0===t)return e;t--}else n===vn&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+Pn,_n="__reactEventHandlers$"+Pn,On="__reactContainere$"+Pn;function In(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Nn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Mn(e){return!(e=e[Nn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Fn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jn(e){return e[_n]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function An(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=An(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Vn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=An(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&Vn(e._targetInst,null,e)}function Un(e){rt(e,Rn)}var Hn=null,Gn=null,zn=null;function Zn(){if(zn)return zn;var e,t,n=Gn,r=n.length,i="value"in Hn?Hn.value:Hn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function qn(){return!1}function $n(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:qn,this.isPropagationStopped=qn,this}function Kn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Yn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Jn(e){e.eventPool=[],e.getPooled=Kn,e.release=Yn}i($n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),$n.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},$n.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Jn(n),n},Jn($n);var Qn=$n.extend({data:null}),Xn=$n.extend({data:null}),er=[9,13,27,32],tr=P&&"CompositionEvent"in window,nr=null;P&&"documentMode"in document&&(nr=document.documentMode);var rr=P&&"TextEvent"in window&&!nr,ir=P&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function sr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ur=!1,fr={eventTypes:ar,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var o=ar.compositionStart;break e;case"compositionend":o=ar.compositionEnd;break e;case"compositionupdate":o=ar.compositionUpdate;break e}o=void 0}else ur?sr(e,n)&&(o=ar.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ar.compositionStart);return o?(ir&&"ko"!==n.locale&&(ur||o!==ar.compositionStart?o===ar.compositionEnd&&ur&&(i=Zn()):(Gn="value"in(Hn=r)?Hn.value:Hn.textContent,ur=!0)),o=Qn.getPooled(o,t,n,r),(i||null!==(i=cr(n)))&&(o.data=i),Un(o),i=o):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(lr=!0,or);case"textInput":return(e=t.data)===or&&lr?null:e;default:return null}}(e,n):function(e,t){if(ur)return"compositionend"===e||!tr&&sr(e,t)?(e=Zn(),zn=Gn=Hn=null,ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Xn.getPooled(ar.beforeInput,t,n,r)).data=e,Un(t)):t=null,null===i?t:null===t?i:[i,t]}},dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!dr[e.type]:"textarea"===t}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function mr(e,t,n){return(e=$n.getPooled(hr.change,e,t,n)).type="change",M(n),Un(e),e}var vr=null,gr=null;function yr(e){at(e)}function wr(e){if(Ee(Fn(e)))return e}function br(e,t){if("change"===e)return t}var Er=!1;function Sr(){vr&&(vr.detachEvent("onpropertychange",Tr),gr=vr=null)}function Tr(e){if("value"===e.propertyName&&wr(gr))if(e=mr(gr,e,lt(e)),R)at(e);else{R=!0;try{j(yr,e)}finally{R=!1,B()}}}function xr(e,t,n){"focus"===e?(Sr(),gr=n,(vr=t).attachEvent("onpropertychange",Tr)):"blur"===e&&Sr()}function kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return wr(gr)}function Cr(e,t){if("click"===e)return wr(t)}function Pr(e,t){if("input"===e||"change"===e)return wr(t)}P&&(Er=st("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:hr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?Fn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=br;else if(pr(i))if(Er)a=Pr;else{a=kr;var l=xr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Cr);if(a&&(a=a(e,t)))return mr(a,n,r);l&&l(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},_r=$n.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ir(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Mr(){return Ir}var Fr=0,jr=0,Lr=!1,Ar=!1,Dr=_r.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Fr;return Fr=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=jr;return jr=e.screenY,Ar?"mousemove"===e.type?e.screenY-t:0:(Ar=!0,0)}}),Rr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Vr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:Vr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var l=Dr,s=Vr.mouseLeave,c=Vr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(l=Rr,s=Vr.pointerLeave,c=Vr.pointerEnter,u="pointer");if(e=null==a?o:Fn(a),o=null==t?o:Fn(t),(s=l.getPooled(s,a,n,r)).type=u+"leave",s.target=e,s.relatedTarget=o,(n=l.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=a)&&u)e:{for(c=u,a=0,e=l=r;e;e=Ln(e))a++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<a-e;)l=Ln(l),a--;for(;0<e-a;)c=Ln(c),e--;for(;a--;){if(l===c||l===c.alternate)break e;l=Ln(l),c=Ln(c)}l=null}else l=null;for(c=l,l=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)l.push(r),r=Ln(r);for(r=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)r.push(u),u=Ln(u);for(u=0;u<l.length;u++)Vn(l[u],"bubbled",s);for(u=r.length;0<u--;)Vn(r[u],"captured",n);return 0==(64&i)?[s]:[s,n]}},Ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Hr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!Ur(e[n[r]],t[n[r]]))return!1;return!0}var zr=P&&"documentMode"in document&&11>=document.documentMode,Zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,qr=null,$r=null,Kr=!1;function Yr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Wr||Wr!==cn(n)?null:(n="selectionStart"in(n=Wr)&&hn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},$r&&Gr($r,n)?null:($r=n,(e=$n.getPooled(Zr.select,qr,e,t)).type="select",e.target=Wr,Un(e),e))}var Jr={eventTypes:Zr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Fn(t):window,e){case"focus":(pr(i)||"true"===i.contentEditable)&&(Wr=i,qr=t,$r=null);break;case"blur":$r=qr=Wr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Yr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},Qr=$n.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=$n.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=_r.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=_r.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oi=Dr.extend({dataTransfer:null}),ai=_r.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mr}),li=$n.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),si=Dr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:At,extractEvents:function(e,t,n,r){var i=Dt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ai;break;case Ze:case We:case qe:e=Qr;break;case $e:e=li;break;case"scroll":e=_r;break;case"wheel":e=si;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rr;break;default:e=$n}return Un(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),h=jn,m=Mn,v=Fn,C({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Nr,SelectEventPlugin:Jr,BeforeInputEventPlugin:fr});var ui=[],fi=-1;function di(e){0>fi||(e.current=ui[fi],ui[fi]=null,fi--)}function pi(e,t){fi++,ui[fi]=e.current,e.current=t}var hi={},mi={current:hi},vi={current:!1},gi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wi(e){return null!=e.childContextTypes}function bi(){di(vi),di(mi)}function Ei(e,t,n){if(mi.current!==hi)throw Error(a(168));pi(mi,t),pi(vi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,gi=mi.current,pi(mi,e),pi(vi,vi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Si(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,di(vi),di(mi),pi(mi,e)):di(vi),pi(vi,n)}var ki=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Ni=o.unstable_requestPaint,_i=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Mi=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Ai={},Di=o.unstable_shouldYield,Ri=void 0!==Ni?Ni:function(){},Vi=null,Bi=null,Ui=!1,Hi=_i(),Gi=1e4>Hi?_i:function(){return _i()-Hi};function zi(){switch(Oi()){case Ii:return 99;case Mi:return 98;case Fi:return 97;case ji:return 96;case Li:return 95;default:throw Error(a(332))}}function Zi(e){switch(e){case 99:return Ii;case 98:return Mi;case 97:return Fi;case 96:return ji;case 95:return Li;default:throw Error(a(332))}}function Wi(e,t){return e=Zi(e),ki(e,t)}function qi(e,t,n){return e=Zi(e),Ci(e,t,n)}function $i(e){return null===Vi?(Vi=[e],Bi=Ci(Ii,Yi)):Vi.push(e),Ai}function Ki(){if(null!==Bi){var e=Bi;Bi=null,Pi(e)}Yi()}function Yi(){if(!Ui&&null!==Vi){Ui=!0;var e=0;try{var t=Vi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(t){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ci(Ii,Ki),t}finally{Ui=!1}}}function Ji(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Qi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},eo=null,to=null,no=null;function ro(){no=to=eo=null}function io(e){var t=Xi.current;di(Xi),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ao(e,t){eo=e,no=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ja=!0),e.firstContext=null)}function lo(e,t){if(no!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(a(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var so=!1;function co(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.alternate;null!==n&&uo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function mo(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.baseQueue,l=o.shared.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}a=l,o.shared.pending=null,null!==(s=e.alternate)&&null!==(s=s.updateQueue)&&(s.baseQueue=l)}if(null!==a){s=a.next;var c=o.baseState,u=0,f=null,d=null,p=null;if(null!==s)for(var h=s;;){if((l=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=m,f=c):p=p.next=m,l>u&&(u=l)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),bs(l,h.suspenseConfig);e:{var v=e,g=h;switch(l=t,m=n,g.tag){case 1:if("function"==typeof(v=g.payload)){c=v.call(m,c,l);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(l="function"==typeof(v=g.payload)?v.call(m,c,l):v))break e;c=i({},c,l);break e;case 2:so=!0}}null!==h.callback&&(e.effectTag|=32,null===(l=o.effects)?o.effects=[h]:l.push(h))}if(null===(h=h.next)||h===s){if(null===(l=o.shared.pending))break;h=a.next=l.next,l.next=s,o.baseQueue=a=l,o.shared.pending=null}}null===p?f=c:p.next=d,o.baseState=f,o.baseQueue=p,Es(u),e.expirationTime=u,e.memoizedState=c}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var go=Y.ReactCurrentBatchConfig,yo=(new r.Component).refs;function wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ls(),i=go.suspense;(i=fo(r=ss(r,e,i),i)).payload=t,null!=n&&(i.callback=n),po(e,i),cs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ls(),i=go.suspense;(i=fo(r=ss(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),po(e,i),cs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ls(),r=go.suspense;(r=fo(n=ss(n,e,r),r)).tag=2,null!=t&&(r.callback=t),po(e,r),cs(e,n)}};function Eo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Gr(n,r)&&Gr(i,o))}function So(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=lo(o):(i=wi(t)?gi:mi.current,o=(r=null!=(r=t.contextTypes))?yi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,co(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=lo(o):(o=wi(t)?gi:mi.current,i.context=yi(e,o)),mo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(wo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&bo.enqueueReplaceState(i,i.state,null),mo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var ko=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Po(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function No(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Us(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case te:return(t=Zs(t,e.mode,n)).return=e,t}if(ko(t)||me(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Po(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(ko(n)||me(n))return null!==i?null:f(e,t,n,r,null);Po(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);Po(t,r)}return null}function m(i,a,l,s){for(var c=null,u=null,f=a,m=a=0,v=null;null!==f&&m<l.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=p(i,f,l[m],s);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,f=v}if(m===l.length)return n(i,f),c;if(null===f){for(;m<l.length;m++)null!==(f=d(i,l[m],s))&&(a=o(f,a,m),null===u?c=f:u.sibling=f,u=f);return c}for(f=r(i,f);m<l.length;m++)null!==(v=h(f,i,m,l[m],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,l,s,c){var u=me(s);if("function"!=typeof u)throw Error(a(150));if(null==(s=u.call(s)))throw Error(a(151));for(var f=u=null,m=l,v=l=0,g=null,y=s.next();null!==m&&!y.done;v++,y=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var w=p(i,m,y.value,c);if(null===w){null===m&&(m=g);break}e&&m&&null===w.alternate&&t(i,m),l=o(w,l,v),null===f?u=w:f.sibling=w,f=w,m=g}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;v++,y=s.next())null!==(y=d(i,y.value,c))&&(l=o(y,l,v),null===f?u=y:f.sibling=y,f=y);return u}for(m=r(i,m);!y.done;v++,y=s.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),l=o(y,l,v),null===f?u=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,s){var c="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Co(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Gs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Hs(o.type,o.key,o.props,null,e.mode,s)).ref=Co(e,r,o),s.return=e,e=s)}return l(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zs(o,e.mode,s)).return=e,e=r}return l(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=zs(o,e.mode,s)).return=e,e=r),l(e);if(ko(o))return m(e,r,o,s);if(me(o))return v(e,r,o,s);if(u&&Po(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var _o=No(!0),Oo=No(!1),Io={},Mo={current:Io},Fo={current:Io},jo={current:Io};function Lo(e){if(e===Io)throw Error(a(174));return e}function Ao(e,t){switch(pi(jo,t),pi(Fo,e),pi(Mo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}di(Mo),pi(Mo,t)}function Do(){di(Mo),di(Fo),di(jo)}function Ro(e){Lo(jo.current);var t=Lo(Mo.current),n=Le(t,e.type);t!==n&&(pi(Fo,e),pi(Mo,n))}function Vo(e){Fo.current===e&&(di(Mo),di(Fo))}var Bo={current:0};function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var Go=Y.ReactCurrentDispatcher,zo=Y.ReactCurrentBatchConfig,Zo=0,Wo=null,qo=null,$o=null,Ko=!1;function Yo(){throw Error(a(321))}function Jo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ur(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){if(Zo=o,Wo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Go.current=null===e||null===e.memoizedState?Ea:Sa,e=n(r,i),t.expirationTime===Zo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,$o=qo=null,t.updateQueue=null,Go.current=Ta,e=n(r,i)}while(t.expirationTime===Zo)}if(Go.current=ba,t=null!==qo&&null!==qo.next,Zo=0,$o=qo=Wo=null,Ko=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Wo.memoizedState=$o=e:$o=$o.next=e,$o}function ea(){if(null===qo){var e=Wo.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===$o?Wo.memoizedState:$o.next;if(null!==t)$o=t,qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===$o?Wo.memoizedState=$o=e:$o=$o.next=e}return $o}function ta(e,t){return"function"==typeof t?t(e):t}function na(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=l=o=null,c=i;do{var u=c.expirationTime;if(u<Zo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(l=s=f,o=r):s=s.next=f,u>Wo.expirationTime&&(Wo.expirationTime=u,Es(u))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),bs(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=l,Ur(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ra(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);Ur(o,t.memoizedState)||(ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ia(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e}).dispatch=wa.bind(null,Wo,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Wo.updateQueue)?(t={lastEffect:null},Wo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aa(){return ea().memoizedState}function la(e,t,n,r){var i=Xo();Wo.effectTag|=e,i.memoizedState=oa(1|t,n,void 0,void 0===r?null:r)}function sa(e,t,n,r){var i=ea();r=void 0===r?null:r;var o=void 0;if(null!==qo){var a=qo.memoizedState;if(o=a.destroy,null!==r&&Jo(r,a.deps))return void oa(t,n,o,r)}Wo.effectTag|=e,i.memoizedState=oa(1|t,n,o,r)}function ca(e,t){return la(516,4,e,t)}function ua(e,t){return sa(516,4,e,t)}function fa(e,t){return sa(4,2,e,t)}function da(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function pa(e,t,n){return n=null!=n?n.concat([e]):null,sa(4,2,da.bind(null,t,e),n)}function ha(){}function ma(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function va(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ga(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Jo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ya(e,t,n){var r=zi();Wi(98>r?98:r,(function(){e(!0)})),Wi(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function wa(e,t,n){var r=ls(),i=go.suspense;i={expirationTime:r=ss(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Wo||null!==o&&o===Wo)Ko=!0,i.expirationTime=Zo,Wo.expirationTime=Zo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.eagerReducer=o,i.eagerState=l,Ur(l,a))return}catch(e){}cs(e,r)}}var ba={readContext:lo,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},Ea={readContext:lo,useCallback:ma,useContext:lo,useEffect:ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,la(4,2,da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return la(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=wa.bind(null,Wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ia,useDebugValue:ha,useResponder:Ho,useDeferredValue:function(e,t){var n=ia(e),r=n[0],i=n[1];return ca((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(!1),n=t[0];return t=t[1],[ma(ya.bind(null,t,e),[t,e]),n]}},Sa={readContext:lo,useCallback:va,useContext:lo,useEffect:ua,useImperativeHandle:pa,useLayoutEffect:fa,useMemo:ga,useReducer:na,useRef:aa,useState:function(){return na(ta)},useDebugValue:ha,useResponder:Ho,useDeferredValue:function(e,t){var n=na(ta),r=n[0],i=n[1];return ua((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=na(ta),n=t[0];return t=t[1],[va(ya.bind(null,t,e),[t,e]),n]}},Ta={readContext:lo,useCallback:va,useContext:lo,useEffect:ua,useImperativeHandle:pa,useLayoutEffect:fa,useMemo:ga,useReducer:ra,useRef:aa,useState:function(){return ra(ta)},useDebugValue:ha,useResponder:Ho,useDeferredValue:function(e,t){var n=ra(ta),r=n[0],i=n[1];return ua((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ra(ta),n=t[0];return t=t[1],[va(ya.bind(null,t,e),[t,e]),n]}},xa=null,ka=null,Ca=!1;function Pa(e,t){var n=Vs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Na(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function _a(e){if(Ca){var t=ka;if(t){var n=t;if(!Na(e,t)){if(!(t=kn(n.nextSibling))||!Na(e,t))return e.effectTag=-1025&e.effectTag|2,Ca=!1,void(xa=e);Pa(xa,n)}xa=e,ka=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ca=!1,xa=e}}function Oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ia(e){if(e!==xa)return!1;if(!Ca)return Oa(e),Ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=ka;t;)Pa(e,t),t=kn(t.nextSibling);if(Oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn){if(0===t){ka=kn(e.nextSibling);break e}t--}else n!==mn&&n!==yn&&n!==gn||t++}e=e.nextSibling}ka=null}}else ka=xa?kn(e.stateNode.nextSibling):null;return!0}function Ma(){ka=xa=null,Ca=!1}var Fa=Y.ReactCurrentOwner,ja=!1;function La(e,t,n,r){t.child=null===e?Oo(t,null,n,r):_o(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;return ao(t,i),r=Qo(e,t,n,r,o,i),null===e||ja?(t.effectTag|=1,La(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Bs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Us(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,i,o){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(ja=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Ba(e,t,n,r,o)}function Va(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ba(e,t,n,r,i){var o=wi(n)?gi:mi.current;return o=yi(t,o),ao(t,i),n=Qo(e,t,n,r,o,i),null===e||ja?(t.effectTag|=1,La(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Ua(e,t,n,r,i){if(wi(n)){var o=!0;Ti(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),So(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,c=n.contextType;c="object"==typeof c&&null!==c?lo(c):yi(t,c=wi(n)?gi:mi.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==c)&&To(t,a,r,c),so=!1;var d=t.memoizedState;a.state=d,mo(t,r,a,i),s=t.memoizedState,l!==r||d!==s||vi.current||so?("function"==typeof u&&(wo(t,n,u,r),s=t.memoizedState),(l=so||Eo(t,n,l,r,d,s,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,uo(e,t),l=t.memoizedProps,a.props=t.type===t.elementType?l:Qi(t.type,l),s=a.context,c="object"==typeof(c=n.contextType)&&null!==c?lo(c):yi(t,c=wi(n)?gi:mi.current),(f="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==c)&&To(t,a,r,c),so=!1,s=t.memoizedState,a.state=s,mo(t,r,a,i),d=t.memoizedState,l!==r||s!==d||vi.current||so?("function"==typeof u&&(wo(t,n,u,r),d=t.memoizedState),(u=so||Eo(t,n,l,r,s,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Va(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&xi(t,n,!1),Xa(e,t,o);r=t.stateNode,Fa.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,l,o)):La(e,t,l,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Ao(e,t.containerInfo)}var za,Za,Wa,qa,$a={dehydrated:null,retryTime:0};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Bo.current,l=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),pi(Bo,1&a),null===e){if(void 0!==o.fallback&&_a(t),l){if(l=o.fallback,(o=Gs(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Gs(l,i,n,null)).return=t,o.sibling=n,t.memoizedState=$a,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Oo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,l){if(o=o.fallback,(n=Us(e,e.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=l;null!==l;)l.return=n,l=l.sibling;return(i=Us(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=$a,t.child=n,i}return n=_o(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=o.fallback,(o=Gs(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Gs(l,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=$a,t.child=o,n}return t.memoizedState=null,t.child=_o(t,e,o.children,n)}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),0!=(2&(r=Bo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Bo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Es(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Us(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Us(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&bi(),null;case 3:return Do(),di(vi),di(mi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ia(t)||(t.effectTag|=4),Za(t),null;case 5:Vo(t),n=Lo(jo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Wa(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Lo(Mo.current),Ia(t)){r=t.stateNode,o=t.type;var l=t.memoizedProps;switch(r[Nn]=t,r[_n]=l,o){case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Wt(Ke[e],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"form":Wt("reset",r),Wt("submit",r);break;case"details":Wt("toggle",r);break;case"input":Te(r,l),Wt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Wt("invalid",r),ln(n,"onChange");break;case"textarea":Ie(r,l),Wt("invalid",r),ln(n,"onChange")}for(var s in rn(o,l),e=null,l)if(l.hasOwnProperty(s)){var c=l[s];"children"===s?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(s)&&null!=c&&ln(n,s)}switch(o){case"input":be(r),Ce(r,l,!0);break;case"textarea":be(r),Fe(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=sn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===an&&(e=je(o)),e===an?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(o,{is:r.is}):(e=s.createElement(o),"select"===o&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,o),e[Nn]=t,e[_n]=r,za(e,t,!1,!1),t.stateNode=e,s=on(o,r),o){case"iframe":case"object":case"embed":Wt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ke.length;c++)Wt(Ke[c],e);c=r;break;case"source":Wt("error",e),c=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),c=r;break;case"form":Wt("reset",e),Wt("submit",e),c=r;break;case"details":Wt("toggle",e),c=r;break;case"input":Te(e,r),c=Se(e,r),Wt("invalid",e),ln(n,"onChange");break;case"option":c=Ne(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Wt("invalid",e),ln(n,"onChange");break;case"textarea":Ie(e,r),c=Oe(e,r),Wt("invalid",e),ln(n,"onChange");break;default:c=r}rn(o,c);var u=c;for(l in u)if(u.hasOwnProperty(l)){var f=u[l];"style"===l?tn(e,f):"dangerouslySetInnerHTML"===l?null!=(f=f?f.__html:void 0)&&Re(e,f):"children"===l?"string"==typeof f?("textarea"!==o||""!==f)&&Ve(e,f):"number"==typeof f&&Ve(e,""+f):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(x.hasOwnProperty(l)?null!=f&&ln(n,l):null!=f&&J(e,l,f,s))}switch(o){case"input":be(e),Ce(e,r,!1);break;case"textarea":be(e),Fe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?_e(e,!!r.multiple,n,!1):null!=r.defaultValue&&_e(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=sn)}En(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Lo(jo.current),Lo(Mo.current),Ia(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return di(Bo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ia(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Bo.current)?Ul===Il&&(Ul=jl):(Ul!==Il&&Ul!==jl||(Ul=Ll),0!==Wl&&null!==Rl&&($s(Rl,Bl),Ks(Rl,Wl)))),(n||r)&&(t.effectTag|=4),null);case 4:return Do(),Za(t),null;case 10:return io(t),null;case 19:if(di(Bo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(l=r.rendering)){if(o)el(r,!1);else if(Ul!==Il||null!==e&&0!=(64&e.effectTag))for(l=t.child;null!==l;){if(null!==(e=Uo(l))){for(t.effectTag|=64,el(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)l=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=l,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,l=e.dependencies,o.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),r=r.sibling;return pi(Bo,1&Bo.current|2),t.child}l=l.sibling}}else{if(!o)if(null!==(e=Uo(l))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),el(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,el(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Bo.current,pi(Bo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function nl(e){switch(e.tag){case 1:wi(e.type)&&bi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),di(vi),di(mi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Vo(e),null;case 13:return di(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return di(Bo),null;case 4:return Do(),null;case 10:return io(e),null;default:return null}}function rl(e,t){return{value:e,source:t,stack:ge(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(){},Wa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var l,s,c=t.stateNode;switch(Lo(Mo.current),e=null,n){case"input":a=Se(c,a),r=Se(c,r),e=[];break;case"option":a=Ne(c,a),r=Ne(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Oe(c,a),r=Oe(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=sn)}for(l in rn(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l)for(s in c=a[l])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(x.hasOwnProperty(l)?e||(e=[]):(e=e||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(e||(e=[]),e.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(l,u)):"children"===l?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(x.hasOwnProperty(l)?(null!=u&&ln(o,l),e||c===u||(e=[])):(e=e||[]).push(l,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var il="function"==typeof WeakSet?WeakSet:Set;function ol(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function al(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fs(e,t)}else t.current=null}function ll(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(a(163))}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function cl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void cl(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))))}throw Error(a(163))}function fl(e,t,n){switch("function"==typeof Ds&&Ds(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Fs(i,e)}}e=e.next}while(e!==r)}))}break;case 1:al(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fs(e,t)}}(t,n);break;case 5:al(t);break;case 4:gl(e,t,n)}}function dl(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&dl(t)}function pl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:{for(var t=e.return;null!==t;){if(pl(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||pl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ml(e,n,t):vl(e,n,t)}function ml(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=sn));else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function gl(e,t,n){for(var r,i,o=t,l=!1;;){if(!l){l=o.return;e:for(;;){if(null===l)throw Error(a(160));switch(r=l.stateNode,l.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}l=l.return}l=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,u=n,f=c;;)if(fl(s,f,u),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(fl(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(l=!1)}o.sibling.return=o.return,o=o.sibling}}function yl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void sl(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[_n]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),on(e,i),t=on(e,r),i=0;i<o.length;i+=2){var l=o[i],s=o[i+1];"style"===l?tn(n,s):"dangerouslySetInnerHTML"===l?Re(n,s):"children"===l?Ve(n,s):J(n,l,s,t)}switch(e){case"input":ke(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?_e(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?_e(n,!!r.multiple,r.defaultValue,!0):_e(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,$l=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void wl(t);case 19:return void wl(t)}throw Error(a(163))}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new il),t.forEach((function(t){var r=Ls.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bl="function"==typeof WeakMap?WeakMap:Map;function El(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jl||(Jl=!0,Ql=r),ol(e,t)},n}function Sl(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ol(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this),ol(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Tl,xl=Math.ceil,kl=Y.ReactCurrentDispatcher,Cl=Y.ReactCurrentOwner,Pl=0,Nl=8,_l=16,Ol=32,Il=0,Ml=1,Fl=2,jl=3,Ll=4,Al=5,Dl=Pl,Rl=null,Vl=null,Bl=0,Ul=Il,Hl=null,Gl=1073741823,zl=1073741823,Zl=null,Wl=0,ql=!1,$l=0,Kl=500,Yl=null,Jl=!1,Ql=null,Xl=null,es=!1,ts=null,ns=90,rs=null,is=0,os=null,as=0;function ls(){return(Dl&(_l|Ol))!==Pl?1073741821-(Gi()/10|0):0!==as?as:as=1073741821-(Gi()/10|0)}function ss(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=zi();if(0==(4&t))return 99===r?1073741823:1073741822;if((Dl&_l)!==Pl)return Bl;if(null!==n)e=Ji(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ji(e,150,100);break;case 97:case 96:e=Ji(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Rl&&e===Bl&&--e,e}function cs(e,t){if(50<is)throw is=0,os=null,Error(a(185));if(null!==(e=us(e,t))){var n=zi();1073741823===t?(Dl&Nl)!==Pl&&(Dl&(_l|Ol))===Pl?hs(e):(ds(e),Dl===Pl&&Ki()):ds(e),(4&Dl)===Pl||98!==n&&99!==n||(null===rs?rs=new Map([[e,t]]):(void 0===(n=rs.get(e))||n>t)&&rs.set(e,t))}}function us(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Rl===i&&(Es(t),Ul===Ll&&$s(i,Bl)),Ks(i,t)),i}function fs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!qs(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ds(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=$i(hs.bind(null,e));else{var t=fs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ls();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ai&&Pi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?$i(hs.bind(null,e)):qi(r,ps.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function ps(e,t){if(as=0,t)return Ys(e,t=ls()),ds(e),null;var n=fs(e);if(0!==n){if(t=e.callbackNode,(Dl&(_l|Ol))!==Pl)throw Error(a(327));if(Os(),e===Rl&&n===Bl||gs(e,n),null!==Vl){var r=Dl;Dl|=_l;for(var i=ws();;)try{Ts();break}catch(t){ys(e,t)}if(ro(),Dl=r,kl.current=i,Ul===Ml)throw t=Hl,gs(e,n),$s(e,n),ds(e),t;if(null===Vl)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ul,Rl=null,r){case Il:case Ml:throw Error(a(345));case Fl:Ys(e,2<n?2:n);break;case jl:if($s(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cs(i)),1073741823===Gl&&10<(i=$l+Kl-Gi())){if(ql){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,gs(e,n);break}}if(0!==(o=fs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Tn(Ps.bind(null,e),i);break}Ps(e);break;case Ll:if($s(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cs(i)),ql&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,gs(e,n);break}if(0!==(i=fs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==zl?r=10*(1073741821-zl)-Gi():1073741823===Gl?r=0:(r=10*(1073741821-Gl)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Tn(Ps.bind(null,e),r);break}Ps(e);break;case Al:if(1073741823!==Gl&&null!==Zl){o=Gl;var l=Zl;if(0>=(r=0|l.busyMinDurationMs)?r=0:(i=0|l.busyDelayMs,r=(o=Gi()-(10*(1073741821-o)-(0|l.timeoutMs||5e3)))<=i?0:i+r-o),10<r){$s(e,n),e.timeoutHandle=Tn(Ps.bind(null,e),r);break}}Ps(e);break;default:throw Error(a(329))}if(ds(e),e.callbackNode===t)return ps.bind(null,e)}}return null}function hs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Dl&(_l|Ol))!==Pl)throw Error(a(327));if(Os(),e===Rl&&t===Bl||gs(e,t),null!==Vl){var n=Dl;Dl|=_l;for(var r=ws();;)try{Ss();break}catch(t){ys(e,t)}if(ro(),Dl=n,kl.current=r,Ul===Ml)throw n=Hl,gs(e,t),$s(e,t),ds(e),n;if(null!==Vl)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Rl=null,Ps(e),ds(e)}return null}function ms(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{(Dl=n)===Pl&&Ki()}}function vs(e,t){var n=Dl;Dl&=-2,Dl|=Nl;try{return e(t)}finally{(Dl=n)===Pl&&Ki()}}function gs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Vl)for(n=Vl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bi();break;case 3:Do(),di(vi),di(mi);break;case 5:Vo(r);break;case 4:Do();break;case 13:case 19:di(Bo);break;case 10:io(r)}n=n.return}Rl=e,Vl=Us(e.current,null),Bl=t,Ul=Il,Hl=null,zl=Gl=1073741823,Zl=null,Wl=0,ql=!1}function ys(e,t){for(;;){try{if(ro(),Go.current=ba,Ko)for(var n=Wo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Zo=0,$o=qo=Wo=null,Ko=!1,null===Vl||null===Vl.return)return Ul=Ml,Hl=t,Vl=null;e:{var i=e,o=Vl.return,a=Vl,l=t;if(t=Bl,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var s=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Bo.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(s),f.updateQueue=v}else m.add(s);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=fo(1073741823,null);g.tag=2,po(a,g)}a.expirationTime=1073741823;break e}l=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new bl,l=new Set,y.set(s,l)):void 0===(l=y.get(s))&&(l=new Set,y.set(s,l)),!l.has(a)){l.add(a);var w=js.bind(null,i,s,a);s.then(w,w)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);l=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}Ul!==Al&&(Ul=Fl),l=rl(l,a),f=o;do{switch(f.tag){case 3:s=l,f.effectTag|=4096,f.expirationTime=t,ho(f,El(f,s,t));break e;case 1:s=l;var b=f.type,E=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Xl||!Xl.has(E)))){f.effectTag|=4096,f.expirationTime=t,ho(f,Sl(f,s,t));break e}}f=f.return}while(null!==f)}Vl=ks(Vl)}catch(e){t=e;continue}break}}function ws(){var e=kl.current;return kl.current=ba,null===e?ba:e}function bs(e,t){e<Gl&&2<e&&(Gl=e),null!==t&&e<zl&&2<e&&(zl=e,Zl=t)}function Es(e){e>Wl&&(Wl=e)}function Ss(){for(;null!==Vl;)Vl=xs(Vl)}function Ts(){for(;null!==Vl&&!Di();)Vl=xs(Vl)}function xs(e){var t=Tl(e.alternate,e,Bl);return e.memoizedProps=e.pendingProps,null===t&&(t=ks(e)),Cl.current=null,t}function ks(e){Vl=e;do{var t=Vl.alternate;if(e=Vl.return,0==(2048&Vl.effectTag)){if(t=tl(t,Vl,Bl),1===Bl||1!==Vl.childExpirationTime){for(var n=0,r=Vl.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Vl.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Vl.firstEffect),null!==Vl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Vl.firstEffect),e.lastEffect=Vl.lastEffect),1<Vl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Vl:e.firstEffect=Vl,e.lastEffect=Vl))}else{if(null!==(t=nl(Vl)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Vl.sibling))return t;Vl=e}while(null!==Vl);return Ul===Il&&(Ul=Al),null}function Cs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ps(e){var t=zi();return Wi(99,Ns.bind(null,e,t)),null}function Ns(e,t){do{Os()}while(null!==ts);if((Dl&(_l|Ol))!==Pl)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cs(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Rl&&(Vl=Rl=null,Bl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Dl;Dl|=Ol,Cl.current=null,wn=Zt;var l=pn();if(hn(l)){if("selectionStart"in l)var s={start:l.selectionStart,end:l.selectionEnd};else e:{var c=(s=(s=l.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var u=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(e){s=null;break e}var d=0,p=-1,h=-1,m=0,v=0,g=l,y=null;t:for(;;){for(var w;g!==s||0!==u&&3!==g.nodeType||(p=d+u),g!==f||0!==c&&3!==g.nodeType||(h=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(w=g.firstChild);)y=g,g=w;for(;;){if(g===l)break t;if(y===s&&++m===u&&(p=d),y===f&&++v===c&&(h=d),null!==(w=g.nextSibling))break;y=(g=y).parentNode}g=w}s=-1===p||-1===h?null:{start:p,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;bn={activeElementDetached:null,focusedElem:l,selectionRange:s},Zt=!1,Yl=i;do{try{_s()}catch(e){if(null===Yl)throw Error(a(330));Fs(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);Yl=i;do{try{for(l=e,s=t;null!==Yl;){var b=Yl.effectTag;if(16&b&&Ve(Yl.stateNode,""),128&b){var E=Yl.alternate;if(null!==E){var S=E.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&b){case 2:hl(Yl),Yl.effectTag&=-3;break;case 6:hl(Yl),Yl.effectTag&=-3,yl(Yl.alternate,Yl);break;case 1024:Yl.effectTag&=-1025;break;case 1028:Yl.effectTag&=-1025,yl(Yl.alternate,Yl);break;case 4:yl(Yl.alternate,Yl);break;case 8:gl(l,u=Yl,s),dl(u)}Yl=Yl.nextEffect}}catch(e){if(null===Yl)throw Error(a(330));Fs(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);if(S=bn,E=pn(),b=S.focusedElem,s=S.selectionRange,E!==b&&b&&b.ownerDocument&&dn(b.ownerDocument.documentElement,b)){null!==s&&hn(b)&&(E=s.start,void 0===(S=s.end)&&(S=E),"selectionStart"in b?(b.selectionStart=E,b.selectionEnd=Math.min(S,b.value.length)):(S=(E=b.ownerDocument||document)&&E.defaultView||window).getSelection&&(S=S.getSelection(),u=b.textContent.length,l=Math.min(s.start,u),s=void 0===s.end?l:Math.min(s.end,u),!S.extend&&l>s&&(u=s,s=l,l=u),u=fn(b,l),f=fn(b,s),u&&f&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)&&((E=E.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),l>s?(S.addRange(E),S.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),S.addRange(E))))),E=[];for(S=b;S=S.parentNode;)1===S.nodeType&&E.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<E.length;b++)(S=E[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Zt=!!wn,bn=wn=null,e.current=n,Yl=i;do{try{for(b=e;null!==Yl;){var T=Yl.effectTag;if(36&T&&ul(b,Yl.alternate,Yl),128&T){E=void 0;var x=Yl.ref;if(null!==x){var k=Yl.stateNode;Yl.tag,E=k,"function"==typeof x?x(E):x.current=E}}Yl=Yl.nextEffect}}catch(e){if(null===Yl)throw Error(a(330));Fs(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);Yl=null,Ri(),Dl=o}else e.current=n;if(es)es=!1,ts=e,ns=t;else for(Yl=i;null!==Yl;)t=Yl.nextEffect,Yl.nextEffect=null,Yl=t;if(0===(t=e.firstPendingTime)&&(Xl=null),1073741823===t?e===os?is++:(is=0,os=e):is=0,"function"==typeof As&&As(n.stateNode,r),ds(e),Jl)throw Jl=!1,e=Ql,Ql=null,e;return(Dl&Nl)!==Pl||Ki(),null}function _s(){for(;null!==Yl;){var e=Yl.effectTag;0!=(256&e)&&ll(Yl.alternate,Yl),0==(512&e)||es||(es=!0,qi(97,(function(){return Os(),null}))),Yl=Yl.nextEffect}}function Os(){if(90!==ns){var e=97<ns?97:ns;return ns=90,Wi(e,Is)}}function Is(){if(null===ts)return!1;var e=ts;if(ts=null,(Dl&(_l|Ol))!==Pl)throw Error(a(331));var t=Dl;for(Dl|=Ol,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:sl(5,n),cl(5,n)}}catch(t){if(null===e)throw Error(a(330));Fs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Dl=t,Ki(),!0}function Ms(e,t,n){po(e,t=El(e,t=rl(n,t),1073741823)),null!==(e=us(e,1073741823))&&ds(e)}function Fs(e,t){if(3===e.tag)Ms(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ms(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){po(n,e=Sl(n,e=rl(t,e),1073741823)),null!==(n=us(n,1073741823))&&ds(n);break}}n=n.return}}function js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Rl===e&&Bl===n?Ul===Ll||Ul===jl&&1073741823===Gl&&Gi()-$l<Kl?gs(e,Bl):ql=!0:qs(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ds(e)))}function Ls(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=ss(t=ls(),e,null)),null!==(e=us(e,t))&&ds(e)}Tl=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)ja=!0;else{if(r<n){switch(ja=!1,t.tag){case 3:Ga(t),Ma();break;case 5:if(Ro(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&Ti(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,pi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(pi(Bo,1&Bo.current),null!==(t=Xa(e,t,n))?t.sibling:null);pi(Bo,1&Bo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(Bo,Bo.current),!r)return null}return Xa(e,t,n)}ja=!1}}else ja=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,mi.current),ao(t,n),i=Qo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var o=!0;Ti(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var l=r.getDerivedStateFromProps;"function"==typeof l&&wo(t,r,l,e),i.updater=bo,t.stateNode=i,i._reactInternalFiber=t,xo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,La(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Bs(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Ba(null,t,i,e,n);break e;case 1:t=Ua(null,t,i,e,n);break e;case 11:t=Aa(null,t,i,e,n);break e;case 14:t=Da(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),mo(t,r,null,n),(r=t.memoizedState.element)===i)Ma(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(ka=kn(t.stateNode.containerInfo.firstChild),xa=t,i=Ca=!0),i)for(n=Oo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else La(e,t,r,n),Ma();t=t.child}return t;case 5:return Ro(t),null===e&&_a(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,Sn(r,i)?l=null:null!==o&&Sn(r,o)&&(t.effectTag|=16),Va(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(La(e,t,l,n),t=t.child),t;case 6:return null===e&&_a(t),null;case 13:return Ka(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value;var s=t.type._context;if(pi(Xi,s._currentValue),s._currentValue=o,null!==l)if(s=l.value,0==(o=Ur(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(l.children===i.children&&!vi.current){t=Xa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){l=s.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===s.tag&&((u=fo(n,null)).tag=2,po(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),oo(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}La(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ao(t,n),r=r(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,La(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Da(e,t,i,o=Qi(i.type,o),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,Ti(t)):e=!1,ao(t,n),So(t,r,i),xo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return Qa(e,t,n)}throw Error(a(156,t.tag))};var As=null,Ds=null;function Rs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vs(e,t,n,r){return new Rs(e,t,n,r)}function Bs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Us(e,t){var n=e.alternate;return null===n?((n=Vs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,o){var l=2;if(r=e,"function"==typeof e)Bs(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case ne:return Gs(n.children,i,o,t);case le:l=8,i|=7;break;case re:l=8,i|=1;break;case ie:return(e=Vs(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Vs(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=Vs(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:l=10;break e;case ae:l=9;break e;case se:l=11;break e;case fe:l=14;break e;case de:l=16,r=null;break e;case pe:l=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vs(l,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Gs(e,t,n,r){return(e=Vs(7,e,r,t)).expirationTime=n,e}function zs(e,t,n){return(e=Vs(6,e,null,t)).expirationTime=n,e}function Zs(e,t,n){return(t=Vs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ws(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function qs(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function $s(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ks(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ys(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Js(e,t,n,r){var i=t.current,o=ls(),l=go.suspense;o=ss(o,i,l);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(wi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=Si(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(i,t),cs(i,o),o}function Qs(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function ec(e,t){Xs(e,t),(e=e.alternate)&&Xs(e,t)}function tc(e,t,n){var r=new Ws(e,t,n=null!=n&&!0===n.hydrate),i=Vs(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,co(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=Je(t);kt.forEach((function(e){pt(e,t,n)})),Ct.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var l=i;i=function(){var e=Qs(a);l.call(e)}}Js(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=Qs(a);s.call(e)}}vs((function(){Js(t,a,e,i)}))}return Qs(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}tc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[On]=null}))},ht=function(e){if(13===e.tag){var t=Ji(ls(),150,100);cs(e,t),ec(e,t)}},mt=function(e){13===e.tag&&(cs(e,3),ec(e,3))},vt=function(e){if(13===e.tag){var t=ls();cs(e,t=ss(t,e,null)),ec(e,t)}},N=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jn(r);if(!i)throw Error(a(90));Ee(r),ke(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&_e(e,!!n.multiple,t,!1)}},j=ms,L=function(e,t,n,r,i){var o=Dl;Dl|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{(Dl=o)===Pl&&Ki()}},A=function(){(Dl&(1|_l|Ol))===Pl&&(function(){if(null!==rs){var e=rs;rs=null,e.forEach((function(e,t){Ys(t,e),ds(t)})),Ki()}}(),Os())},D=function(e,t){var n=Dl;Dl|=2;try{return e(t)}finally{(Dl=n)===Pl&&Ki()}};var oc={Events:[Mn,Fn,jn,C,T,Un,function(e){rt(e,Bn)},M,F,Yt,at,Os,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);As=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ds=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=tt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Dl&(_l|Ol))!==Pl)throw Error(a(187));var n=Dl;Dl|=1;try{return Wi(99,e.bind(null,t))}finally{Dl=n,Ki()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(vs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="16.14.0"},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case f:case o:case l:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case m:case s:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}t.AsyncMode=u,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===g)},t.typeOf=E},9864:function(e,t,n){"use strict";e.exports=n(9921)},7166:function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(0),a=n.n(o);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,c(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.plusBtnContents,r=t.minusBtnContents,o=t.btnClass,a=t.plusBtnClass,l=t.minusBtnClass,s=t.controlsClass,c=t.scale,u=t.minScale,f=t.maxScale,d=t.onClickPlus,p=t.onClickMinus,h=t.disableZoom,m={width:30,paddingTop:5,marginBottom:5},v=s?void 0:{position:"absolute",right:10,top:10};function g(e){e.preventDefault(),e.target.blur(),h||d()}function y(e){e.preventDefault(),e.target.blur(),h||p()}return i.a.createElement("div",{style:v,className:s},i.a.createElement("div",null,i.a.createElement("button",{ref:function(t){e.plusNode=t},onClick:g,onTouchEnd:g,className:[o||"",a||""].join(" "),type:"button",style:o||a?void 0:m,disabled:h||c>=f},n)),i.a.createElement("div",null,i.a.createElement("button",{ref:function(t){e.minusNode=t},onClick:y,onTouchEnd:y,className:[o||"",l||""].join(" "),type:"button",style:o||l?void 0:m,disabled:h||c<=u},r)))}}])&&s(n.prototype,r),t}(r.Component);f.propTypes={onClickPlus:a.a.func.isRequired,onClickMinus:a.a.func.isRequired,plusBtnContents:a.a.node,minusBtnContents:a.a.node,btnClass:a.a.string,plusBtnClass:a.a.string,minusBtnClass:a.a.string,controlsClass:a.a.string,scale:a.a.number,minScale:a.a.number,maxScale:a.a.number,disableZoom:a.a.bool},f.defaultProps={plusBtnContents:"+",minusBtnContents:"-",disableZoom:!1};var d=f;function p(e,t,n){return Math.max(e,Math.min(t,n))}function h(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function m(e){return{x:e.clientX,y:e.clientY}}function v(e,t){return n=m(e),r=m(t),i=n.x-r.x,o=n.y-r.y,Math.sqrt(Math.pow(i,2)+Math.pow(o,2));var n,r,i,o}var g=!1;try{var y={get passive(){g=!0}};window.addEventListener("test",y,y),window.removeEventListener("test",y,y)}catch(e){g=!1}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}var C=function(e,t){return t*e-e},P=a.a.shape({x:a.a.number,y:a.a.number}),N=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?S(e):t}(this,E(t).call(this,e));var r,i=e.scale,o=e.defaultScale,a=e.translation,l=e.defaultTranslation,s=e.minScale,c=e.maxScale;return r=null!=i?i:null!=o?o:1,n.state={scale:p(s,r,c),translation:a||l||{x:0,y:0},shouldPreventTouchEndDefault:!1},n.startPointerInfo=void 0,n.onMouseDown=n.onMouseDown.bind(S(n)),n.onTouchStart=n.onTouchStart.bind(S(n)),n.onMouseMove=n.onMouseMove.bind(S(n)),n.onTouchMove=n.onTouchMove.bind(S(n)),n.onMouseUp=n.onMouseUp.bind(S(n)),n.onTouchEnd=n.onTouchEnd.bind(S(n)),n.onWheel=n.onWheel.bind(S(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),x(t,null,[{key:"propTypes",get:function(){return{children:a.a.func,scale:a.a.number,translation:P,defaultScale:a.a.number,defaultTranslation:P,disableZoom:a.a.bool,disablePan:a.a.bool,onChange:a.a.func,translationBounds:a.a.shape({xMin:a.a.number,xMax:a.a.number,yMin:a.a.number,yMax:a.a.number}),minScale:a.a.number,maxScale:a.a.number,showControls:a.a.bool,plusBtnContents:a.a.node,minusBtnContents:a.a.node,btnClass:a.a.string,plusBtnClass:a.a.string,minusBtnClass:a.a.string,controlsClass:a.a.string}}},{key:"defaultProps",get:function(){return{minScale:.05,maxScale:3,showControls:!1,translationBounds:{},disableZoom:!1,disablePan:!1}}}]),x(t,[{key:"componentDidMount",value:function(){var e,t=(e=!1,g?{passive:e}:e);this.containerNode.addEventListener("wheel",this.onWheel,t),this.containerNode.addEventListener("touchstart",this.onTouchStart,t),this.containerNode.addEventListener("mousedown",this.onMouseDown,t),window.addEventListener("touchmove",this.onTouchMove,t),window.addEventListener("mousemove",this.onMouseMove,t);var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({capture:!0},t);window.addEventListener("touchend",this.onTouchEnd,n),window.addEventListener("mouseup",this.onMouseUp,n)}},{key:"componentWillReceiveProps",value:function(e){var t=null!=e.scale?e.scale:this.state.scale,n=e.translation||this.state.translation;n.x==this.state.translation.x&&n.y==this.state.translation.y&&t==this.state.scale||this.setPointerState(),this.setState({scale:p(e.minScale,t,e.maxScale),translation:this.clampTranslation(n,e)})}},{key:"componentWillUnmount",value:function(){this.containerNode.removeEventListener("wheel",this.onWheel),this.containerNode.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),this.containerNode.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"updateParent",value:function(){if(this.props.onChange){var e=this.state,t=e.scale,n=e.translation;this.props.onChange({scale:t,translation:n})}}},{key:"onMouseDown",value:function(e){e.preventDefault(),this.setPointerState([e])}},{key:"onTouchStart",value:function(e){e.preventDefault(),this.setPointerState(e.touches)}},{key:"onMouseUp",value:function(e){this.setPointerState()}},{key:"onTouchEnd",value:function(e){this.setPointerState(e.touches)}},{key:"onMouseMove",value:function(e){this.startPointerInfo&&!this.props.disablePan&&(e.preventDefault(),this.onDrag(e))}},{key:"onTouchMove",value:function(e){if(this.startPointerInfo){e.preventDefault();var t=this.props,n=t.disablePan,r=t.disableZoom;2==e.touches.length&&this.startPointerInfo.pointers.length>1&&!r?this.scaleFromMultiTouch(e):1===e.touches.length&&this.startPointerInfo&&!n&&this.onDrag(e.touches[0])}}},{key:"onDrag",value:function(e){var t=this,n=this.startPointerInfo,r=n.translation,i=n.pointers[0],o=e.clientX-i.clientX,a=e.clientY-i.clientY,l={x:r.x+o,y:r.y+a};this.setState({translation:this.clampTranslation(l),shouldPreventTouchEndDefault:!0},(function(){return t.updateParent()}))}},{key:"onWheel",value:function(e){if(!this.props.disableZoom){e.preventDefault(),e.stopPropagation();var t=Math.pow(2,.002*e.deltaY),n=p(this.props.minScale,this.state.scale+(1-t),this.props.maxScale),r=this.clientPosToTranslatedPos({x:e.clientX,y:e.clientY});this.scaleFromPoint(n,r)}}},{key:"setPointerState",value:function(e){e&&0!==e.length?this.startPointerInfo={pointers:e,scale:this.state.scale,translation:this.state.translation}:this.startPointerInfo=void 0}},{key:"clampTranslation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=e.x,r=e.y,i=t.translationBounds,o=i.xMax,a=i.xMin,l=i.yMax,s=i.yMin;return s=null!=s?s:-1/0,l=null!=l?l:1/0,{x:p(a=null!=a?a:-1/0,n,o=null!=o?o:1/0),y:p(s,r,l)}}},{key:"translatedOrigin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.translation,t=this.containerNode.getBoundingClientRect();return{x:t.left+e.x,y:t.top+e.y}}},{key:"clientPosToTranslatedPos",value:function(e){var t=e.x,n=e.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.translation,i=this.translatedOrigin(r);return{x:t-i.x,y:n-i.y}}},{key:"scaleFromPoint",value:function(e,t){var n=this,r=this.state,i=r.translation,o=r.scale,a=e/(0!=o?o:1),l=C(t.x,a),s=C(t.y,a),c={x:i.x-l,y:i.y-s};this.setState({scale:e,translation:this.clampTranslation(c)},(function(){return n.updateParent()}))}},{key:"scaleFromMultiTouch",value:function(e){var t=this,n=this.startPointerInfo.pointers,r=e.touches,i=v(n[0],n[1]),o=v(r[0],r[1])/i,a=this.startPointerInfo.scale,l=a+(o-1)*a,s=p(this.props.minScale,l,this.props.maxScale),c=h(m(r[0]),m(r[1])),u=h(m(n[0]),m(n[1])),f=c.x-u.x,d=c.y-u.y,g=s/a,y=this.clientPosToTranslatedPos(u,this.startPointerInfo.translation),w=C(y.x,g),b=C(y.y,g),E={x:this.startPointerInfo.translation.x-w+f,y:this.startPointerInfo.translation.y-b+d};this.setState({scale:s,translation:this.clampTranslation(E)},(function(){return t.updateParent()}))}},{key:"discreteScaleStepSize",value:function(){var e=this.props,t=e.minScale,n=e.maxScale;return Math.abs(n-t)/10}},{key:"changeScale",value:function(e){var t=this.state.scale+e,n=this.props,r=p(n.minScale,t,n.maxScale),i=this.containerNode.getBoundingClientRect(),o=i.left+i.width/2,a=i.top+i.height/2,l=this.clientPosToTranslatedPos({x:o,y:a});this.scaleFromPoint(r,l)}},{key:"renderControls",value:function(){var e=this,t=this.discreteScaleStepSize();return i.a.createElement(d,{onClickPlus:function(){return e.changeScale(t)},onClickMinus:function(){return e.changeScale(-t)},plusBtnContents:this.props.plusBtnContents,minusBtnContents:this.props.minusBtnContents,btnClass:this.props.btnClass,plusBtnClass:this.props.plusBtnClass,minusBtnClass:this.props.minusBtnClass,controlsClass:this.props.controlsClass,scale:this.state.scale,minScale:this.props.minScale,maxScale:this.props.maxScale,disableZoom:this.props.disableZoom})}},{key:"render",value:function(){var e=this,t=this.props,n=t.showControls,r=t.children,o=this.state.scale,a=this.clampTranslation(this.state.translation),l=function(t){e.state.shouldPreventTouchEndDefault&&(t.preventDefault(),e.setState({shouldPreventTouchEndDefault:!1}))};return i.a.createElement("div",{ref:function(t){e.containerNode=t},style:{height:"100%",width:"100%",position:"relative",touchAction:"none"},onClickCapture:l,onTouchEndCapture:l},r?r({translation:a,scale:o}):void 0,n?this.renderControls():void 0)}}]),t}(r.Component),_=N,O=function(e){return i.a.createElement(_,e,(function(t){var n=t.translation,r=t.scale,o="translate(".concat(n.x,"px, ").concat(n.y,"px) scale(").concat(r,")");return i.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden",touchAction:"none",msTouchAction:"none",cursor:"all-scroll",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}},i.a.createElement("div",{style:{transform:o,transformOrigin:"0 0 "}},e.children))}))};n.d(t,"MapInteractionCSS",(function(){return O})),n.d(t,"MapInteraction",(function(){return _})),t.default=_}])},e.exports=r(n(5697),n(7294))},6464:function(e,t,n){"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?a:l[e.$$typeof]||i}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=u(n);f&&(a=a.concat(f(n)));for(var l=s(t),m=s(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||l&&l[g])){var y=d(n,g);try{c(t,g,y)}catch(e){}}}}return t}},2408:function(e,t,n){"use strict";var r=n(7418),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,l=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function b(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||y}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=b.prototype;var T=S.prototype=new E;T.constructor=S,r(T,b.prototype),T.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r,i={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:e,key:a,ref:l,props:i,_owner:x.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var _=/\/+/g,O=[];function I(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function F(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return n(r,e,""===t?"."+L(e,0):t),1;if(l=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=t+L(i=e[s],s);l+=F(i,c,n,r)}else if("function"==typeof(c=null===e||"object"!=typeof e?null:"function"==typeof(c=v&&e[v]||e["@@iterator"])?c:null))for(e=c.call(e),s=0;!(i=e.next()).done;)l+=F(i=i.value,c=t+L(i,s++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return l}function j(e,t,n){return null==e?0:F(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+n)),r.push(e))}function R(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(_,"$&/")+"/"),j(e,D,t=I(t,o,r,i)),M(t)}var V={current:null};function B(){var e=V.current;if(null===e)throw Error(g(321));return e}var U={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;j(e,A,t=I(null,null,t,n)),M(t)},count:function(e){return j(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(g(143));return e}},t.Component=b,t.Fragment=l,t.Profiler=c,t.PureComponent=S,t.StrictMode=s,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var i=r({},e.props),a=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:l,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},7294:function(e,t,n){"use strict";e.exports=n(2408)},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new N(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=k(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var w={};s(w,o,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(_([])));E&&E!==n&&r.call(E,o)&&(w=E);var S=y.prototype=v.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,l){var s=u(e[i],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=y,s(S,"constructor",y),s(y,"constructor",g),g.displayName=s(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(S),s(S,l,"Generator"),s(S,o,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return l.type="throw",l.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:function(e,t){"use strict";var n,r,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,s=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var g=!1,y=null,w=-1,b=5,E=0;o=function(){return t.unstable_now()>=E},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();E=e+b;try{y(!0,e)?T.postMessage(null):(g=!1,y=null)}catch(e){throw T.postMessage(null),e}}else g=!1},n=function(e){y=e,g||(g=!0,T.postMessage(null))},r=function(e,n){w=p((function(){e(t.unstable_now())}),n)},i=function(){h(w),w=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<P(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],l=o+1,s=e[l];if(void 0!==a&&0>P(a,n))void 0!==s&&0>P(s,a)?(e[r]=s,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>P(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],_=[],O=1,I=null,M=3,F=!1,j=!1,L=!1;function A(e){for(var t=k(_);null!==t;){if(null===t.callback)C(_);else{if(!(t.startTime<=e))break;C(_),t.sortIndex=t.expirationTime,x(N,t)}t=k(_)}}function D(e){if(L=!1,A(e),!j)if(null!==k(N))j=!0,n(R);else{var t=k(_);null!==t&&r(D,t.startTime-e)}}function R(e,n){j=!1,L&&(L=!1,i()),F=!0;var a=M;try{for(A(n),I=k(N);null!==I&&(!(I.expirationTime>n)||e&&!o());){var l=I.callback;if(null!==l){I.callback=null,M=I.priorityLevel;var s=l(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?I.callback=s:I===k(N)&&C(N),A(n)}else C(N);I=k(N)}if(null!==I)var c=!0;else{var u=k(_);null!==u&&r(D,u.startTime-n),c=!1}return c}finally{I=null,M=a,F=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||F||(j=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?l+s:l,a="number"==typeof a.timeout?a.timeout:V(e)}else a=V(e),s=l;return e={id:O++,callback:o,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>l?(e.sortIndex=s,x(_,e),null===k(N)&&e===k(_)&&(L?i():L=!0,r(D,s-l))):(e.sortIndex=a,x(N,e),j||F||(j=!0,n(R))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();A(e);var n=k(N);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},610:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},8264:function(e,t,n){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach((function(e,t){n.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},o=i.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},o.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,n){e.push(r(n)+"="+r(t))})),e.join("&")},e.URLSearchParams=i}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach((function(n,r){t.push([r,n]),e._entries||e.delete(r)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}var r,o=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<o.length;n++)r=o[n].split("="),this.append(i(r[0]),r.length>1?i(r[1]):"")}})}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t)),n&&"string"!=typeof n&&(n=String(n));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){n=n.toLowerCase(),(r=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=i.createElement("a");o.href=t,r&&(i.body.appendChild(o),o.href=o.href);var a=i.createElement("input");if(a.type="url",a.value=t,":"===o.protocol||!/:/.test(o.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var l=new e.URLSearchParams(this.search),s=!0,c=!0,u=this;["append","delete","set"].forEach((function(e){var t=l[e];l[e]=function(){t.apply(l,arguments),s&&(c=!1,u.search=l.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:l,enumerable:!0});var f=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==f&&(f=this.search,c&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})},r=n.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},7147:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return E},Headers:function(){return u},Request:function(){return g},Response:function(){return w},fetch:function(){return S}});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(p)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=l(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[l(e)]},u.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},u.prototype.set=function(e,t){this.map[l(e)]=s(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];w.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var E=r.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(e,t){return new Promise((function(n,o){var a=new g(e,t);if(a.signal&&a.signal.aborted)return o(new E("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var i="response"in l?l.response:l.responseText;setTimeout((function(){n(new w(i,r))}),0)},l.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){o(new E("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(i.blob?l.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof u?a.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){l.setRequestHeader(e,s(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",c)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=u,r.Request=g,r.Response=w)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n(1983);var e,t=(e=n(1543))&&e.__esModule?e:{default:e};t.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t.default._babelPolyfill=!0}(),function(){"use strict";n.r(r),n.d(r,{init:function(){return Ci}});var e=n(7294),t=n(3935);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}var c=n(1002);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"===(0,c.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e){return"/"===e.charAt(0)}function v(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var g=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&m(e),a=t&&m(t),l=o||a;if(e&&m(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,u=i.length;u>=0;u--){var f=i[u];"."===f?v(i,u):".."===f?(v(i,u),c++):c&&(v(i,u),c--)}if(!l)for(;c--;c)i.unshift("..");!l||""===i[0]||i[0]&&m(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d},y=!0,w="Invariant failed";function b(e,t){if(!e){if(y)throw new Error(w);var n="function"==typeof t?t():t;throw new Error(n?w+": "+n:w)}}function E(e){return"/"===e.charAt(0)?e:"/"+e}function S(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function T(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function x(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=h({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=g(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function C(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var P=!("undefined"==typeof window||!window.document||!window.document.createElement);function N(e,t){t(window.confirm(e))}var _="popstate",O="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}var M=n(5697),F=n.n(M),j=1073741823,L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},A=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((L[o="__global_unique_id__"]=(L[o]||0)+1)+"__"),l=function(e){function t(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}p(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?t=0:(t="function"==typeof n?n(r,i):j,0!=(t|=0)&&this.emitter.set(e.value,t))}var o,a},r.render=function(){return this.props.children},t}(e.Component);l.childContextTypes=((r={})[a]=F().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}p(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?j:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?j:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return s.contextTypes=((i={})[a]=F().object,i),{Provider:l,Consumer:s}},D=A,R=n(4779),V=n.n(R);function B(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(9864),n(6464);var U=function(e){var t=D();return t.displayName=e,t},H=U("Router-History"),G=U("Router"),z=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}p(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var Z={},W=0;function q(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,l=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Z[n]||(Z[n]={});if(r[e])return r[e];var i=[],o={regexp:V()(e,i,t),keys:i};return W<1e4&&(r[e]=o,W++),o}(n,{end:o,strict:l,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var u=s[0],f=s.slice(1),d=e===u;return o&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var K=function(t){function n(){return t.apply(this,arguments)||this}return p(n,t),n.prototype.render=function(){var t=this;return e.createElement(G.Consumer,null,(function(n){n||b(!1);var r=t.props.location||n.location,i=h({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?q(r.pathname,t.props):n.match}),o=t.props,a=o.children,l=o.component,s=o.render;return Array.isArray(a)&&function(t){return 0===e.Children.count(t)}(a)&&(a=null),e.createElement(G.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:l?e.createElement(l,i):s?s(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var Y=function(t){function n(){return t.apply(this,arguments)||this}return p(n,t),n.prototype.render=function(){var t=this;return e.createElement(G.Consumer,null,(function(n){n||b(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?q(o.pathname,h({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),J=e.useContext;function Q(){return J(G).location}var X=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),P||b(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,l=void 0!==a&&a,s=o.getUserConfirmation,c=void 0===s?N:s,u=o.keyLength,f=void 0===u?6:u,d=e.basename?T(E(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=S(o,d)),k(o,r,n)}function m(){return Math.random().toString(36).substr(2,f)}var v=C();function g(e){h(U,e),U.length=n.length,v.notifyListeners(U.location,U.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||F(p(e.state))}function w(){F(p(I()))}var M=!1;function F(e){M?(M=!1,g()):v.confirmTransitionTo(e,"POP",c,(function(t){t?g({action:"POP",location:e}):function(e){var t=U.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(M=!0,D(i))}(e)}))}var j=p(I()),L=[j.key];function A(e){return d+x(e)}function D(e){n.go(e)}var R=0;function V(e){1===(R+=e)&&1===e?(window.addEventListener(_,y),i&&window.addEventListener(O,w)):0===R&&(window.removeEventListener(_,y),i&&window.removeEventListener(O,w))}var B=!1,U={length:n.length,action:"POP",location:j,createHref:A,push:function(e,t){var i="PUSH",o=k(e,t,m(),U.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=A(o),a=o.key,s=o.state;if(r)if(n.pushState({key:a,state:s},null,t),l)window.location.href=t;else{var c=L.indexOf(U.location.key),u=L.slice(0,c+1);u.push(o.key),L=u,g({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=k(e,t,m(),U.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=A(o),a=o.key,s=o.state;if(r)if(n.replaceState({key:a,state:s},null,t),l)window.location.replace(t);else{var c=L.indexOf(U.location.key);-1!==c&&(L[c]=o.key),g({action:i,location:o})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),t()}},listen:function(e){var t=v.appendListener(e);return V(1),function(){V(-1),t()}}};return U}(e.props),e}return p(n,t),n.prototype.render=function(){return e.createElement(z,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var ee=function(e,t){return"function"==typeof e?e(t):e},te=function(e,t){return"string"==typeof e?k(e,null,null,t):e},ne=function(e){return e},re=e.forwardRef;void 0===re&&(re=ne);var ie=re((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=B(t,["innerRef","navigate","onClick"]),l=a.target,s=h({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=ne!==re&&n||r,e.createElement("a",s)})),oe=re((function(t,n){var r=t.component,i=void 0===r?ie:r,o=t.replace,a=t.to,l=t.innerRef,s=B(t,["component","replace","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||b(!1);var r=t.history,c=te(ee(a,t.location),t.location),u=c?r.createHref(c):"",f=h({},s,{href:u,navigate:function(){var e=ee(a,t.location),n=x(t.location)===x(te(e));(o||n?r.replace:r.push)(e)}});return ne!==re?f.ref=n||l:f.innerRef=l,e.createElement(i,f)}))})),ae=function(e){return e},le=e.forwardRef;void 0===le&&(le=ae),le((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,l=t.activeStyle,s=t.className,c=t.exact,u=t.isActive,f=t.location,d=t.sensitive,p=t.strict,m=t.style,v=t.to,g=t.innerRef,y=B(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||b(!1);var r=f||t.location,o=te(ee(v,r),r),w=o.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=E?q(r.pathname,{path:E,exact:c,sensitive:d,strict:p}):null,T=!!(u?u(S,r):S),x="function"==typeof s?s(T):s,k="function"==typeof m?m(T):m;T&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,a),k=h({},k,l));var C=h({"aria-current":T&&i||null,className:x,style:k,to:o},y);return ae!==le?C.ref=n||g:C.innerRef=g,e.createElement(oe,C)}))}));var se=n(2982),ce=n(4942),ue=n(885),fe=n(7563),de=n(1460),pe=n(4596);function he(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=1;function ge(e){return"string"!=typeof e?"":e.trim()}function ye(e){return(ge(e).toUpperCase().match(/^[MF]$/gi)||[""])[0]}function we(e){if("number"!=typeof e||isNaN(e))throw new Error("invalid gen")}function be(e,t,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];(0,c.Z)(i)===t&&n(r,i)}}var Ee=document.createElement("div"),Se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i(this,e),null!==t&&"object"!==(0,c.Z)(t))throw new Error("invalid personDto");this.Data=t||e.CreateNewPersonModelData(),this._hints=-1,this._comments=-1,this._nph=null,this._photoCount=-1,this._visibleSpouses=[],this._visibleParents={},this._visibleChildren={},this._visibleSiblings={},this._fullName=null,this._firstName=null,this._lastName=null,this._nodeTitle=null,this.Preset=!1}return a(e,[{key:"Data",get:function(){return this._data},set:function(e){if("object"!==(0,c.Z)(e)||!e||!(t=e.gid)||"object"!==(0,c.Z)(t)||"string"!=typeof t.v)throw new Error("invalid personData");var t;Array.isArray(e.Names)||(e.Names=[]),Array.isArray(e.Events)||(e.Events=[]),Array.isArray(e.Genders)||(e.Genders=[]),Array.isArray(e.Family)||(e.Family=[]),this._data=e,this._fullName=null,this._firstName=null,this._lastName=null}},{key:"JSON",get:function(){return this._data}},{key:"FirstGivenName",get:function(){return(this.GivenName||this.Surname).split(" ")[0]}},{key:"GivenName",get:function(){return this.getName("g")},set:function(e){this.setName("g",e)}},{key:"Surname",get:function(){return this.getName("s")},set:function(e){this.setName("s",e)}},{key:"Suffix",get:function(){return this.getName("sf")},set:function(e){this.setName("sf",e)}},{key:"SurnamePlusSuffix",get:function(){return[this.Surname,this.Suffix].filter((function(e){return e})).join(" ")}},{key:"FullName",get:function(){return null===this._fullName&&(this._fullName=[this.GivenName,this.Surname,this.Suffix].filter((function(e){return e})).join(" ")),this._fullName}},{key:"TruncatedFullName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18;return(0,pe.GetTrimmedName)(this.GivenName,this.Surname,this.Suffix,"",e)}},{key:"TruncatedFirstName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return this.GivenName&&this.GivenName==this.GivenName.toUpperCase()&&e--,(0,pe.GetTrimmedName)(this.GivenName,null,null,"",e)}},{key:"TruncatedLastName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return this.Surname&&this.Surname==this.Surname.toUpperCase()&&e--,(0,pe.GetTrimmedName)(null,this.Surname,this.Suffix,"",e)}},{key:"NodeTitle",get:function(){return this._nodeTitle},set:function(e){if("string"!=typeof e||!e)throw new Error("invalid value");this._nodeTitle=e,this._firstName=null}},{key:"FirstName",get:function(){return null===this._firstName&&(this.HasData?this._firstName=this.IsPrivate?(0,de.default)("Private"):this.TruncatedFirstName(10):this._firstName=this.NodeTitle||""),this._firstName}},{key:"LastName",get:function(){return null===this._lastName&&(!this.HasData||this.IsPrivate?this._lastName="":this._lastName=this.TruncatedLastName(10)),this._lastName}},{key:"IsLiving",get:function(){return this._data.l},set:function(e){if("boolean"!=typeof e&&null!==e)throw new Error("invalid value");this._data.l=e}},{key:"PrimaryPhoto",get:function(){if(!this.IsPrivate){var e=this._data.ppmp,t=e?e.ms_lookup_id||e.coid||e.id:null;if(t){var n=e.ms_params&&e.ms_params.length>0?"&".concat(e.ms_params):"",r="".concat(window.TreeViewerData.UrlPrefix.MediaSvc,"/v2/image/namespaces/1093/media/").concat(t,"?client=TreesUI&maxside=160&imagequality=UltraHighQuality").concat(n);return e.coord&&(r+="&prescalecroprect=".concat(e.coord)),r}}return null}},{key:"SetPrimaryPhoto",value:function(e){if(e&&"object"===(0,c.Z)(e)){var t=this._data.ppmp;"object"===(0,c.Z)(t)&&t||(t=this._data.ppmp={}),t.id=e.ms_lookup_id||e.id||"",t.coid=e.ms_lookup_id||(e.origin?e.origin.id:null)||"",t.coord=e.cropCoords?e.cropCoords:null}}},{key:"PrimaryPhotoId",get:function(){if(!this.IsPrivate){var e=this._data.ppmp;return e&&(e.ms_lookup_id||e.id)||null}return null}},{key:"PrimaryPhotoOriginId",get:function(){if(!this.IsPrivate){var e=this._data.ppmp;return e&&(e.ms_lookup_id||e.coid)||null}return null}},{key:"HasPhotos",get:function(){return!!this.PrimaryPhotoId||this._photoCount>0}},{key:"PhotoCount",get:function(){return this._photoCount},set:function(e){("number"!=typeof e||e<0)&&(e=0),this._photoCount=e}},{key:"Parents",get:function(){var e=new Set;return this._data.Family.filter((function(t){return!("F"!==t.t&&"M"!==t.t||e.has(t.t)||(e.add(t.t),0))})).map((function(e){return e.tgid.v}))}},{key:"Family",get:function(){return this._data.Family}},{key:"Names",get:function(){return this._data.Names}},{key:"Events",get:function(){return this._data.Events}},{key:"FamilyMembers",get:function(){return this._data.Family.filter((function(e){return!!e.tgid&&!!e.tgid.v}))}},{key:"gid",get:function(){return this._data.gid.v||null}},{key:"pid",get:function(){return"string"==typeof this.gid?parseInt(this.gid.split(":")[0]):null}},{key:"tid",get:function(){return"string"==typeof this.gid?parseInt(this.gid.split(":")[2]):null}},{key:"FamilySearchId",get:function(){if(!0!==window.TreeViewerData.Properties.IsFamilySearchUser)return null;var e=(this._data.Identifiers||[]).filter((function(e){return"FamilySearch"===e.t}));return e.length>0?e[0].v:null}},{key:"IsSpouseVisible",value:function(e){if("string"!=typeof e||!e)throw new Error("invalid gid");return this._visibleSpouses.indexOf(e)>=0}},{key:"ShowSpouse",value:function(e){if("string"!=typeof e||!e)throw new Error("invalid gid");this._visibleSpouses.indexOf(e)<0&&this._visibleSpouses.push(e)}},{key:"ToggleSpouse",value:function(e){if("string"!=typeof e||!e)throw new Error("invalid gid");var t=this._visibleSpouses.indexOf(e);t>=0?this._visibleSpouses.splice(t,1):this._visibleSpouses.push(e)}},{key:"VisibleSpouseCount",get:function(){return this._visibleSpouses.length}},{key:"ToggleParents",value:function(e){we(e);var t=!0===this._visibleParents[e];this.VisibleParents(e,!t),t||this.VisibleSiblings(e,!0)}},{key:"ToggleSiblings",value:function(e){we(e);var t=!0===this._visibleSiblings[e];this.VisibleSiblings(e,!t)}},{key:"Spouses",get:function(){return this._data.Family.filter((function(e){return"W"===e.t||"H"===e.t}))}},{key:"SpouseMod",get:function(){switch(this.spousalRelationship||0){case 0:return"sps";case 12:return"sppa";case 10:return"spfr";case 14:return"spsi";case 11:return"spo";default:return"spu"}}},{key:"SpouseRelation",get:function(){return"H"===this.relation?"W":"W"===this.relation?"H":this.relation?this.relation:"F"===this.Gender?"H":"W"}},{key:"IsPrivate",get:function(){return!0===this._data.veiled}},{key:"HasData",get:function(){if(this.IsPrivate||this.FullName.length>0)return!0;var e,t=!1,n=he(this._data.Family);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.tgid&&-1===r.tgid.v.indexOf(":1:1")){t=!0;break}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"HasChildren",get:function(){return this._data.Family.some((function(e){return"C"===e.t}))}},{key:"ChildCount",get:function(){return this.Children.length}},{key:"Children",get:function(){return this._data.Family.filter((function(e){return"C"===e.t})).map((function(e){return e.tgid.v}))}},{key:"ToggleChildren",value:function(e){we(e);var t=!0===this._visibleChildren[e];this._visibleChildren[e]=!t}},{key:"VisibleChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return we(e),"boolean"==typeof t&&(this._visibleChildren[e]=t),!0===this._visibleChildren[e]}},{key:"VisibleSiblings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return we(e),"boolean"==typeof t&&(this._visibleSiblings[e]=t,t&&this.VisibleParents(e,!0)),!0===this._visibleSiblings[e]}},{key:"VisibleParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return we(e),"boolean"==typeof t&&(this._visibleParents[e]=t,t||this.VisibleSiblings(e,!1)),!0===this._visibleParents[e]}},{key:"ResetToggles",value:function(){this.Preset=!1,this._visibleChildren={},this._visibleParents={},this._visibleSiblings={},this._visibleSpouses.length=0}},{key:"ResetSpouseVisibility",value:function(){this._visibleSpouses.length=0}},{key:"VisibilityState",get:function(){var e={};function t(t,n){be(t,"boolean",(function(t,r){"number"!=typeof e[t]&&(e[t]=0),e[t]|=r?n:0}))}t(this._visibleParents,1),t(this._visibleSiblings,2),t(this._visibleChildren,4);var n=[];return be(e,"number",(function(e,t){n.push("".concat(e,":").concat(t))})),n.length>0?n:null}},{key:"SpouseState",get:function(){return this.Spouses.length>1?this._visibleSpouses.map((function(e){return parseInt(e.split(":")[0])})):null}},{key:"State",get:function(){var e={p:this.pid},t=this.SpouseState;t&&(e.s=t);var n=this.VisibilityState;return n&&(e.v=n),e},set:function(e){var t=this;e&&"object"===(0,c.Z)(e)&&(Array.isArray(e.v)&&e.v.filter((function(e){return e&&"string"==typeof e})).forEach((function(e){var n=e.split(":");if(2===n.length){var r=parseInt(n[0]);t.VisibleSiblings(r,2==(2&n[1])),t.VisibleParents(r,1==(1&n[1])),t.VisibleChildren(r,4==(4&n[1]))}})),Array.isArray(e.s)&&e.s.forEach((function(e){t.ShowSpouse("".concat(e,":1030:").concat(t.tid))})),this.Preset=!0)}},{key:"HasParents",get:function(){return this.Parents.length>0}},{key:"Hints",get:function(){return this._hints},set:function(e){"number"==typeof e&&(this._hints=e)}},{key:"HasHints",get:function(){return this.Hints>0}},{key:"Comments",get:function(){return this._comments},set:function(e){"number"==typeof e&&(this._comments=e)}},{key:"HasComments",get:function(){return!!this.Comments&&this.Comments>0}},{key:"HasThruLines",get:function(){return!!this.ThruLinesUrl}},{key:"ThruLinesUrl",get:function(){return(this.IsPrivate?null:this._thruLinesUrl)||null},set:function(e){this._thruLinesUrl="string"==typeof e?e:null}},{key:"Match",get:function(){return this._match||null},set:function(e){this._match="object"===(0,c.Z)(e)?e:null}},{key:"MatchStatus",get:function(){return!this.IsPrivate&&this.Match?this.Match.status:null}},{key:"HasConfirmedMatch",get:function(){return"ACCEPTED"===this.MatchStatus}},{key:"HasPossibleMatch",get:function(){return"NEW"===this.MatchStatus}},{key:"MatchSampleId",get:function(){return this.Match?this.Match.matchSampleId:null}},{key:"Gender",get:function(){return this._data.Genders.length>0?ge(this._data.Genders[0].g).toUpperCase():""},set:function(e){var t=ye(e);if(!t&&this._data.Genders.length>0)this._data.Genders.shift();else{var n={g:t};this._data.Genders.length>0?this._data.Genders[0]=n:this._data.Genders.push(n)}}},{key:"isNew",get:function(){var e=this.gid;return"string"!=typeof e||e.indexOf(":")<=0}},{key:"GenderLong",get:function(){switch(this.Gender){case"M":return"Male";case"F":return"Female";default:return"Person"}}},{key:"BirthDate",get:function(){return this.getEventInfo("Birth","d")}},{key:"BirthYear",get:function(){return(0,pe.GetYear)(this.BirthDate)}},{key:"BirthPlace",get:function(){return this.getEventInfo("Birth","p")}},{key:"DeathDate",get:function(){return this.getEventInfo("Death","d")}},{key:"DeathYear",get:function(){return(0,pe.GetYear)(this.DeathDate)}},{key:"DeathPlace",get:function(){return this.getEventInfo("Death","p")}},{key:"LifeSpan",get:function(){return this._getLifeSpan(!0)}},{key:"LifeSpan2",get:function(){return this._getLifeSpan(!1)}},{key:"HasTags",get:function(){return this.Tags.length>0}},{key:"Tags",get:function(){return this.IsPrivate?[]:this._data.Tags||[]},set:function(e){this._data.Tags=Array.isArray(e)?e:null}},{key:"HasMissingParent",get:function(){var e,t=!1,n=!1,r=he(this._data.Family);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("F"===i.t?t=!0:"M"===i.t&&(n=!0),t&&n)break}}catch(e){r.e(e)}finally{r.f()}return!t||!n}},{key:"NewPersonHints",get:function(){return this._nph||null},set:function(e){this._nph="object"===(0,c.Z)(e)?e:null}},{key:"_getLifeSpan",value:function(e){var t=[],n=this.BirthYear;if(this.IsLiving)n&&(t.push(n),e||t.push("")),e&&t.push((0,de.default)("Living"));else{var r=this.DeathYear;(n||r)&&(t.push(n||""),t.push(r||""))}return t.join("-")}},{key:"HasParentHint",value:function(e){return null!==this.GetParentHint(e)}},{key:"GetParentHint",value:function(e){return"string"==typeof e&&e&&this.NewPersonHints&&this.NewPersonHints[e.toLowerCase()]||null}},{key:"GetParentHintName",value:function(e,t){var n,r=this.GetParentHint(e),i=null==r||null===(n=r.personData)||void 0===n?void 0:n.Name;return i&&(0,pe.GetTrimmedName)(i.Given,i.Surname,i.Suffix,i.Prefix,t)||null}},{key:"GetParentHintLifeSpan",value:function(e){var t,n=null===(t=this.GetParentHint(e))||void 0===t?void 0:t.personData;if(!n)return null;var r=n.BirthDate,i=n.DeathDate,o=[],a=(0,pe.GetYear)(r),l=(0,pe.GetYear)(i);return(a||l)&&(o.push(a||""),o.push(l||"")),o.join("-")||null}},{key:"AddChild",value:function(t){if(!(t instanceof e))throw new Error("invalid parameter");this._data.Family.push({t:"C",mod:"pcb",tgid:{v:t.gid}})}},{key:"IsDivorced",value:function(e){return!("string"!=typeof e||!e)&&this._data.Events.some((function(t){return"Divorce"===t.t&&t.tgid&&t.tgid.v===e}))}},{key:"getName",value:function(e){if(!e||"string"!=typeof e)throw new Error("Invalid nameCode");return function(e){Ee.innerHTML=e;var t=Ee.childNodes[0];return t?t.nodeValue:""}(this._data.Names.length>0?ge(this._data.Names[0][e]):"")}},{key:"setName",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("Invalid nameCode");if(null!==t&&"string"!=typeof t)throw new Error("Invalid type for name value");t&&0===this._data.Names.length&&this._data.Names.push({}),t?this._data.Names[0][e]=t:this._data.Names.length>0&&delete this._data.Names[0][e],this._fullName=null}},{key:"setDataFromModal",value:function(e){if(!e||"object"!==(0,c.Z)(e))throw new Error("invalid data");var t;this.GivenName=ge(e.fname),this.Surname=ge(e.lname),this.Suffix=ge(e.sufname),this.Gender=e.gender,this.IsLiving="Living"===e.status,this.setEventInfo("Birth",e.bdate,e.bplace),this.setEventInfo("Death",e.ddate,e.dplace),this.isSelf=!0===e.startingWithMyself||"on"===e.startingWithMyself,this.relation=ge(e.relation).toUpperCase(),this.spousalRelationship="string"==typeof(t=e.spousalRelationship)||"number"==typeof t?parseInt(t,10):0,e.ppmp&&(this._data.ppmp=e.ppmp)}},{key:"setEventInfo",value:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("invalid eventType");var r=this._data.Events.filter((function(t){return t.t===e})),i=r.length>0?r[0]:{t:e};i.d=t||"",i.p=n||"",0===r.length&&this._data.Events.push(i),i.d||i.p||this._data.Events.splice(this._data.Events.indexOf(i),1)}},{key:"getEventInfo",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("invalid eventType");if(!t||"string"!=typeof t)throw new Error("invalid eventProp");var n=this._data.Events.filter((function(t){return t.t===e}));return n.length>0?n[0][t]:null}},{key:"setMother",value:function(t){t instanceof e&&this._data.Family.push({t:"M",mod:"pcb",tgid:{v:t.gid}})}},{key:"setFather",value:function(t){t instanceof e&&this._data.Family.push({t:"F",mod:"pcb",tgid:{v:t.gid}})}},{key:"setSpouse",value:function(t){if(t instanceof e){t.spousalRelationship=this.spousalRelationship;var n=this._data.Family.filter((function(e){return e.tgid.v===t.gid}));n.length>0&&this._data.Family.splice(this._data.Family.indexOf(n[0]),1),this._data.Family.push({t:this.SpouseRelation,mod:this.SpouseMod,tgid:{v:t.gid}})}}}],[{key:"CreateNewPersonModelData",value:function(e){e&&"object"===(0,c.Z)(e)||(e={});var t={gid:{v:ve+++":1:1"},l:"boolean"==typeof e.living?e.living:null,Names:[],Events:[],Genders:[],Family:[]},n=ye(e.gen);n&&t.Genders.push({g:n}),(e.fn||e.ln||e.sf)&&t.Names.push({g:e.fn,s:e.ln,sf:e.sf});var r=ge(e.byr);return r&&t.Events.push({t:"Birth",d:r,p:""}),t}}]),e}(),Te=Se;function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.Persons=[],this.PersonsDictionary={},this._shownParents=new Set,this._pendingStates=[],Array.isArray(t)&&this.AddData(t)}return a(e,[{key:"RestoreToggleState",value:function(e,t){var n=this;if(Array.isArray(t))return t.forEach((function(t){var r=n.GetPerson("".concat(t.p,":1030:").concat(e));r?r.State=t:n._pendingStates.push(t)})),this._pendingStates}},{key:"AddData",value:function(e){var t=this;if(!Array.isArray(e))throw new Error("missing required data parameter");e.filter((function(e){return!!e})).forEach((function(e){Array.isArray(e.Persons)&&e.Persons.forEach((function(e){var n=e.gid.v,r=t.PersonsDictionary[n];if(r)r.Data=e;else{r=new Te(e),t.AddPerson(r);var i=t._pendingStates.find((function(e){return e.p===r.pid}));i&&(r.State=i,t._pendingStates.splice(t._pendingStates.indexOf(i),1))}}))}))}},{key:"JSON",get:function(){return{v:"3.0",Persons:this.Persons.map((function(e){return e.Data}))}}},{key:"AddPerson",value:function(e){if(!(e instanceof Te))throw new Error("Invalid person parameter");if(this.PersonsDictionary[e.gid])throw new Error("Cannot add person with duplicate gid");this.PersonsDictionary[e.gid]=e,this.Persons.push(e)}},{key:"RemovePerson",value:function(e){if(e instanceof Te){delete this.PersonsDictionary[e.gid];var t=this.Persons.indexOf(e);t>=0&&this.Persons.splice(t,1)}}},{key:"GetPerson",value:function(e){if("string"!=typeof e||!e)throw new Error("invalid gid");return this.PersonsDictionary[e]||null}},{key:"GetSiblings",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!=typeof e||!e)throw new Error("invalid targetGid");var r=new Set,i=[],o=function(e,n){var r=t.GetPerson(e);return(r?r.Family:[]).filter((function(e){return n.indexOf(e.t)>=0})).map((function(e){return e.tgid.v}))};return function e(a){var l,s=xe(a);try{var c=function(){var a=l.value;if(r.has(a))return"continue";r.add(a),i.push.apply(i,(0,se.Z)(o(a,["C"])));var s=o(a,["H","W"]);if(!n){var c=t.GetPerson(a);s=s.filter((function(e){return c.IsSpouseVisible(e)}))}e(s)};for(s.s();!(l=s.n()).done;)c()}catch(e){s.e(e)}finally{s.f()}}(o(e,["F","M"])),(0,se.Z)(new Set(i))}},{key:"GetLivingSibling",value:function(e){var t,n=xe(this.GetSiblings(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r!==e){var i=this.GetPerson(r);if(null!=i&&i.IsLiving)return i}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"GetChildren",value:function(e){var t=this;if(!(e instanceof Te))throw new Error("invalid person parameter");var n=new Set((0,se.Z)(e.Children));return e.Spouses.map((function(n){return e.IsSpouseVisible(n.tgid.v)?t.GetPerson(n.tgid.v):null})).filter((function(e){return!!e})).forEach((function(e){return e.Children.forEach((function(e){return n.add(e)}))})),n}},{key:"ResetAllPersonToggles",value:function(){this._shownParents.clear(),this.Persons.forEach((function(e){return e.ResetToggles()}))}},{key:"ShowParents",value:function(e){this._shownParents.add(e)}},{key:"IsParentShownAlready",value:function(e){return this._shownParents.has(e)}},{key:"CompareMarriageDates",value:function(e,t,n){if("string"!=typeof e||!e)throw new Error("invalid personGid");var r=this.PersonsDictionary[t]||null,i=this.PersonsDictionary[n]||null,o=function(t){return"Marriage"===t.t&&t.tgid&&t.tgid.v===e},a=(r?r.Events.find(o):null)||{},l=(i?i.Events.find(o):null)||{},s=(0,pe.GetYear)(a.nd||a.d),c=(0,pe.GetYear)(l.nd||l.d);if((0,pe.IsValidYear)(s)&&!(0,pe.IsValidYear)(c))return-1;if(!(0,pe.IsValidYear)(s)&&(0,pe.IsValidYear)(c))return 1;if(!(0,pe.IsValidYear)(s)&&!(0,pe.IsValidYear)(c))return 0;var u=s.localeCompare(c);return 0===u?-1:u}},{key:"CompareBirthDates",value:function(e,t){var n=this.PersonsDictionary[e]||null,r=this.PersonsDictionary[t]||null,i=function(e){return"Birth"===e.t},o=(n?n.Events.find(i):null)||{},a=(r?r.Events.find(i):null)||{},l=(0,pe.GetYear)(o.nd||o.d),s=(0,pe.GetYear)(a.nd||a.d);if((0,pe.IsValidYear)(l)&&!(0,pe.IsValidYear)(s))return 1;if(!(0,pe.IsValidYear)(l)&&(0,pe.IsValidYear)(s))return-1;var c=(l||"").localeCompare(s);if(!(0,pe.IsValidYear)(l)&&!(0,pe.IsValidYear)(s)||0===c){var u=n&&n.Names.length>0?n.Names[0]:{},f=r&&r.Names.length>0?r.Names[0]:{};l="".concat(u.s||"").trim(),s="".concat(f.s||"").trim();var d=l.localeCompare(s);return 0!==d?d:(l="".concat(u.g||"").trim(),s="".concat(f.g||"").trim(),l.localeCompare(s))}return c}}]),e}(),Pe=Ce,Ne=n(4983);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe="add-person-css";n(2702).polyfill(),n(4301);var Ie=function(){function e(){i(this,e)}return a(e,null,[{key:"loadJavaScriptFile",value:function(e,t,n,r){if("string"!=typeof e&&!Array.isArray(e)||"string"==typeof e&&e.length<1||Array.isArray(e)&&e.length<1)throw new Error("Missing url parameter");var i=Array.isArray(e)?e:[e],o=0;function a(){++o<i.length?s(i[o]):l(0)}function l(e){"function"==typeof t?t()?n():e<3&&window.setTimeout((function(){l(e+1)}),500):n()}function s(e){if(document.querySelector('script[src="'.concat(e,'"]')))a();else{var t=document.createElement("script");t.src=e,t.onload=a,t.onreadystatechange=a,(r||document.head).appendChild(t)}}s(i[o])}},{key:"loadStyleSheetFile",value:function(e,t){if("string"!=typeof e||!e)throw new Error("invalid url");if("string"!=typeof t||!t)throw new Error("invalid className");if(!document.querySelector('link[class="'.concat(t,'"]'))){var n=document.createElement("link");n.setAttribute("href",e),n.setAttribute("class",t),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),document.head.appendChild(n)}}},{key:"GetFormValues",value:function(e){var t=document.getElementById(e);if(!t||"FORM"!=t.nodeName)return null;for(var n={},r=t.elements.length,i=0;i<r;i++){var o=t.elements[i];o.name&&!o.disabled&&"file"!=o.type&&"reset"!=o.type&&"submit"!=o.type&&"button"!=o.type&&("checkbox"!=o.type&&"radio"!=o.type||o.checked)&&(n[o.name]=o.value)}return n}},{key:"ExecuteScripts",value:function(e){if(!e||"object"!==(0,c.Z)(e))throw new Error("Invalid parentElement");function t(e){var t=e.text||e.textContent||e.innerHTML||"",n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");e.src&&(r.src=e.src),r.type="text/javascript";try{r.appendChild(document.createTextNode(t))}catch(e){r.text=t}n.insertBefore(r,n.firstChild),n.removeChild(r)}var n,r,i=[],o=e.getElementsByTagName("script");for(n=0;o[n];n++){var a=o[n];!(r=a).nodeName||"SCRIPT"!==r.nodeName.toUpperCase()||r.type&&"text/javascript"!==r.type.toLowerCase()||i.push(a)}for(n=0;n<i.length;n++){var l=i[n];l.parentNode&&l.parentNode.removeChild(l),t(i[n])}}},{key:"LoadScripts",value:function(t){function n(e){return Array.isArray(e)&&e.length>0}if(!t||"object"!==(0,c.Z)(t))throw new Error("Invalid addPersonResponse - not an object");if(!n(t.css))throw new Error("Invalid addPersonResponse - no CSS array: ".concat(JSON.stringify(t)));if(!n(t.js))throw new Error("Invalid addPersonResponse - no JS array");return new Promise((function(n,r){if(document.getElementsByClassName(Oe).length>0)return n();window.userAction=null;var i,o,a=0,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(t.css);try{for(l.s();!(o=l.n()).done;){var s=o.value;e.loadStyleSheetFile(s,Oe)}}catch(e){l.e(e)}finally{l.f()}i=t.js.length;for(var c=0;c<i;c++)e.loadJavaScriptFile(t.js[c],null,(function(){++a===i&&n()}),document.body)}))}},{key:"FetchAddPersonModalContents",value:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("gid is a required parameter");var r=e.split(":");if(3!==r.length)throw new Error("Invalid gid");var i=parseInt(r[0]),o=parseInt(r[2]);return this.FetchJson("".concat(window.TreeViewerData.UrlPrefix.AddPerson,"/modals/addPerson/tree/").concat(o,"/person/").concat(i),{useNewVersion:"5",showAddNewOnly:0===o,rel:n,gender:t})}},{key:"FetchEditPersonModalContents",value:function(e){if("object"!==(0,c.Z)(e)||!e)throw new Error("person is a required parameter");var t=e.pid,n=e.tid;return this.FetchJson("".concat(window.TreeViewerData.UrlPrefix.AddPerson,"/modals/addPerson/tree/").concat(n,"/person/").concat(t,"/edit"),{useNewVersion:"5",otid:n,opid:t})}},{key:"FetchJson",value:function(e,t){var n=encodeURIComponent,r=t?Object.keys(t).map((function(e){return"".concat(n(e),"=").concat(n(t[e]))})).join("&"):null;return fetch(e+(r?"?"+r:""),{credentials:"include",method:"GET",cache:"no-cache"}).then((function(e){return e.json()})).catch((function(t){throw(0,pe.LogError)(t),new Error("Failed to fetch data from ".concat(e))}))}},{key:"QuickEditModal",value:function(e,t,n,r,i,o,a){if("edit"===e||"add"===e){ui.callout.close();var l=document.querySelector(".calloutTrigger.active")||document.activeElement,s={onClose:function(){c.close(),n()},onOpen:function(s){l.focus();var u=document.getElementById(s.content.id),f=document.createTextNode((0,de.default)("g.downUnplanned")),d=new XMLHttpRequest;d.args=t;var p=function(e,t,n,r,i,o){var a,l=function(){return a.indexOf("?")>=0?"&":"?"};switch(e){case"edit":a=window.TreeViewerData.UrlPrefix.QuickEdit.replace("{treeid}",t).replace("{personid}",n);break;case"add":a=window.TreeViewerData.UrlPrefix.AddPersonModal.replace("{treeid}",t).replace("{personid}",n)}if(i&&(a+="".concat(l(),"sid=").concat(i)),r&&(a+="".concat(l(),"rel=").concat(r)),o)for(var s in o)o[s]&&o[s].length>0&&(a+="".concat(l()).concat(s,"=").concat(encodeURIComponent(o[s])));return a}(e,t.tid,t.pid,t.rel,i,o),h="edit"===e&&a?"POST":"GET";d.open(h,p,!0),a&&d.setRequestHeader("Content-Type","application/json"),d.onload=function(){if(d.status<200||d.status>=400)return c.showLoading(!1),u.appendChild(f),void console.warn("Add/Edit modal failed because of bad request:",d.status);var i=JSON.parse(d.responseText);if(i.errors)return c.showLoading(!1),u.appendChild(f),void console.warn("Add/Edit modal failed because of response errors:",i.errors);!function(i){window.addPersonData=JSON.parse(i.data),"add"===e&&(window.addPersonData.gender=t.gen,window.addPersonData.relationshipType=t.rel),window.addPersonData.apmCallback=function(e){e&&"success"===e.status?r(e):n()}}(i);var o=document.createElement("link");o.setAttribute("href",i.cssBundleUrl),o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),document.head.appendChild(o);var a=window.document.createElement("script");a.setAttribute("src",i.jsBundleUrl),a.setAttribute("type","text/javascript"),u.appendChild(a)},d.onerror=function(){c.showLoading(!1),u.appendChild(f),console.warn("Add/Edit modal failed because of bad url or service not responding:",p)},d.send(a?JSON.stringify(a):null)},open:!0,showLoading:!0,width:800},c=ui.modal('<div class="modalHasTitle" id="addPersonComponent"></div>',s);return c}}}]),e}();function Me(t){var n=(0,e.useState)({__html:null}),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(""),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=(0,e.useState)(!1),f=(0,ue.Z)(u,2),d=f[0],p=f[1],h=(0,e.useState)(!1),m=(0,ue.Z)(h,2),v=m[0],g=m[1],y=(0,e.useRef)(null),w=null,b=t.open,E=t.onClose,S=t.onUpdate,T=t.gen,x=t.rel,k=t.person;return"boolean"!=typeof b&&(b=!1),(0,e.useEffect)((function(){var e=k?k.gid:null;b||(c(""),o({__html:'<div class="loading modalLoading" aria-label='.concat((0,de.default)("expand.loading")," />")}),g(!1),p(!1)),e&&x&&b&&(window.clearTimeout(w),w=window.setTimeout((function(){p(!0)}),1e3),Ie.FetchAddPersonModalContents(e,T,x).then((function(e){Ie.LoadScripts(e).then((function(){!function(e,t){window.clearTimeout(w),c(e.title),o({__html:e.html}),g(!0),void 0===window.$Ap&&(window.$Ap={}),Ie.ExecuteScripts(y.current),"function"==typeof window.AddPersonModalInit&&(window.$Ap.APMAutoCompleteDates=window.autoCompDate,window.AddPersonModalInit(0,null,null,(function(e){g(!1),p(!1),S(e)}),"m"))}(e,t.nodeId)}))})).catch((function(e){p(!1),window.clearTimeout(w),(0,pe.LogError)(e),o({__html:'<div class="alert" role="alert">'.concat((0,de.default)("modal.error"),"</div>")})})))}),[b,k]),b&&"function"==typeof E&&"function"==typeof S?e.createElement(Ne.Modal,{open:v||d,closeOnBkgClick:!1,onClose:E,width:d&&!v?400:800,useCustomPadding:!0,title:s,onRequestClose:E},e.createElement("div",{ref:y,dangerouslySetInnerHTML:i})):(window.clearTimeout(w),null)}Me.propTypes={person:F().object,rel:F().string,gen:F().string,nodeId:F().number,onUpdate:F().func,open:F().bool,onClose:F().func};var Fe=Me;function je(t){var n=t.open,r=t.person,i=t.types,o=t.onClose,a=t.onChoose;function l(e){var t="",n="";switch(e.currentTarget.parentElement.id){case"FatherAdd":t="f",n="M";break;case"MotherAdd":t="m",n="F";break;case"BrotherAdd":t="s",n="M";break;case"SisterAdd":t="s",n="F";break;case"SpouseAdd":"F"===r.Gender?(t="h",n="M"):(t="w",n="F");break;case"ChildAdd":t="c"}a(t,n)}return"boolean"==typeof n&&n&&r&&Array.isArray(i)&&0!==i.length?"function"!=typeof a?null:e.createElement(Ne.Modal,{open:n,closeOnBkgClick:!1,onClose:o,onRequestClose:o,width:440,useCustomPadding:!1,title:(0,de.default)("add.relative.for",{name:r.FullName})},e.createElement("div",{className:"addFamDetails addFamMembModal"},e.createElement("h2",{className:"addFamilyHeader"},(0,de.default)("whoToAdd")),e.createElement("div",{className:"ancGrid"},i.map((function(t){return e.createElement("div",{key:t,id:t+"Add",className:"ancCol w50"},e.createElement("button",{id:t+"AddLnk",className:"ancBtn silver",onClick:l,tabIndex:"0"},e.createElement("strong",null,(0,de.default)(t))))}))))):null}je.propTypes={nodeId:F().number,open:F().bool,onChoose:F().func,onClose:F().func,person:F().object,types:F().arrayOf(F().string)};var Le=je;function Ae(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)({__html:"loading..."}),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=(0,e.useState)(""),f=(0,ue.Z)(u,2),d=f[0],p=f[1],h=(0,e.useRef)(null),m=t.person,v=t.onChange,g=t.onCloseModal;if((0,e.useEffect)((function(){o(!1),m&&Ie.FetchEditPersonModalContents(m).then((function(t){o(!0),Ie.LoadScripts(t).then((function(){!function(t){var n,r;p((n=t.title,r=m.PrimaryPhoto,e.createElement("div",{className:"ancGrid full480"},e.createElement("div",{className:"ancCol"},n),e.createElement("div",{className:"ancCol ancColUserCard hide480"},e.createElement("div",{className:"userCard userCardSize2"},!r&&e.createElement("span",{"aria-hidden":"true",className:"".concat((0,pe.GetIconClass)(m))}),r&&e.createElement("div",{className:"userCardImg userCardImgOriginal"},e.createElement("img",{alt:n,src:r})),e.createElement("div",{className:"userCardContent"},e.createElement("h6",{className:"userCardTitle"},m.FullName)," ",e.createElement("p",{className:"userCardSubTitle"},m.LifeSpan2))))))),c({__html:t.html}),Ie.ExecuteScripts(h.current),"function"==typeof window.AddPersonModalInit&&(void 0!==window.$Ap&&(window.$Ap.APMAutoCompleteDates=window.autoCompDate),window.AddPersonModalInit(0,null,null,(function(e){e&&"success"===e.status?v():g()}),"m"))}(t)}))}))}),[t.person]),!m)return null;if("function"!=typeof v)throw new Error("Missing onChange handler");if("function"!=typeof g)throw new Error("Missing onCloseModal handler");return e.createElement(Ne.Modal,{open:i,onClose:g,width:800,useCustomPadding:!0,title:d,onRequestClose:g},e.createElement("div",{ref:h,dangerouslySetInnerHTML:s}))}Ae.propTypes={person:F().object,onChange:F().func,onCloseModal:F().func};var De=Ae;function Re(t){var n=(0,e.useRef)(null),r=(0,e.useState)(!1),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)(!1),s=(0,ue.Z)(l,2),c=s[0],u=s[1],f=t.id,d=t.href,p=t.label,h=t.large,m=t.title,v=t.treeId,g=t.viewName,y=t.activeView,w=t.showCallout,b=window.TreeViewerData,E=b.UrlPrefix,S=b.StorymakerStudio;if("string"!=typeof v||!v)throw new Error("missing treeId");"string"==typeof g&&0!==g.trim().length||(g="ped"),(0,e.useEffect)((function(){u(w&&"fam"===g&&"ped"===y),"img"===g&&u(w)}),[w,g,y]),(0,e.useEffect)((function(){c&&window.setTimeout((function(){a(!0)}),2e3)}),[c]);var T,x=d||"".concat(E.Trees,"/tree/").concat(v,"/family/"),k=g===y;switch(g){case"ped":x+="pedigree",m=m||(0,de.default)("view.pedigree"),T="iconTreePedigree";break;case"fan":x+="fanchart",m=m||(0,de.default)("view.fan"),T="iconTree";break;case"img":x="".concat(E.Trees,"/tree/").concat(v,"/media").concat(S?"?tab=0":""),m=m||(0,de.default)(S?"view.storymaker":"view.img"),T=S&&!window.TreeViewerData.NewNavigation?"iconImage":"iconGallery";break;case"hints":x="".concat(E.Hints,"/tree/").concat(v,"/hints/"),m=m||(0,de.default)("all.hints"),T="iconLeaf";break;case"dna":T="iconDna";break;default:x+="familyview",m=m||(0,de.default)("view.family"),T="iconTreeFamily"}var C="";"ped"!==g&&"fam"!==g&&"fan"!==g||(C=" ".concat(g," ").concat(k?"active":"notActive"));var P=["ancBtn".concat(h?" lrg":""," outline silver").concat(C," ").concat(p?"noBorder ":"","ancBtnIconOnly icon ").concat(T)];!h&&window.TreeViewerData.NewNavigation&&(window.TreeViewerData.Theme||"").indexOf("bgDark")>=0&&P.push("bgDark");var N=e.createElement("a",{href:x,className:P.join(" "),onClick:function(e){var t;switch(window.ui.sidebar.close(),g){case"ped":t="pedigree";break;case"fan":t="fanchart";break;case"fam":t="family";break;case"img":return(0,pe.UBELink)("TreesUI_MediaGalleryClicked",{schemaVersion:2,finalEvent:!0,viewType:S?"storymaker_studio":"tree_media_gallery",treeId:v,clickLocation:"tree_home"});case"dna":return(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"dna_discoveries",finalEvent:!0});case"hints":return(0,pe.UBELink)("TreesUI_TreeDropdownClicked",{schemaVersion:3,finalEvent:!0,selectionType:"all_hints"});default:return}(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"".concat(t,"_view")})},title:window.TreeViewerData.NewNavigationIntl?null:m,"aria-label":m,ref:n});return e.createElement(e.Fragment,null,p?e.createElement("div",{id:f},N,(h||!window.TreeViewerData.NewNavigationIntl)&&e.createElement("div",{className:"".concat(h?"":"textsml bold")},p)):N,!w&&window.TreeViewerData.NewNavigationIntl&&p&&e.createElement(Ne.Callout,{trigger:n,calloutClasses:"toolCallout",position:"right",type:"hover"},e.createElement("span",null,p)),w&&"fam"===g&&"ped"===y&&e.createElement(Ne.Callout,{trigger:n,position:"right",type:"hover",width:350,onRequestAction:function(e){"open"!==e.action&&window.setTimeout((function(){a(!1),u(!1),(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.NFVCallout).catch(pe.LogError)}))},open:o},t.children))}Re.propTypes={label:F().string,title:F().string,id:F().string,href:F().string,large:F().bool,showCallout:F().bool,treeId:F().string,viewName:F().string,activeView:F().string};var Ve=Re;function Be(t){var n=t.id,r=t.icon,i=t.onButtonClick,o=t.label,a=(0,e.useRef)(null),l="function"==typeof i?function(){return i(a.current)}:null,s=["ancBtn silver noBorder icon ".concat(r)],c=window.TreeViewerData,u=c.NewNavigation,f=c.NewNavigationIntl,d=c.Theme;return u&&(d||"").indexOf("bgDark")>=0&&s.push("bgDark"),f&&"iconMore"===r&&s.push("iconMoreRotate"),e.createElement("div",{id:n},e.createElement("button",{className:s.join(" "),title:f?null:o,"aria-label":o,ref:a,onMouseOver:f&&t.children?function(e){var t,n;null===(t=e.currentTarget)||void 0===t||t.click(),null===(n=e.currentTarget)||void 0===n||n.blur()}:null,onClick:l}),o&&!f&&e.createElement("div",{className:"textsml bold"},o),(f||t.children)&&e.createElement(Ne.Callout,{trigger:a,calloutClasses:"toolCallout",classes:"".concat(n,"CalloutMenu"),position:"right",type:o&&f&&!t.children?"hover":"click"},o&&f&&!t.children&&e.createElement("span",null,o),t.children))}Be.propTypes={id:F().string,icon:F().string,onButtonClick:F().func,label:F().string};var Ue=Be;function He(t){var n=t.id,r=t.icon,i=t.url,o=t.text,a=t.onClick,l=(0,e.useRef)(null),s=(0,e.useCallback)((function(){window.ui.callout.close();var e=null;switch(r){case"iconInfo":e="trees_overview";break;case"iconSettings":e="tree_settings"}e&&(0,pe.UBELink)("TreesUI_TreeDropdownClicked",{schemaVersion:3,selectionType:e,finalEvent:!0}),"iconPrint"===r?(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"print"}):"iconGift"===r&&(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"keepsake",finalEvent:!0}),a&&a(l.current)}),[l,a]);return e.createElement("li",{id:n},a&&e.createElement("button",{ref:l,className:"calloutMenuItem link",onClick:s,"aria-label":o},e.createElement("span",{className:"icon ".concat(r)}),e.createElement("span",null,o)),i&&e.createElement("a",{className:"calloutMenuItem link",onClick:s,href:i,"aria-label":o},e.createElement("span",{className:"icon ".concat(r)}),e.createElement("span",null,o)))}He.propTypes={id:F().string,icon:F().string,url:F().string,text:F().string,onClick:F().func};var Ge=He;function ze(t){var n=t.active,r=t.href,i=t.icon,o=t.title,a=t.description,l=(0,e.useCallback)((function(){(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"iconTreePedigree"===i?"pedigree_view":"family_view",finalEvent:!0})}),[i]);return e.createElement("a",{className:"calloutMenuItem link".concat(n?" bold iconAfter iconAfterCheck calloutMenuChecked":""),href:r,onClick:l,title:a},e.createElement("span",{className:"icon ".concat(i)}),e.createElement("span",null,o))}function Ze(t){var n=(0,e.useState)(!0),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useRef)(null),l=(0,e.useRef)(null),s=t.tid,c=t.treeOwner,u=t.zoomHandler,f=t.type,d=t.homePerson,p=t.focusPerson,h=t.scale,m=t.toggleThruLines,v=t.togglePossibleMatches,g=t.toggleConfirmedMatches,y=t.isEditor,w=t.layersSidePanelJs,b=t.onTreeSearchClick,E=t.cfpId,S=t.isThumbnailNavOpen,T=t.onToggleThumbs,x=t.toggleLayersSidePanel,k=t.setSampleId,C=t.homeHandler,P=t.resetHandler,N=t.canClickResetButton,_=t.thruLines,O=t.autoOpenLayersPanel,I=t.sampleId;if((0,e.useEffect)((function(){o(!d||d!==p)}),[d,p]),(0,e.useEffect)((function(){c&&c.info&&!0!==window.TreeViewerData.IsInstitutional&&window.TreeViewerData.ShowNewUserProfileComponent&&Ie.loadJavaScriptFile(window.TreeViewerData.miniProfileJs,null,(function(){}))}),[c]),(0,e.useEffect)((function(){var e,t=l.current;if(t){var n=null===(e=window)||void 0===e?void 0:e.ui.sidebar("#mobileMenuSidebar",{trigger:t});t.addEventListener("click",(function(){n.isOpen?n.close():n.open()}))}}),[l]),(0,e.useEffect)((function(){if(_){var e=window.$trees;e||(e=window.$trees={}),e.setLayersState=function(e){if(e){var t=e.treeDnaTest,n=e.showThrulines,r=e.showConfirmedDnaMatches,i=e.showPossibleDnaMatches,o=e.tests;(!o||o.filter((function(e){return e&&e.id===t})).length<=0)&&(t=o&&o.length>0?o[0].id:null);var a=t||null;k(a),window.TreeViewerData.sampleId=a,m(n||!1),g(r||!1),v(i||!1)}},e.ThruLines={hasThrulines:!1,setVisibility:m,setSampleId:k},e.DnaMatchLinking={setVisibility:function(e,t){v(e),g(t)},setSampleId:k},Ie.loadJavaScriptFile(w,(function(){return window.layersSidePanel&&"function"==typeof window.layersSidePanel.init}),(function(){var e=window.TreeViewerData.matchPossibleImageUrl,t=window.TreeViewerData.matchLabeledImageUrl;window.layersSidePanel.init(s,"true",e,t,y,null,{isNewLayersSidebar:!0,showLineLabelsOption:window.TreeViewerData.AllowLineLabels}),O&&x()}))}}),[]),"string"!=typeof s||!s)return null;if("function"!=typeof u)throw new Error("Invalid zoomHandler");var M=d?(0,de.default)("home.tooltip",{name:d.FullName}):(0,de.default)("home.select.tooltip"),F=(0,de.default)("return.to",{name:p?p.FullName:""}),j=(0,de.default)("view.dnamatches",{name:p?p.FullName:""});function L(){u(!0)}function A(){u(!1)}function D(e){var t=["ancBtn silver ".concat(e," noBorder")];return"iconArrowSmallUpAfter"===e?t.push("ancBtnIconOnly iconAfter"):t.push("icon"),window.TreeViewerData.Theme.indexOf("bgDark")>=0&&t.push("bgDark"),t.join(" ")}var R="".concat(window.TreeViewerData.UrlPrefix.Matches,"/match-list/").concat(I||""),V=!!I;return window.TreeViewerData.NewNavigation?e.createElement("aside",{id:"trVwHd"},e.createElement(Ue,{id:"ViewButton",icon:"ped"===f?"iconTreePedigree":"iconTreeFamily",label:(0,de.default)("nav.view")},e.createElement("div",{className:"calloutMenu"},window.TreeViewerData.NewNavigationIntl&&e.createElement("h4",{className:"calloutMenuTitle"},(0,de.default)("nav.view")),e.createElement("ul",null,e.createElement("li",null,e.createElement(ze,{href:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/family/pedigree"),active:"ped"===f,icon:"iconTreePedigree",title:(0,de.default)("nav.view.horizontal"),description:(0,de.default)(y?"nav.view.your.horizontal":"nav.view.this.horizontal")})),e.createElement("li",null,e.createElement(ze,{href:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/family/familyview"),active:"fam"===f,icon:"iconTreeFamily",title:(0,de.default)("nav.view.vertical"),description:(0,de.default)(y?"nav.view.your.vertical":"nav.view.this.vertical")}))))),e.createElement(Ve,{id:"MediaButton",treeId:s,viewName:"img",label:(0,de.default)("nav.media")}),e.createElement(Ue,{id:"FindButton",icon:"iconPersonFind",onButtonClick:b,label:(0,de.default)("nav.find")}),y&&e.createElement(Ve,{id:"HintsButton",treeId:s,viewName:"hints",label:(0,de.default)("nav.hints")}),V&&e.createElement(Ve,{treeId:s,viewName:"dna",label:(0,de.default)("nav.dna"),id:"dnaMatchesNavBtn",href:R,title:j}),e.createElement(Ue,{id:"MoreButton",icon:"iconMore",label:(0,de.default)("nav.more")},e.createElement("div",{className:"calloutMenu"},window.TreeViewerData.NewNavigationIntl&&e.createElement("h4",{className:"calloutMenuTitle"},(0,de.default)("nav.more")),e.createElement("ul",null,e.createElement(Ge,{id:"MoreViewH",icon:"iconTreePedigree".concat("ped"===f?" iconAfter iconAfterCheck":""),url:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/family/pedigree"),text:(0,de.default)("nav.view.horizontal")}),e.createElement(Ge,{id:"MoreViewV",icon:"iconTreeFamily".concat("fam"===f?" iconAfter iconAfterCheck":""),url:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/family/familyview"),text:(0,de.default)("nav.view.vertical")}),e.createElement(Ge,{id:"MoreMedia",icon:"iconGallery",url:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/media"),text:(0,de.default)("media.gallery")}),e.createElement(Ge,{id:"MoreFind",icon:"iconPersonFind",text:(0,de.default)("nav.find"),onClick:b}),y&&e.createElement(Ge,{id:"MoreHints",icon:"iconLeaf",url:"".concat(window.TreeViewerData.UrlPrefix.Hints,"/tree/").concat(s,"/hints/"),text:(0,de.default)("all.hints")}),V&&e.createElement(Ge,{id:"MoreDNA",icon:"iconDna",url:R,text:j}),c.canShare&&e.createElement(Ge,{icon:"iconShare",onClick:function(){(0,pe.UBELink)("TreesUI_ShareClicked",{schemaVersion:9,clickType:"trees_sharing",treeId:s,clickLocation:"menu"}),window.TreeViewerData.ShowNewTreeInviteUI?window.inviteUi.show():document.documentElement.dispatchEvent(new Event("inviteModal"))},text:(0,de.default)("share")}),e.createElement(Ge,{icon:"iconLayers",onClick:x,text:(0,de.default)("guidance.layerstitle")}),y&&e.createElement(Ge,{icon:"iconInfo",url:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/recent"),text:(0,de.default)("tree.overview")}),y&&e.createElement(Ge,{icon:"iconSettings",url:"".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/settings/info"),text:(0,de.default)("tree.settings")}),e.createElement(Ge,{icon:"iconPrint",onClick:function(){"family"===window.TreeViewerData.View?window.dispatchEvent(new Event("printTree")):window.open("".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(s,"/person/").concat(E,"/family/pedigree/print?_phsrc=WLs19&usePUBJs=true"))},text:(0,de.default)("print")}),e.createElement(Ge,{icon:"iconGift",url:"https://www.mycanvas.com/",text:(0,de.default)("nav.keepsake")})))),window.TreeViewerData.NewNavigationIntl&&e.createElement("hr",{className:"keyLine"}),e.createElement("div",{className:"treeMobileMenu"},e.createElement("div",{className:"mobileLeft"},e.createElement("button",{id:"MobileMenuButton",ref:l,className:D("iconArrowSmallUpAfter")},(0,de.default)("menu"))),e.createElement("div",{className:"mobileRight bottomMenuIcons"},e.createElement("button",{className:D("iconHome"),id:"homePerson",title:M,"aria-label":M,onClick:C}),e.createElement("button",{className:D("iconZoomIn"),id:"zoomIn",title:(0,de.default)("zoom.in"),"aria-label":(0,de.default)("zoom.in"),onClick:L,disabled:h>=100}),e.createElement("button",{className:D("iconZoomOut"),id:"zoomOut",title:(0,de.default)("zoom.out"),"aria-label":(0,de.default)("zoom.out"),onClick:A,disabled:h<=10}),"family"===window.TreeViewerData.View&&e.createElement("button",{className:D(S?"iconClose":"iconExpand"),id:"thumbnailNavigatorToggle",title:(0,de.default)(S?"close":"open"),onClick:T})))):e.createElement("aside",{id:"trVwHd"},e.createElement("div",{className:"cntrls"},e.createElement(Ve,{treeId:s,viewName:"ped",activeView:f}),e.createElement(Ve,{treeId:s,viewName:"fam",activeView:f,showCallout:window.TreeViewerData.ShowNFVCallout},e.createElement("strong",null,(0,de.default)("nfv.callout.title")),e.createElement("p",null,(0,de.default)("nfv.callout.body"))),"fan"===f&&e.createElement(Ve,{treeId:s,viewName:"fan",activeView:f})),e.createElement("div",{className:"cntrls"},e.createElement("button",{className:"ancBtn silver icon iconHome",id:"homePerson",title:M,"aria-label":M,onClick:C,disabled:!i}),e.createElement("button",{className:"ancBtn silver icon iconResetZoom",id:"centerFocus",title:F,"aria-label":F,onClick:P,disabled:!N}),e.createElement("button",{className:"ancBtn ancBtnIconOnly silver icon iconLayers",ref:a,title:(0,de.default)("layers.button.title"),onClick:x})),e.createElement("div",{className:"cntrls"},e.createElement(Ve,{treeId:s,viewName:"img",activeView:f})),e.createElement("div",{className:"cntrls"},e.createElement("button",{className:"ancBtn silver icon iconZoomIn",id:"zoomIn",title:(0,de.default)("zoom.in"),"aria-label":(0,de.default)("zoom.in"),onClick:L,disabled:h>=100}),e.createElement("button",{className:"ancBtn silver icon iconZoomOut",id:"zoomOut",title:(0,de.default)("zoom.out"),"aria-label":(0,de.default)("zoom.out"),onClick:A,disabled:h<=10})),V&&e.createElement("div",{className:"cntrls"},e.createElement(Ve,{treeId:s,viewName:"dna",id:"dnaMatchesNavBtn",href:R,title:j})))}ze.propTypes={href:F().string,active:F().bool,icon:F().string,title:F().string,description:F().string},Ze.propTypes={isThumbnailNavOpen:F().bool,onToggleThumbs:F().func,toggleLayersSidePanel:F().func,onTreeSearchClick:F().func,isEditor:F().bool,tid:F().string,cfpId:F().number,type:F().string,homePerson:F().object,focusPerson:F().object,zoomHandler:F().func,resetHandler:F().func,homeHandler:F().func,toggleThruLines:F().func,togglePossibleMatches:F().func,toggleConfirmedMatches:F().func,setSampleId:F().func,autoOpenLayersPanel:F().bool,canClickResetButton:F().bool,layersSidePanelJs:F().string,thruLines:F().bool,treeOwner:F().object,scale:F().number,sampleId:F().string};var We=Ze;function qe(t){var n,r,i=(0,e.useRef)(null),o=t.treeId,a=t.treeName,l=t.rights,s=window.TreeViewerData||{},c=s.UrlPrefix||{},u=c.Trees||null,f=c.Hints||null,d=s.StorymakerStudio;function p(e){var t,n=e.target.classList,r=n.contains("iconGallery")||n.contains("iconImage"),i=n.contains("iconShare"),a=["iconGallery","iconImage","iconLeaf","iconSettings","iconShare","iconInfo"].some((function(e){return n.contains(e)}));r&&(0,pe.UBELink)("TreesUI_MediaGalleryClicked",{schemaVersion:2,viewType:n.contains("iconGallery")?"tree_media_gallery":"storymaker_studio",treeId:o,clickLocation:"tree_dropdown"}),i&&(0,pe.UBELink)("TreesUI_ShareClicked",{schemaVersion:9,clickLocation:"menu",clickType:"trees_sharing"}),a&&(n.contains("iconGallery")?t="trees_media_gallery":n.contains("iconImage")?t="storymaker_studio":n.contains("iconLeaf")?t="all_hints":n.contains("iconSettings")?t="tree_settings":n.contains("iconShare")?t="invite":n.contains("iconInfo")&&(t="trees_overview"),(0,pe.UBELink)("TreesUI_TreeDropdownClicked",{schemaVersion:3,selectionType:t,finalEvent:!0}))}function h(t,n,r,i,o){return e.createElement("li",{key:i||t},e.createElement("a",{className:"icon ".concat(t),href:n,"aria-current":o?"page":null,onClick:p,"aria-label":r},r))}return"string"!=typeof o||0===o.trim().length?null:("string"==typeof a&&0!==a.trim().length||(a=(0,de.default)("treeNameDefault",{name:""})),e.createElement(e.Fragment,null,e.createElement("button",{id:"treeMenuDropDownButton",className:"ancBtn ancBtnIconOnly320 silver treePagesButton","aria-label":a,title:a,ref:i,type:"button",onClick:function(){(0,pe.UBELink)("TreesUI_TreeDropdownClicked",{schemaVersion:3,selectionType:"tree_name_dropdown"})}},e.createElement("span",{className:"icon iconTreePedigree","aria-hidden":"true"}),e.createElement("span",{className:"hideVisually320 textClipped"},a),e.createElement("span",{className:"iconAfter iconArrowSmallDownAfter","aria-hidden":"true"})),e.createElement(Ne.Callout,{trigger:i},e.createElement("div",{className:"calloutMenu"},e.createElement("ul",{className:"treePagesList",id:"treePagesList"},h("iconTreePedigree","".concat(u,"/tree/").concat(o,"/family"),(0,de.default)("view.tree"),null,!0),l&&l.ed&&u&&h("iconInfo","".concat(u,"/tree/").concat(o,"/recent"),(0,de.default)("tree.overview")),u&&d&&h("iconImage","".concat(u,"/tree/").concat(o,"/media?tab=0"),(0,de.default)("storymaker.studio")),u&&h("iconGallery","".concat(u,"/tree/").concat(o,"/media").concat(d?"?tab=1":""),(0,de.default)("media.gallery")),l&&l.ed&&f&&h("iconLeaf","".concat(f,"/tree/").concat(o,"/hints/"),(0,de.default)("all.hints")),l&&l.ed&&u&&h("iconSettings","".concat(u,"/tree/").concat(o,"/settings/info"),(0,de.default)("tree.settings")),t.onShareClick&&("iconShare",n=(0,de.default)("share"),r=t.onShareClick,"TreeShareMenuButton",e.createElement("li",null,e.createElement("button",{id:"TreeShareMenuButton",className:"icon ".concat("iconShare"," calloutMenuItem link"),tabIndex:"0",onClick:r,"aria-label":n},n))),u&&h("iconFamily","".concat(u,"/tree/").concat(o,"/family/familygroup"),(0,de.default)("family.group.sheet")))))))}qe.propTypes={rights:F().object,onShareClick:F().func,treeId:F().string,treeName:F().string};var $e=qe;function Ke(t){var n=(0,e.useRef)(null),r=(0,e.useState)(!1),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)(null),s=(0,ue.Z)(l,2),c=s[0],u=s[1],f=(0,e.useState)(null),d=(0,ue.Z)(f,2),p=(d[0],d[1]),h=(0,e.useState)(null),m=(0,ue.Z)(h,2),v=(m[0],m[1]),g=t.urlPrefix,y=t.ownerCardInfo;if((0,e.useEffect)((function(){if(g&&y){var e=y.OwnerDisplayName||"";if(v(e),y.OwnerPhotoId&&"ffffffff-ffff-ffff-ffff-ffffffffffff"!==y.OwnerPhotoId.toLowerCase())u("".concat(g.MediaSvc,"/v2/image/namespaces/60564/media/").concat(y.OwnerPhotoId,".jpg?client=Ancestry.Trees&maxWidth=60&maxHeight=80")),p(null);else{var t=e.replace("."," ").split(" ").map((function(e){return e?e[0]:""}));1===t.length&&e.length>1&&e[1]&&t.push(e[1]),t.length>2&&t.splice(1,t.length-2),u(null),p(t.join("").toUpperCase())}}}),[g,y]),!y||!g)return null;var w="".concat(g.Ancestry,"/account/profile/").concat(y.OwnerId),b=(0,de.default)("view.owner.profile",{name:y.OwnerDisplayName});function E(){if(c)return e.createElement("img",{className:"userCardImgCenter",src:c});if(y.OwnerDisplayName){var t=window.ui.getAvatarInfo(y.OwnerDisplayName);return e.createElement("span",{title:y.OwnerDisplayName,"aria-label":y.OwnerDisplayName,className:"userCardImg "+t.classes.join(" ")},t.initials)}return e.createElement("span",{className:"icon iconPerson"})}function S(){var t,n=["userCardName"];return((null===(t=window.TreeViewerData)||void 0===t?void 0:t.Theme)||"").indexOf("bgDark")>=0&&n.push("bgDark"),e.createElement(e.Fragment,null,e.createElement("a",{className:"profileImageLink".concat(c?" userCardImg":""),href:w,title:b},e.createElement(E,null)),e.createElement("div",{className:"userCardContent"},e.createElement("div",{className:n.join(" ")},e.createElement("a",{href:w,title:b},y.OwnerDisplayName)),"public"!==y.UserRole&&e.createElement("div",{className:"userCardInfo"},e.createElement("small",null,(0,de.default)("your.role",{role:(0,de.default)(y.UserRole)})))))}return e.createElement("div",{className:"treeOwnerAndRole"},e.createElement("span",{className:"userCard userCardSize2 hide480",role:"group"},e.createElement(S,null)),e.createElement("span",{className:"userCard userCardSize2 userCardPile noTopSpacing show480",role:"group"},e.createElement("button",{ref:n,type:"button","aria-expanded":o,className:"calloutTriggerNoArrow ownerCalloutButton profileImageLink userCardImg"},e.createElement(E,null))),e.createElement("span",{className:"show480"},e.createElement(Ne.Callout,{trigger:n,onOpen:function(){return a(!0)},onClose:function(){return a(!1)},width:"200",classes:"treeOwnerAndRoleCallout"},e.createElement("div",{className:"userCard userCardSize2"},e.createElement(S,null)))))}Ke.propTypes={ownerCardInfo:F().object,urlPrefix:F().object};var Ye=Ke,Je={TASKS:1,RECENT_CHANGES:2,RECENT_VIEWER:3},Qe=function(e,t,n,r){var i="true"===(null==n?void 0:n.showtreehistory),o="true"===(null==n?void 0:n.showrecentviews),a="true"===(null==n?void 0:n.showtasks);i?Xe(Je.RECENT_CHANGES,e,t,r.showRecentChanges,r.showRecentViews,r.showComments):o?Xe(Je.RECENT_VIEWER,e,t,r.showRecentChanges,r.showRecentViews,r.showComments):a&&Xe(Je.TASKS,e,t,r.showRecentChanges,r.showRecentViews,r.showComments)},Xe=function e(t,n,r,i,o,a){var l,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];window.ancestry.coco?window.ancestry.coco.perform("ViewTreeHistory",{treeId:n,treeName:r,isRecentViewersEnabled:o,isRecentChangesEnabled:i,isTasksTabEnabled:a,isTasksEnabled:null===(l=window.TreeViewerData)||void 0===l?void 0:l.TreeTasks,showRecentViewers:t===Je.RECENT_VIEWER,showTasks:t===Je.TASKS,showFirstTab:s}):setTimeout((function(){e(t,n,r,i,o,a,s)}),100)},et=function(e,t){var n,r=t.treeId,i=t.rights;switch(e){case Je.RECENT_CHANGES:(0,pe.UBELink)("TreeEditUI_ObjectClicked",{clickType:"tree_view_clock_icon",treeId:r+"",actionLocation:"tree",schemaVersion:6},!0);break;case Je.RECENT_VIEWER:n=tt(i),(0,pe.UBELink)("TreeViewerUI_ObjectClicked",{clickType:"recent_viewers_entry_activity_drop_down",treeId:r,recentViewerRole:n,schemaVersion:6});break;case Je.TASKS:(0,pe.UBELink)("CoreUI_CommentObjectClicked",{clickType:"entry_click",treeId:r,contentType:"other",objectType:"tree",schemaVersion:4})}},tt=function(e){return"owner"===e.access?"owner":!e.access||"share"!==e.access&&"shared"!==e.access?"visitor":e.ed?"editor":e.cont?"contributor":e.read?"guest":"visitor"};function nt(e,t){var n=t.treeId,r=t.treeName,i=t.flags,o=i.showRecentChanges,a=i.showRecentViews,l=i.showComments,s=t.rights;Xe(e,n,r,o,a,l),window.ui.callout.close(),et(e,{treeId:n,rights:s})}function rt(t){var n=t.flags,r=n.showRecentChanges,i=n.showRecentViews,o=n.showComments;return e.createElement("section",{className:"con"},e.createElement("ol",{className:"conBody conList"},o&&e.createElement("li",{className:"conSection"},e.createElement("button",{className:"ancBtn noBorder icon iconAdvice",type:"button",onClick:function(){return nt(Je.TASKS,t)}},(0,de.default)("activity.callout.tree.comments.button.text"))),r&&e.createElement("li",{className:"conSection"},e.createElement("button",{className:"ancBtn noBorder icon iconClock",type:"button",onClick:function(){return nt(Je.RECENT_CHANGES,t)}},(0,de.default)("activity.callout.recent.changes.button.text"))),i&&e.createElement("li",{className:"conSection"},e.createElement("button",{className:"ancBtn noBorder icon iconPeople",type:"button",onClick:function(){return nt(Je.RECENT_VIEWER,t)}},(0,de.default)("activity.callout.recent.viewers.button.text")))))}function it(t){var n,r=t.treeId,i=t.treeName,o=t.flags,a=t.rights,l=(0,e.useRef)(null),s=Q(),c=(0,pe.useQuery)(s),u=!(null!==(n=window.TreeViewerData)&&void 0!==n&&n.ActivityNoDropdown);(0,e.useEffect)((function(){Qe(r,i,c,o)}),[r]);var f=(0,de.default)("activity.Sidebar.button.text"),d=window.TreeViewerData.NewNavigation&&window.TreeViewerData.Theme.indexOf("bgDark")>=0,p="primary-activity"===window.TreeViewerData.ActivityPrimaryCTA,h="new-activity"===window.TreeViewerData.ActivityPrimaryCTA,m=u?"iconAfter iconArrowDownAfter ":"",v=p?"":" silver".concat(d?" bgDark":""),g=h?" activityNew":"";return e.createElement(e.Fragment,null,e.createElement("button",{"aria-label":f,ref:l,id:"toggleActivityBtn",onClick:function(){(0,pe.UBELink)("TreeViewerUI_ObjectClicked",{clickType:"activity_entry",treeId:r,schemaVersion:6}),u||Xe(null,r,i,o.showRecentChanges,o.showRecentViews,o.showComments,!0)},className:"ancBtn ancBtnIconOnly480 ".concat(m,"icon iconClock").concat(v).concat(g),title:f,type:"button"},e.createElement("span",{className:"hideVisually480"},f),h&&e.createElement("span",{className:"badge"},(0,de.default)("activity.Sidebar.button.badge.text"))),u&&e.createElement(Ne.Callout,{trigger:l,classes:"activity-callout-content"},e.createElement(rt,{treeId:r,treeName:i,flags:o,rights:a})))}function ot(t){var n=t.treeId,r=t.treeName,i=t.flags,o=t.rights,a=null==i?void 0:i.showRecentChanges,l=null==i?void 0:i.showRecentViews,s=null==i?void 0:i.showComments;return a||l||s?e.createElement(it,{treeId:n,treeName:r,flags:i,rights:o}):null}function at(t){var n=t.data,r=t.treeOwner;if(!n||!r||!r.info)return null;var i=n.userProfileComponentHtml;if(!i)return null;var o=i.mini;if(!o)return null;var a="";if(r.info&&"public"!==r.info.UserRole)switch(r.info.UserRole){case"editor":a=(0,de.default)("you.are.editor");break;case"contributor":a=(0,de.default)("you.are.contributor");break;case"guest":a=(0,de.default)("you.are.guest")}return o=o.replace("USER_TREE_ROLE",a),a||(o=o.replace("optionalContent","hideVisually optionalContent")),e.createElement("div",{className:"mobileProfileContainer",dangerouslySetInnerHTML:{__html:o}})}rt.propTypes={treeId:F().string.isRequired,activityRef:F().shape({current:F().any}),flags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool})},it.propTypes={treeId:F().string.isRequired,treeName:F().string,flags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool,showActivityDropdown:F().bool}),rights:F().shape({access:F().string,ed:F().bool,cont:F().bool,read:F().bool})},ot.propTypes={treeId:F().string.isRequired,treeName:F().string,flags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool}),rights:F().object},at.propTypes={treeOwner:F().object,data:F().object};var lt=at;function st(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=t.treeId,l=t.searchSidePanelJs,s=t.urlPrefix;return(0,e.useEffect)((function(){if("string"==typeof a&&s&&"object"===(0,c.Z)(s)){var e=!1;return Ie.loadJavaScriptFile(l,(function(){return window.searchSidePanel&&"function"==typeof window.searchSidePanel.init}),(function(){e||(window.jQuery&&"function"!=typeof window.jQuery.callout&&(window.jQuery.fn.callout=function(e){return e}),window.searchSidePanel.init(a,{treesPrefix:s.Trees,personPrefix:s.Person,urlTemplate:"javascript:SetCfpId({personId})"}),o(!0))}),document.head),function(){e=!0}}}),[]),i}st.propTypes={treeId:F().string,urlPrefix:F().object};var ct=st,ut=function(){function e(){throw i(this,e),new Error("This is a static class and should not be constructed")}return a(e,null,[{key:"init",value:function(t,n,r,i,o){("number"!=typeof n||n<0)&&(n=500),e.TitleName=i,$.modal={center:function(){},close:function(){window.ui.modal.close()}},window.ui.modal("<div class='modalHasTitle'><header class='modalHeader' id='modalHeader'><h4 class='modalTitle'></h4></header><div data-title='' id='".concat(t,"'><div id='").concat(t,"Content'>").concat(e.spinnerCnt,"</div></div></div>"),{hideCloseBtn:!1,closeOnBkgClick:!0,closeOnEscape:!0,isMarketing:!1,showLoading:!1,width:n+40,title:"",onOpen:o&&o.onOpen?o.onOpen:function(){},onClose:o&&o.onClose?o.onClose:function(){}}).open()}},{key:"create",value:function(t,n,r,i){if("string"!=typeof n||!n)throw new Error("Missing url");if(r||null!==r)throw new Error("htmlSrc is expected to be null");$.ajax({url:n,cache:!1,timeout:2e4,type:"GET",data:{params:e.Params},success:function(n){void 0!==n.hasexception&&null!=n.hasexception&&n.hasexception&&e.throwException(t,"view has thrown an exception!"),$("#modalHeader").hide();var r=null!=n.html&&n.html.length>0?n.html:void 0!==n[0]&&n[0].length>1?n[0]:n;e.getView(t,r);var o=$("#modal");o.length>0&&o.show();var a=$("#modalTitle");if(a.length>0&&e.TitleName.length>0){var l=a.data(e.TitleName);$("#modalHeader .modalTitle").text(l),$("#modalHeader").show()}null!=i&&i()},error:function(n,r,i){e.throwException(t,"source->".concat(t," status->").concat(n.status," thrownError->").concat(i))}})}},{key:"getView",value:function(t,n){if(null==n||"fail"==n.responseText)e.throwException(t,n);else if(n.length>0){var r=$("#"+t+"Content").html(n).find("[data-callout]");void 0!==r.callout&&r.length>0&&r.each((function(e,t){window.ui.callout(t,{content:t.dataset.callout})}))}}},{key:"throwException",value:function(e,t){null!=window.console&&window.console.error(t),$.ajax({url:"".concat($trees.util.getAjaxUrlPrefix(),"/pt/Down.aspx?noHeaderFooter=1"),cache:!1,timeout:2e4,type:"GET",data:{},success:function(t){document.getElementById(e).innerHTML=t}})}}]),e}();ut.Modal=null,ut.Params=null,ut.spinnerCnt="<div class='loading' style='margin:50px;'></div>",ut.TitleName="",window.$genTreesModal=ut;var ft=ut;function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(t){var n=(0,e.useState)({canShare:!1,info:null}),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=t.treeId,l=t.ownerId,s=t.newShareJsUrl,u=t.urlPrefix,f=t.ShowNewTreeInviteUI,d=t.treeName;return(0,e.useEffect)((function(){if("string"==typeof l&&"string"==typeof a&&u&&"object"===(0,c.Z)(u)){var e=!1;return fetch("/api/treeviewer/getOwnerCardInfo?own=".concat(l,"&tid=").concat(a),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then(pe.HandleJsonResponse).then((function(t){var n;e||(o(pt(pt({},i),{},{info:t})),t||(n=f?["/invite-ui/invite.js?type=trees&id=".concat(a,"&name=").concat(d)]:s?[s]:[],Ie.loadJavaScriptFile(n,null,(function(){e||(f||console.assert(null!==ft),o(pt(pt({},i),{},{canShare:!0})))}))))})).catch(pe.LogError),function(){e=!0}}}),[]),i}ht.propTypes={treeId:F().string,ownerId:F().string,newShareJsUrl:F().string,urlPrefix:F().object};var mt=ht;function vt(e){var t=e.element;null==t||t.classList.remove("active")}function gt(e){setTimeout((function(){e()}),0)}function yt(t){var n,r=t.shareButtonRef,i=t.onShareTreeButtonClick,o=t.getLivingSibling,a=t.inviteCalloutVariant,l=t.livingSiblingCalloutVariant,s=t.dismissLivingSiblingCallout,c=null==o||null===(n=o())||void 0===n?void 0:n.GivenName,u="callout"===a,f=!!c&&["ask","build","collaborate"].includes(l);if(u||f){var d=u?(0,de.default)("inviteButton.highlight.heading"):"",p=u?(0,de.default)("inviteButton.highlight.body"):(0,de.default)("livingSibling.callout.".concat(l),{name:c}),h=u?(0,de.default)("inviteButton.highlight.button"):(0,de.default)("livingSibling.callout.invite");return e.createElement(Ne.Callout,{reposition:gt,calloutStyle:"dark",open:!0,position:"bottom",trigger:r,onAfterOpen:vt,onClose:function(e){e&&s()}},e.createElement("section",{className:"conSecond bgDark"},d&&e.createElement("header",{className:"conHeader"},e.createElement("h2",{className:"conTitle"},d)),e.createElement("div",{className:"conBody"},e.createElement("p",null,p),e.createElement("footer",{className:"conFooter"},e.createElement("button",{className:"ancBtn",onClick:i},h)))))}return null}function wt(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function bt(t){var n=t.treeId,r=t.cfpId,i=t.hideTextThreshold,o=t.onPrintClick,a=t.treesUrlPrefix,l=(0,e.useRef)(null);return a?e.createElement(e.Fragment,null,e.createElement("button",{"aria-label":(0,de.default)("print"),id:"printButtonCallout",className:"ancBtn ancBtnIconOnly".concat(i," ancBtnL silver icon iconPrint iconAfter iconArrowDownAfter"),ref:l},e.createElement("span",{className:"hideVisually".concat(i)},(0,de.default)("print"))),e.createElement(Ne.Callout,{trigger:l,type:"click"},e.createElement("div",{className:"calloutMenu printCallout"},e.createElement("ul",null,e.createElement("li",null,e.createElement("button",{className:"link",type:"button",onClick:o},(0,de.default)("print"))),e.createElement("li",null,e.createElement("a",{href:"".concat(a,"/tree/").concat(n,"/person/").concat(r,"/print/book"),target:"_blank",rel:"noreferrer"},(0,de.default)("mycanvas.book"))),e.createElement("li",null,e.createElement("a",{href:"".concat(a,"/tree/").concat(n,"/person/").concat(r,"/print/poster"),target:"_blank",rel:"noreferrer"},(0,de.default)("mycanvas.poster"))),e.createElement("li",null,e.createElement("a",{href:"".concat(a,"/tree/").concat(n,"/person/").concat(r,"/print/calendar"),target:"_blank",rel:"noreferrer"},(0,de.default)("mycanvas.calendar"))))))):null}function Et(t){var n,r,i=t.beta,o=t.cfpId,a=t.dismissLivingSiblingCallout,l=t.getLivingSibling,s=t.newShareJsUrl,c=t.onTreeSearchClick,u=t.rights,f=t.setTreeFullScreen,d=t.setTreeOwner,p=t.sidebarFlags,h=t.treeFullScreen,m=t.treeId,v=wt(window.TreeViewerData,{}),g=wt(v.UrlPrefix,{}),y=wt(g.Trees),w=wt(v.TreeMetaData,{}),b=wt(w.name),E=wt(v.SearchSidePanelJs),S=!0===v.IsInstitutional,T=v.ShowNewUserProfileComponent||!1,x=!0===v.NewNavigation,k=(0,e.useRef)(null),C=(0,e.useRef)(null),P=(0,e.useRef)(null),N=ct({treeId:m,searchSidePanelJs:E,urlPrefix:g}),_=mt({treeId:m,ownerId:w.own,urlPrefix:g,newShareJsUrl:s,ShowNewTreeInviteUI:v.ShowNewTreeInviteUI,treeName:b});function O(e){var t,n,r="topRightButtons"!==(null==e||null===(t=e.currentTarget)||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.className),i=null==v?void 0:v.ShowNewTreeInviteUI;r&&(0,pe.UBELink)("TreesUI_TreeDropdownClicked",{schemaVersion:3,selectionType:"trees_sharing"}),i?window.inviteUi.show():document.documentElement.dispatchEvent(new Event("inviteModal")),(0,pe.UBELink)("TreesUI_ShareClicked",{schemaVersion:9,clickType:"trees_sharing",treeId:m,clickLocation:"nav_bar"})}if((0,e.useEffect)((function(){v.ShowNewTreeInviteUI||s&&_.canShare&&inviteModal.init(m,b,[],v.UsernameSearch,g.MediaSvc,w.own),_&&"function"==typeof d&&d(_)}),[s,_,m,b]),!m||"function"!=typeof f)return null;var I=_.canShare||!S&&!T&&_.info?"768":"480",M=((null===(n=window)||void 0===n||null===(r=n.TreeViewerData)||void 0===r?void 0:r.Theme)||"").indexOf("bgDark")>=0,F=["treeViewerHeaderFooter"];x&&(F.push("newTreeHeader con"),M&&F.push("bgDark")),"string"==typeof b&&0!==b.trim().length||(b=(0,de.default)("treeNameDefault",{name:""}));var j=[];if(j.push(e.createElement(ot,{key:"treeActivity",treeId:m,treeName:b,rights:u,flags:p})),_.canShare){var L=(0,de.default)("share"),A="ancBtn ancBtnIconOnly480".concat(x?" silver":""," icon iconShare");if(x&&M&&(A+=" bgDark"),!x){var D="primary-invite"===v.ActivityPrimaryCTA||"new-activity"===v.ActivityPrimaryCTA,R="primary-activity"===v.ActivityPrimaryCTA;D?A=(A=A.replace("silver","")).replace("bgDark",""):R&&(A+=" silver"),"pulse"===v.InviteCallout?A+=" invitePulse guidanceHighlight pulse":"callout"===v.InviteCallout&&(A+=" inviteCallout")}j.push(e.createElement(e.Fragment,{key:"share"},e.createElement("button",{id:"TreeShare",key:"share",ref:P,className:A,type:"button","aria-label":L,title:L,onClick:O},e.createElement("span",{className:"hideVisually480"},L)),P.current&&e.createElement(yt,{shareButtonRef:P,onShareTreeButtonClick:O,getLivingSibling:l,inviteCalloutVariant:v.InviteCallout,livingSiblingCalloutVariant:v.LivingSiblingCallout,dismissLivingSiblingCallout:a})))}x||j.push(e.createElement(bt,{key:"print",treeId:m,cfpId:o,hideTextThreshold:I,onPrintClick:function(){(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"print"}),"family"===v.View?window.dispatchEvent(new Event("printTree")):window.open("".concat(y,"/tree/").concat(m,"/person/").concat(o,"/family/pedigree/print?_phsrc=WLs19&usePUBJs=true"))},treesUrlPrefix:y}));var V=(0,de.default)(x?"nav.find":"tree.search"),B=["ancBtn ancBtnIconOnly".concat(I).concat(x?"":" ancBtnR"," silver icon iconPersonFind findPersonButton")];return x&&M&&B.push("bgDark"),j.push(e.createElement("button",{className:B.join(" "),key:"search","aria-label":V,title:V,ref:C,disabled:!N,onClick:function(){c(C.current)}},e.createElement("span",{className:"hideVisually".concat(I)},V))),e.createElement("header",{id:"TreeHeader",className:F.join(" ")},!x&&e.createElement("div",{className:"".concat(v.Theme," headerFooterShader")}),e.createElement("button",{type:"button",ref:k,onClick:function(){var e=document.querySelector("button.focus");e&&e.focus()},className:"hideVisually"},(0,de.default)("skip.to.focus")),"family"===v.View&&e.createElement(Ne.Callout,{trigger:k,type:"hover"},e.createElement("h1",null,(0,de.default)("keyboard.nav.helptitle")),e.createElement("ul",{className:"bulleted"},["keyboard.nav.tabs","keyboard.nav.leftright","keyboard.nav.updown"].map((function(t){return e.createElement("li",{key:t},(0,de.default)(t))})))),e.createElement("div",{className:"links-group"},h?e.createElement("button",{className:"ancBtn silver exitFullScreen",onClick:function(){f(!1)}},(0,de.default)("exit")):null,x?e.createElement(e.Fragment,null,e.createElement("h2",{className:"bold textsml textClipped",title:b},b),!S&&!T&&e.createElement(Ye,{ownerCardInfo:_.info,urlPrefix:g})):e.createElement("nav",{className:"pageCrumbs",role:"navigation","aria-label":"dropdown menu"},e.createElement($e,{treeName:b,treeId:m,onShareClick:_.canShare?O:null,rights:u}),!S&&!T&&e.createElement(Ye,{ownerCardInfo:_.info,urlPrefix:g}),i&&e.createElement("div",{style:{float:"right",margin:"7px"},className:"badge"},(0,de.default)("beta"))),!S&&T&&e.createElement(lt,{treeOwner:_,data:window.TreeViewerData}),e.createElement("div",{className:"topRightButtons"},j)))}yt.propTypes={onShareTreeButtonClick:F().func,shareButtonRef:F().shape({current:F().object}),getLivingSibling:F().func,inviteCalloutVariant:F().string,livingSiblingCalloutVariant:F().string,dismissLivingSiblingCallout:F().func},bt.propTypes={treeId:F().string,cfpId:F().number,treesUrlPrefix:F().string,onPrintClick:F().func,hideTextThreshold:F().string},Et.propTypes={beta:F().bool,cfpId:F().number,dismissLivingSiblingCallout:F().func,getLivingSibling:F().func,newShareJsUrl:F().string,onTreeSearchClick:F().func,rights:F().object,setTreeFullScreen:F().func,setTreeOwner:F().func,sidebarFlags:F().object,treeFullScreen:F().bool,treeId:F().string};var St=Et;function Tt(t){var n=(0,e.useState)(!0),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(null),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=t.alertType,f=t.viewerType,d=t.treeId;if("string"!=typeof d||!d||"0"===d)throw new Error("Invalid treeId");if("string"==typeof f&&(f=f.toLowerCase()),"pedigree"!==f&&"family"!==f&&"fanchart"!==f)throw new Error("Invalid viewerType");function p(e){fetch("/api/treeviewer/tree/".concat(d,"/emailprompt"),{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify({optIn:!0===e})}).then((function(e){if(!e.ok)throw new Error("Failed to save email notification preferences");o(!1)})).catch((function(e){return c(e)}))}return e.createElement(Ne.Alert,{display:"notification",type:"info",open:i,onRequestClose:function(){o(!1)}},e.createElement("h4",{className:"alertTitle"},(0,de.default)("email.growl.title")),e.createElement("p",null,(0,de.default)("global"===u?"email.growl.global":"email.growl.tree")),e.createElement("button",{type:"button",className:"ancBtn lrg topSpacing full",id:"gdprEmailOptIn",onClick:function(){p(!0)}},(0,de.default)("email.growl.send")),e.createElement("button",{type:"button",className:"link topSpacing textCenter",id:"gdprEmailOptOut",onClick:function(){p(!1)}},(0,de.default)("email.growl.no")),s&&e.createElement(Ne.Alert,null,(0,de.default)("email.update.error")))}Tt.propTypes={treeId:F().string,viewerType:F().string,alertType:F().string};var xt=Tt;function kt(e,t){if("number"!=typeof e||isNaN(e)||e<0)throw new Error("Invalid ".concat(t))}function Ct(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=t.count,f=t.maxCount;return kt(u,"count"),kt(f,"maxCount"),(0,e.useEffect)((function(){c(u>f)}),[u,f]),i?null:e.createElement(Ne.Alert,{display:"notification",type:"info",role:"alert",open:s,onRequestClose:function(){o(!0)}},e.createElement("div",null,(0,de.default)("warning.togglestate")))}Ct.propTypes={count:F().number,maxCount:F().number};var Pt=Ct;function Nt(t){var n=t.type,r=t.treeId,i=t.cfpId,o=t.isEditor,a=t.focusPerson,l=t.sampleId,s=t.onTreeSearchClick,c=t.treeOwner,u=t.toggleLayersSidePanel;if("string"!=typeof r||!r)throw new Error("missing required treeId");var f=!!l,d=window.TreeViewerData,p=d.UrlPrefix,h=d.ShowNewTreeInviteUI,m=d.View,v=(0,e.useRef)(null),g=(0,e.useRef)(null);function y(){window.ui.sidebar.close()}return(0,e.useEffect)((function(){var e,t,n,r=v.current;r&&(r.addEventListener("touchstart",(function(r){n=null;var i,o=r.changedTouches[0];(!(i=o.target)||"BUTTON"!==i.tagName&&"A"!==i.tagName)&&(e=o.pageX,t=o.pageY,n=(new Date).getTime())}),!1),r.addEventListener("touchend",(function(r){if(n){var i=r.changedTouches[0],o=i.pageX-e,a=i.pageY-t,l=Math.abs(i.pageY-t)<=100&&o>=100,s=Math.abs(i.pageX-e)<=100&&a>=100,c=(new Date).getTime()-n;n=null,c<=500&&(l||s)&&y()}}),!1))}),[v]),e.createElement("aside",{className:"sidebar noDisplay mobileNavMenu",id:"mobileMenuSidebar",ref:v},e.createElement("div",{className:"sidebarScrollArea"},e.createElement("div",{className:"sidebarControls"},e.createElement("button",{"aria-label":"Close Sidebar",className:"closeBtn sidebarCloseBtn",type:"button"})),e.createElement("div",{className:"buttonRow"},e.createElement("div",null,e.createElement("a",{onClick:y,className:"ancBtn lrg outline ancBtnL silver noBorder icon iconTreePedigree".concat("ped"===n?" active":""),href:"".concat(p.Trees,"/tree/").concat(r,"/family/pedigree"),"aria-label":(0,de.default)("nav.view.horizontal")}),e.createElement("a",{onClick:y,className:"ancBtn lrg outline ancBtnR silver noBorder icon iconTreeFamily".concat("fam"===n?" active":""),href:"".concat(p.Trees,"/tree/").concat(r,"/family/familyview"),"aria-label":(0,de.default)("nav.view.vertical")}),e.createElement("div",null,(0,de.default)("nav.view"))),e.createElement(Ve,{treeId:r,viewName:"img",label:(0,de.default)("nav.media"),large:!0}),e.createElement("div",null,e.createElement("button",{ref:g,className:"ancBtn lrg outline silver noBorder icon iconPersonFind","aria-label":(0,de.default)("nav.find"),onClick:function(){return s(g.current)}}),e.createElement("div",null,(0,de.default)("nav.find")))),e.createElement("hr",{className:"sidebarDivider buttonRowDivider"}),e.createElement("div",{className:"buttonRow"},o&&e.createElement(Ve,{treeId:r,viewName:"hints",label:(0,de.default)("nav.hints"),large:!0}),f&&e.createElement(Ve,{treeId:r,large:!0,viewName:"dna",label:(0,de.default)("nav.dna"),href:"".concat(p.Matches,"/match-list/").concat(l),title:(0,de.default)("view.dnamatches",{name:a?a.FullName:""})}),(null==c?void 0:c.canShare)&&e.createElement("div",null,e.createElement("button",{className:"ancBtn lrg outline silver noBorder icon iconShare",onClick:function(){(0,pe.UBELink)("TreesUI_ShareClicked",{schemaVersion:9,clickType:"trees_sharing",treeId:r,clickLocation:"menu"}),h?window.inviteUi.show():document.documentElement.dispatchEvent(new Event("inviteModal"))},"aria-label":(0,de.default)("share")}),e.createElement("div",null,(0,de.default)("share")))),e.createElement("hr",{className:"sidebarDivider"}),e.createElement("div",{className:"menuHeader"},(0,de.default)("nav.more")),e.createElement("hr",{className:"sidebarDivider",style:{marginBottom:0}}),e.createElement("div",{className:"calloutMenu"},e.createElement("ul",null,e.createElement(Ge,{icon:"iconLayers",onClick:u,text:(0,de.default)("guidance.layerstitle")}),o&&e.createElement(Ge,{icon:"iconInfo",url:"".concat(p.Trees,"/tree/").concat(r,"/recent"),text:(0,de.default)("tree.overview")}),o&&e.createElement(Ge,{icon:"iconSettings",url:"".concat(p.Trees,"/tree/").concat(r,"/settings/info"),text:(0,de.default)("tree.settings")}),e.createElement(Ge,{icon:"iconPrint",onClick:function(){(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"print"}),"family"===m?window.dispatchEvent(new Event("printTree")):window.open("".concat(p.Trees,"/tree/").concat(r,"/person/").concat(i,"/family/pedigree/print?_phsrc=WLs19&usePUBJs=true"))},text:(0,de.default)("print")}),e.createElement(Ge,{icon:"iconGift",url:"https://www.mycanvas.com/",text:(0,de.default)("nav.keepsake")})))))}Nt.propTypes={type:F().string,treeId:F().string,cfpId:F().number,isEditor:F().bool,sampleId:F().string,onTreeSearchClick:F().func,treeOwner:F().object,toggleLayersSidePanel:F().func,focusPerson:F().object};var _t=Nt,Ot=function(){function e(){i(this,e),this.ZoomFactor=50,this.SetDefaultPosition()}return a(e,[{key:"HasDefaultPosition",get:function(){return 70===this.Position.X&&70===this.Position.Y}},{key:"SetDefaultPosition",value:function(){this.Position={X:70,Y:70}}},{key:"ZoomFactor",get:function(){return this._zf},set:function(e){this._zf="number"==typeof e&&e>0&&e<=100?e:50}}]),e}();var It=function(e){s(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d(t);if(n){var i=d(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return f(this,e)});function o(){var e;return i(this,o),(e=r.call(this)).ExpandedPids=[],e.ExpandedNodeIds=[],e}return a(o,[{key:"AddExpandedPid",value:function(e,t,n){if(console.assert("number"==typeof e&&e>0,"Cannot set an expansion for level 0 of the pedigree"),e>0)if(null!=t){var r=this.ExpandedPids;if(null!=r&&r.length>0){for(var i=[],o=0;o<e-1;o++)i.splice(o,0,r[o]);i.splice(e-1,0,t),this.ExpandedPids=i}else this.ExpandedPids=[t];var a=this.ExpandedNodeIds;if(null!=a&&a.length>0){for(var l=[],s=0;s<e-1;s++)l.splice(s,0,a[s]);l.splice(e-1,0,n),this.ExpandedNodeIds=l}else this.ExpandedNodeIds=[n]}else{if(e<=this.ExpandedPids.length){for(var c=this.ExpandedPids,u=[],f=0;f<e-1;f++)u.splice(f,0,c[f]);this.ExpandedPids=u}if(null!=this.ExpandedNodeIds&&e<=this.ExpandedNodeIds.length){for(var d=this.ExpandedNodeIds,p=[],h=0;h<e-1;h++)p.splice(h,0,d[h]);this.ExpandedNodeIds=p}}}}]),o}(Ot),Mt="pedigree",Ft="family",jt="fanchart",Lt=function(){function e(t){if(i(this,e),"string"!=typeof t||t!==Mt&&t!==Ft&&t!==jt)throw new Error("Unexpected viewerType");this.ViewerType=t,this.FocusPerson=0,this.PastFocusPersons=[],this.FamilyViewState=new Ot,this.PedigreeViewState=new It}return a(e,[{key:"ViewState",get:function(){return this.ViewerType===Ft?this.FamilyViewState:this.PedigreeViewState}}],[{key:"GetViewStateTMZP",value:function(e){var t=new Ot;return t.ZoomFactor=parseFloat(e.zoom)||0,t.Position={X:parseFloat(e.locLeft)||0,Y:parseFloat(e.locTop)||0},t.ScrollTop=parseInt(e.scroll)||0,t}},{key:"MapTMZPToTreeMapState",value:function(t,n){if(n)if(t.ViewerType.toLowerCase()===Mt||t.ViewerType.toLowerCase()===jt){var r=e.GetViewStateTMZP(n);t.PedigreeViewState.Position=r.Position,t.PedigreeViewState.ScrollTop=r.ScrollTop,t.PedigreeViewState.ZoomFactor=r.ZoomFactor}else t.FamilyViewState=e.GetViewStateTMZP(n)}}]),e}();function At(t){var n=(0,e.useState)(null),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=t.TreeViewerData,l=t.getDefaultPanZoom;if(!a||"object"!==(0,c.Z)(a))throw new Error("missing TreeViewerData");if("function"!=typeof l)throw new Error("missing getDefaultPanZoom");return(0,e.useEffect)((function(){var e=a.Rights,t=a.Properties,n=a.View;if("error"!==n)try{var r=new Lt(n||"pedigree");if(e&&"public"!==e.access){var i="";switch(n){case"family":i="TreesUI-TreeMapNewFamilyViewState";break;case"fanchart":i="TreesUI-TreeMapFanChartViewState";break;default:i="TreesUI-TreeMapPedigreeViewState"}var s=t[i];if(s)Lt.MapTMZPToTreeMapState(r,s);else{var c=l(1);r.FamilyViewState.Position.X=c.translation.x,r.FamilyViewState.Position.Y=c.translation.y}}else if("family"===n){var u=l(1);r.FamilyViewState.Position.X=u.translation.x,r.FamilyViewState.Position.Y=u.translation.y}o(r)}catch(e){(0,pe.LogError)(e)}}),[]),i}At.propTypes={TreeViewerData:F().object,getDefaultPanZoom:F().func};var Dt=At;function Rt(){return Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rt.apply(this,arguments)}var Vt=n(7166);var Bt=function(e){for(;e;){if(e.classList&&(e.classList.contains("hoverCard")||e.classList.contains("nav")||e.classList.contains("cntrls")||e.classList.contains("callout")))return!0;e=e.parentElement}return!1};function Ut(e,t,n){return Math.max(e,Math.min(t,n))}var Ht=function(e){s(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d(t);if(n){var i=d(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return f(this,e)});function o(e){var t;i(this,o),t=r.call(this,e);var n=e.onMapInteraction,a=e.setDragged;if("function"!=typeof n)throw new Error("Missing onMapInteraction");t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,t.componentWillReceiveProps=void 0,t.onMapInteraction=n,t.setDragged=a;var l=document.querySelector("#treeViewer");return l&&l.addEventListener("scaleTreeMap",t.onScaleTreeMap.bind(u(t))),t}return a(o,[{key:"onScaleTreeMap",value:function(e){var t=Ut(this.props.minScale,e.detail,this.props.maxScale),n=this.clientPosToTranslatedPos({x:window.innerWidth/2,y:window.innerHeight/2});this.scaleFromPoint(t,n)}},{key:"onMouseDown",value:function(e){Bt(e.target)||(this.setDragged(!1),this.isMouseDown=!0,0===e.button&&Rt(d(o.prototype),"onMouseDown",this).call(this,e))}},{key:"onMouseMove",value:function(e){this.isMouseDown&&!Bt(e.target)&&(this.setDragged(!0),this.onMapInteraction(!0),Rt(d(o.prototype),"onMouseMove",this).call(this,e))}},{key:"onMouseUp",value:function(e){var t=this;Bt(e.target)||(this.onMapInteraction(!1),this.isMouseDown=!1,setTimeout((function(){return t.setDragged(!1)}),0),Rt(d(o.prototype),"onMouseUp",this).call(this,e))}},{key:"onTouchStart",value:function(e){Bt(e.target)||(this.isTouchStarted=!0,this.setDragged(!1),Rt(d(o.prototype),"onTouchStart",this).call(this,e))}},{key:"onTouchMove",value:function(e){var t=this;this.isTouchStarted&&!Bt(e.target)&&(this.dragTimeout=setTimeout((function(){return t.setDragged(!0)}),0),this.onMapInteraction(!0),Rt(d(o.prototype),"onTouchMove",this).call(this,e))}},{key:"onTouchEnd",value:function(e){var t=this;Bt(e.target)||(this.isTouchStarted=!1,clearTimeout(this.dragTimeout),setTimeout((function(){return t.setDragged(!1)}),0),this.onMapInteraction(!1),Rt(d(o.prototype),"onTouchEnd",this).call(this,e))}},{key:"onWheel",value:function(e){if(!this.props.disableZoom){e.preventDefault(),e.stopPropagation();var t=e.deltaY;"function"==typeof this.props.onWheelZoom&&this.props.onWheelZoom(t<0),1===e.deltaMode&&(t*=18);var n=Math.pow(2,.002*t),r=Ut(this.props.minScale,this.state.scale+(1-n),this.props.maxScale),i=this.clientPosToTranslatedPos({x:e.clientX,y:e.clientY});this.scaleFromPoint(r,i)}}}]),o}(Vt.MapInteraction);Ht.propTypes.onMapInteraction=F().func,Ht.propTypes.onWheelZoom=F().func;var Gt=Ht;function zt(t){var n=(0,e.useState)(!0),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=t.open,f=t.person,d=t.onClose,p=t.onSave,h=t.rights;if(!u||!f||"function"!=typeof d||"function"!=typeof p)return null;var m=h&&h.ed,v=(window.TreeViewerData||{}).UrlPrefix||{},g=null;if(window.TreeViewerData&&v.Support){var y=window.TreeViewerData.Language;y=v.Support.includes(".com")&&"es-MX"===y?"es_US":y.replace("-","_"),g="".concat(v.Support,"/s/article/Living-People-in-Family-Trees?language=").concat(y)}function w(){o(!i)}return e.createElement(Ne.Modal,{open:u,closeOnBkgClick:!1,onClose:d,onRequestClose:d,width:440,useCustomPadding:!1},e.createElement("div",{id:"LivingModal"},e.createElement("div",{id:"LivingModalContent"},e.createElement("div",{id:"LivingModalInsert",className:"livingModal form"},e.createElement("p",null,e.createElement("strong",null,(0,de.default)("living.hidden"))," ",g&&e.createElement("a",{href:g},(0,de.default)("learn.more"))),m&&e.createElement(e.Fragment,null,e.createElement("p",null,e.createElement("strong",null,(0,de.default)("this.person.is"))),e.createElement("ul",null,e.createElement("li",null,e.createElement("input",{className:"radio",id:"livingStatusDeceased",name:"livingStatus",type:"radio",checked:!i,onChange:w}),e.createElement("label",{htmlFor:"livingStatusDeceased"},(0,de.default)("Deceased"))),e.createElement("li",null,e.createElement("input",{className:"radio",id:"livingStatusLiving",name:"livingStatus",type:"radio",checked:i,onChange:w}),e.createElement("label",{htmlFor:"livingStatusLiving"},(0,de.default)("Living")," (",(0,de.default)("hidden.from.others"),")")))),e.createElement("p",{className:"topSpacing"},(0,de.default)("living.appears.to",{name:f.FullName})),e.createElement("div",{className:"topSpacing"},e.createElement("div",{className:"nodePedigree node silhouette topSpacing"},e.createElement("div",{className:"node-bdy readonly"},e.createElement("div",{className:"bdyWrap"},e.createElement("div",{className:"avatarWrap"},e.createElement("div",{className:(0,pe.GetIconClass)(f)})),e.createElement("div",{className:"nodeContent"},e.createElement("div",{className:"vAlignContent"},e.createElement("h6",{className:"nodeTitle"},(0,de.default)("Private")))))))),m&&e.createElement("footer",{className:"topSpacing"},e.createElement("div",{className:"ancBtn",role:"button",onClick:function(){p(i).catch((function(e){return c(!0)}))}},(0,de.default)("save"))," ",e.createElement("span",null,"or")," ",e.createElement("div",{className:"link",onClick:d},(0,de.default)("cancel")),s&&e.createElement(Ne.Alert,null,(0,de.default)("savetree.error")))))))}zt.propTypes={open:F().bool,onClose:F().func,onSave:F().func,person:F().object,rights:F().object};var Zt=zt,Wt=null;function qt(t){var n=(0,e.useState)(null),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=(l[0],l[1]),u=t.person,f=t.open,d=t.onClose,p=t.hasPhotos;if("boolean"!=typeof f&&(f=!1),"boolean"!=typeof p&&(p=!1),"function"!=typeof d)throw new Error("Invalid onClose handler");function h(e){var t=e[0],n=t.id||"",r="".concat(window.TreeViewerData.UrlPrefix.MediaAjax,"/api/trees/").concat(u.tid,"/persons/").concat(u.pid),i={method:"PUT",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify({mediaId:n})};fetch(r,i).then((function(){u.SetPrimaryPhoto(t),v(!0)})).catch((function(e){(0,pe.LogError)(e)}))}function m(e){e&&o("/mediaui-viewer/api/tree/".concat(e.tid,"/person/").concat(e.pid,"/selector?selectedMediaIds=").concat(e.PrimaryPhotoId,"&filter=p"))}function v(e){var t=document.getElementById("chooseProfileImageModalContainer");t&&(t.innerHTML=""),e||s(!1),d()}return(0,e.useEffect)((function(){if(!u||!p)return o(null),void s(!1);m(u)}),[u,p]),(0,e.useEffect)((function(){u&&window.ancestry&&window.ancestry.pub&&window.ancestry.pub.setCurrentPage("TreeViewerHoverCard",{TreeId:u.tid,PersonId:u.pid},!0)}),[u]),(0,e.useEffect)((function(){i&&f&&(window.glue||(window.glue=new window.Glue({})),window.glue.fetch({domId:"chooseProfileImageModalContainer",url:i,callback:function(){window.setTimeout((function(){s(!0)}),1e3)}}))}),[i,f]),(0,e.useEffect)((function(){if(window.acom&&window.acom.bus)if(f)Wt=h,window.acom.bus.on("Selector::selectionUpdated",Wt);else{var e=document.getElementById("selector-config");e&&e.parentNode.removeChild(e),Wt&&(window.acom.bus.off("Selector::selectionUpdated",Wt),Wt=null)}}),[f,h]),(0,e.useEffect)((function(){return function(){m(u),window.acom&&window.acom.bus&&window.acom.bus.off("Selector::selectionUpdated",h),Wt=null,s(!1)}}),[]),"object"===(0,c.Z)(u)&&u?e.createElement(Ne.Modal,{open:f,onOpen:function(e){e.content.classList.add("chooseImageModal")},onClose:v,onRequestClose:v,closeOnBkgClick:!1,width:"100%",title:(0,de.default)("profile.image.select",{fullName:u.FullName}),useCustomPadding:!0},e.createElement("div",{className:"page"},e.createElement("div",{className:"ancGrid full480 ancGridPadded"},e.createElement("div",{className:"ancCol w100"},e.createElement("div",{id:"chooseProfileImageModalContainer"}))))):null}qt.propTypes={open:F().bool,onClose:F().func,person:F().object,hasPhotos:F().bool};var $t=qt;function Kt(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=t.open,l=t.person,s=t.onClose,c=t.onSave;if(!a||!l||"function"!=typeof s||"function"!=typeof c)return null;function u(){o(!1),s()}function f(t,n){return e.createElement("div",{className:"ancCol"},e.createElement("button",{className:"ancBtn ".concat("cancel"===t?"silver":""," lrg closeModal full480"),onClick:n},(0,de.default)(t)))}return e.createElement(Ne.Modal,{open:a,closeOnBkgClick:!1,onClose:u,width:600,useCustomPadding:!1},e.createElement("div",null,e.createElement("div",null,(0,de.default)("delete.prompt")),e.createElement("footer",{className:"topSpacing"},e.createElement("div",{className:"ancGrid ancGridSmall full480"},f("delete",(function(){o(!1),c().catch((function(){return o(!0)}))})),f("cancel",u)),i&&e.createElement(Ne.Alert,null,(0,de.default)("delete.error")))))}Kt.propTypes={open:F().bool,onClose:F().func,onSave:F().func,person:F().object};var Yt=Kt;function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(t){var n=t.count,r=t.handleClick,i=t.href,o=t.i18nPrefix,a=t.iconClasses,l=t.person,s=t.ubeEventData,c=t.ubeEventName,u={"aria-label":(0,de.default)("".concat(o,".").concat(n>1?"multiple":"single"),{number:n}),className:"ancBtn lrg ancBtnRnd icon ".concat(a),onClick:function(){var e=Qt(Qt({},s),{},{treeId:l.tid,personaId:l.pid});(0,pe.UBELink)(c,e),r&&r()},title:(0,de.default)("".concat(o,".tooltip"))};return e.createElement(e.Fragment,null,i&&e.createElement("a",h({},u,{href:i}),n),!i&&e.createElement("button",h({},u,{type:"button"}),n))}Xt.propTypes={count:F().number.isRequired,handleClick:F().func,href:F().string,i18nPrefix:F().string.isRequired,iconClasses:F().string.isRequired,person:F().object.isRequired,ubeEventData:F().object.isRequired,ubeEventName:F().string.isRequired};var en=Xt;function tn(t){var n,r=t.person,i=t.areCommentBadgesEnabled,o=t.handleCommentsClick;if(!r)return null;var a="".concat(null===(n=window.TreeViewerData.UrlPrefix)||void 0===n?void 0:n.Person,"/tree/").concat(r.tid,"/person/").concat(r.pid,"/hints?usePUBJs=true");return e.createElement("div",{className:"hoverCardBadges"},i&&r.HasComments&&e.createElement(en,{count:r.Comments,handleClick:o,i18nPrefix:"comment",iconClasses:"bgColor6Important iconMessageBoard",person:r,ubeEventName:"CoreUI_CommentObjectClicked",ubeEventData:{schemaVersion:4,clickType:"entry_click",contentType:"other",objectType:"persona"}}),r.HasHints&&e.createElement(en,{count:r.Hints,href:a,i18nPrefix:"hint",iconClasses:"blue iconLeaf",person:r,ubeEventName:"TreesUI_ObjectClicked",ubeEventData:{schemaVersion:1,clickType:"hints",finalEvent:!0}}))}tn.propTypes={person:F().object,areCommentBadgesEnabled:F().bool,handleCommentsClick:F().func};var nn=tn;function rn(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=t.icon,l=t.header,s=t.headerBadge,c=t.children,u=t.buttonId,f=t.updateOpenAccordionCount;return e.createElement("div",{className:"accordionSection"},e.createElement("button",{className:"accordionSectionTop",id:u,onClick:function(){f(!i),o(!i)}},e.createElement("div",null,e.createElement("h3",{className:"bold"},a,l,s&&e.createElement("span",{className:"badge"},s))),e.createElement("span",{className:"icon iconAfter ".concat(i?"iconArrowUpAfter":"iconArrowDownAfter")})),i&&e.createElement("div",{className:"accordionSectionBody"},c))}rn.propTypes={children:F().node,buttonId:F().string,icon:F().node,header:F().string,headerBadge:F().string,updateOpenAccordionCount:F().func};var on=rn;function an(t){var n=t.open,r=t.onClose,i=t.onConfirm;if("boolean"!=typeof n&&(n=!1),"function"!=typeof r||"function"!=typeof i)return null;function o(){r("cancel")}return e.createElement(Ne.Modal,{open:n,onClose:r,width:300,useCustomPadding:!1,title:e.createElement("div",null,e.createElement("span",{"aria-hidden":"true",className:"icon iconWarning"}),e.createElement("span",null,(0,de.default)("Warning"))),onRequestClose:o},e.createElement("div",null,e.createElement("div",null,(0,de.default)("dna.match.remove.confirm")),e.createElement("footer",{className:"topSpacing"},e.createElement("div",{className:"ancGrid ancGridSmall full480"},e.createElement("div",{className:"ancCol"},e.createElement("button",{className:"ancBtn lrg closeModal full480","aria-live":"polite",onClick:i},(0,de.default)("Yes"))),e.createElement("div",{className:"ancCol"},e.createElement("button",{className:"ancBtn lrg closeModal full480 silver",onClick:o},(0,de.default)("cancel")))))))}an.propTypes={open:F().bool,onClose:F().func,onConfirm:F().func};var ln=an;function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un="TreesUI-HasSeenDnaMatchSurvey";function fn(t){var n=(0,e.useRef)(null),r=(0,e.useState)(null),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)(null),s=(0,ue.Z)(l,2),c=s[0],u=s[1],f=(0,e.useState)(null),d=(0,ue.Z)(f,2),p=d[0],h=d[1],m=(0,e.useState)(TreeViewerData.Properties[un]||!1),v=(0,ue.Z)(m,2),g=v[0],y=v[1],w=(0,e.useState)(!1),b=(0,ue.Z)(w,2),E=b[0],S=b[1],T=(0,e.useState)(null),x=(0,ue.Z)(T,2),k=x[0],C=x[1],P=(0,e.useState)(!1),N=(0,ue.Z)(P,2),_=N[0],O=N[1],I=(0,e.useState)(!1),M=(0,ue.Z)(I,2),F=M[0],j=M[1],L=(0,e.useRef)(null),A=t.person,D=t.editor,R=t.sampleId,V=t.possibleMatches,B=t.confirmedMatches,U=t.updateOpenAccordionCount,H=t.isAccordion;function G(e,t,n,r){return(0,de.default)(e,t).split(n).map(r)}function z(){h(null),y(!0)}function Z(){y(!0)}function W(){return J(!0,"confirm")}function q(e){var t="confirm";return!0===e&&(t+="-remove"),J(!1,t)}function $(){return J(!1,"remove")}function K(){return J(!1,"confirm-remove")}function Y(t){return e.createElement("div",null,G("ACCEPTED"===t.status?"match.tooltip.confirmed":"match.tooltip.new",{name:A.FullName,matchName:t.name,sampleOwner:t.owner},/<[/]*b>/,(function(t,n){return n%2==1?e.createElement("strong",{key:n},t):t})))}function J(e,t){if(e&&!c||!c&&!A.Match)return Promise.resolve();var n={treeId:A.tid,personId:A.pid,sourceSampleId:R,matchSampleId:(c||A.Match).matchSampleId};return"confirm"===t?n.action=e?"ACCEPTED":"REJECTED":"confirm-remove"===t&&(n.action="REMOVED"),"remove"===t?(S(!0),Promise.resolve()):fetch("".concat(TreeViewerData.UrlPrefix.TreesDna,"/dnaMatchHintAction"),{credentials:"same-origin",method:"POST",cache:"no-cache",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(t){if(!t||200!==t.status)throw t;if(e){var n=cn(cn({},c),{},{status:"ACCEPTED"});if(A.Match=n,u(n),h({isSuccess:!0,message:(0,de.default)("match.possible.confirmed")}),!B){var r=document.getElementById("toggleConfirmedDnaMatches");r&&!r.checked&&r.click()}}else if(Array.isArray(o)){var i=o.length>1?o[1]:null;A.Match=i,u(i),a(o.slice(1))}else c||(A.Match=null,u(null),a([]))})).catch((function(e){console.log(e),h({isSuccess:!1,message:(0,de.default)("confirm"===t?"match.confirm.failure":"match.remove.failure")})}))}function Q(e){S(!1)}function X(){return q(!0).then((function(){S(!1)}))}function ee(){return e.createElement(e.Fragment,null,!c&&!p&&e.createElement("div",{className:"loading","aria-label":(0,de.default)("expand.loading")}),!c&&p&&e.createElement(Ne.Alert,{closable:!1,display:"section",open:!0,type:"warning"},e.createElement("div",null,p.message),D&&p.remove&&e.createElement("button",{className:"ancBtn sml",onClick:K},(0,de.default)("Remove"))),c&&e.createElement("div",{className:"hoverCardDnaMatch"},(console.assert(!!c,"match cannot be missing"),e.createElement("p",{className:"dnaMatchTopLink matchFound fromDnaMatchList"},G("dna.match.ownerlink",{name:c.owner},/<[/]*button>/,(function(t,n){return 1===n?e.createElement("a",{key:n,className:"matchOwner",href:"".concat(TreeViewerData.UrlPrefix.Matches,"/match-list/").concat(R)},t):t})))),e.createElement("div",{className:"dnaMatchMain"},("NEW"===c.status||"ACCEPTED"===c.status)&&e.createElement("div",{className:"matchFound"},e.createElement("div",{className:"userCard"},function(){console.assert(!!c,"match cannot be missing");var t="";if(c.photoId&&"ffffffff-ffff-ffff-ffff-ffffffffffff"!==c.photoId.toLowerCase())return t="".concat(TreeViewerData.UrlPrefix.MediaSvc,"/v2/image/namespaces/60564/media/").concat(c.photoId,".jpg?client=Trees&maxSide=80"),e.createElement("div",{className:"userCardImg userCardImgCenter"},e.createElement("img",{id:"dnaMatchImage",alt:c.name,src:t}));if(c.name){var n=window.ui.getAvatarInfo(c.name);return e.createElement("div",{title:c.name,"aria-label":c.name,className:"userCardImg "+n.classes.join(" ")},n.initials)}return e.createElement("div",{className:(0,pe.GetIconClass)(A,!0)})}(),function(){console.assert(!!c,"match cannot be missing");var t=(0,pe.TaggedRelationship)(c);return e.createElement("div",{className:"userCardContent"},e.createElement("h4",{className:"userCardTitle"},c.name),e.createElement("p",{className:"userCardSubTitle"},t&&e.createElement("span",null,t),!t&&e.createElement(e.Fragment,null,e.createElement("span",null,(0,de.default)("match.predicted"),": "),e.createElement("span",{className:"predictedDnaRelationship"},(0,pe.MeiosisRelationship)(c)))),e.createElement("div",{className:"userCardInfo sharedDnaInfo"},(0,de.default)(1===c.segments?"match.details.singular":"match.details",{cmCount:c.cMs,segmentCount:c.segments})))}()),e.createElement("div",{className:"dnaMatchBottom ".concat(re?"confirmedMatch":"possibleMatch")},e.createElement("div",{className:"dnaMatchButtons"},re&&e.createElement(e.Fragment,null,e.createElement("a",{href:"".concat(TreeViewerData.UrlPrefix.Matches,"/compare/").concat(R,"/with/").concat(c.matchSampleId),className:"ancBtn sml"},(0,de.default)("match.view.profile")),D&&e.createElement("button",{className:"link removeDnaMatch",onClick:$},(0,de.default)("Remove"))),!re&&e.createElement(e.Fragment,null,e.createElement("p",null,(0,de.default)("match.possible.question",{name:A.FullName})),e.createElement("div",{className:"topSpacing"},e.createElement("button",{className:"ancBtn sml",onClick:W},(0,de.default)("Yes")),e.createElement("button",{className:"ancBtn sml silver",onClick:q},(0,de.default)("No"))))),H?e.createElement(e.Fragment,null,e.createElement("button",{ref:n,className:"dnaMatchTooltip icon iconHelp link calloutTrigger","aria-expanded":!1}),e.createElement(Ne.Callout,{trigger:n,position:"top",calloutStyle:"dark",width:"250"},Y(c))):e.createElement("button",{className:"dnaMatchTooltip icon iconHelp link",onClick:function(){return O(!_)},"aria-expanded":_})),!H&&_?e.createElement("div",{className:"topSpacing dnaMatchesHelp"},e.createElement("em",null,Y(c))):null),p&&e.createElement("div",{id:"matchAlertWrapper"},e.createElement(Ne.Alert,{closable:!0,display:"section",onRequestClose:z,open:!0,type:p.isSuccess?"success":"warning"},e.createElement("div",null,p.message),p.isSuccess&&(g?null:e.createElement(Ne.Alert,{type:"info"},(0,de.default)("match.survey.question")," ",e.createElement("a",{className:"surveyText",target:"_blank",rel:"noopener noreferrer",href:"https://ancestry.az1.qualtrics.com/jfe/form/SV_0Pz5Zz0KHxURyAt",onClick:Z},(0,de.default)("match.survey.givefeedback")))))),e.createElement(ln,{open:E,onClose:Q,onConfirm:X}))))}if("boolean"!=typeof H&&(H=!0),(0,e.useEffect)((function(){var e=null;o&&o.length>0&&(e=o[0]||null),u(e)}),[o]),(0,e.useEffect)((function(){a(null),h(null),C(null)}),[A,R]),(0,e.useEffect)((function(){if(A&&R&&!k){var e="".concat(A.tid),t="".concat(A.pid);(A.HasConfirmedMatch&&B||D&&A.HasPossibleMatch&&V)&&C(fetch("".concat(TreeViewerData.UrlPrefix.TreesDna,"/personDnaMatchHints"),{credentials:"same-origin",method:"POST",cache:"no-cache",body:JSON.stringify({treeId:e,personId:t,sourceSampleId:R}),headers:{"Content-Type":"application/json"}}).then(pe.HandleJsonResponse).then((function(e){var t=e||null;if(!t||!Array.isArray(t))throw new Error("Expected match hint but did not receive one");if(!(t.length<1))return a(t);h({isSuccess:!1,remove:!0,message:(0,de.default)("dna.match.notavailable")})})).catch((function(n){h({isSuccess:!1,message:(0,de.default)("dna.match.hovercard.error")}),(0,pe.LogError)(n,{treeId:e,personId:t})})))}}),[R,A,k,(A||{}).HasConfirmedMatch,(A||{}).HasPossibleMatch]),(0,e.useEffect)((function(){TreeViewerData.Properties[un]!==g&&(TreeViewerData.Properties[un]=g,g&&(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.DNAMatchSurvey))}),[g]),!A||!A.Match||!A.HasConfirmedMatch&&!A.HasPossibleMatch)return null;if(c&&"NEW"===c.status&&!D)return null;var te,ne,re=!1;switch(c?c.status:A.Match.status){case"NEW":if(!D||!V)return null;ne=e.createElement("span",{className:"icon iconDna dnaMatchIndicator possibleMatch"}),te=(0,de.default)("dna.match.possible");break;case"ACCEPTED":if(!B)return null;re=!0,ne=e.createElement("span",{className:"icon iconDna dnaMatchIndicator confirmedMatch"}),te=(0,de.default)("dna.match.confirmed");break;case"SEARCH":case"REJECTED":case"ALTERNATIVE":case"NONE":case null:return null}return H?e.createElement(on,{header:te,icon:ne,buttonId:re?"confirmedMatchToggleButton":"possibleMatchToggleButton",updateOpenAccordionCount:function(e){e&&(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"dna_matches",treeId:A.tid,personaId:A.pid}),U(e)}},e.createElement(ee,null)):e.createElement(e.Fragment,null,e.createElement("button",{className:"footerIconButton dnaMatchesButton",ref:L,title:te,onClick:function(){F?(j(!1),O(!1)):j(!0)}},ne),e.createElement(Ne.Callout,{open:F,onRequestAction:function(){},position:"bottom",trigger:L},e.createElement("h4",null,te),e.createElement(ee,null)))}fn.propTypes={isAccordion:F().bool,possibleMatches:F().bool,confirmedMatches:F().bool,sampleId:F().string,editor:F().bool,person:F().object,updateOpenAccordionCount:F().func};var dn=fn;function pn(t){var n=t.person,r=n.FullName;return e.createElement(e.Fragment,null,e.createElement("p",{id:"ThruLinesDescription"},(0,de.default)("thrulines.suggests",{name:r})),e.createElement("a",{className:"ancBtn sml",type:"button",href:n.ThruLinesUrl,id:"ThruLinesButton"},(0,de.default)("thrulines.view",{name:r})))}function hn(t){var n=(0,e.useRef)(null),r=t.person,i=t.isAccordion,o=t.thrulines,a=t.updateOpenAccordionCount;if(!r||"object"!==(0,c.Z)(r))return null;if(!o||!r.HasThruLines)return null;"boolean"!=typeof i&&(i=!0);var l=e.createElement("span",{className:"icon iconFamily bgColor3 thrulinesIcon"});if(i){if("function"!=typeof a)throw new Error("Invalid updateOpenAccordionCount handler");return e.createElement(on,{header:(0,de.default)("thrulines.title"),buttonId:"thrulinesIconToggleButton",icon:l,updateOpenAccordionCount:function(e){e&&(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"thrulines",treeId:r.tid,personaId:r.pid}),a(e)}},e.createElement(pn,{person:r}))}return e.createElement(e.Fragment,null,e.createElement("button",{className:"footerIconButton",ref:n,title:"View ThruLines"},e.createElement("span",{className:"icon iconFamily thrulinesIcon "})),e.createElement(Ne.Callout,{position:"bottom",trigger:n},e.createElement("h4",null,(0,de.default)("thrulines.title")),e.createElement(pn,{person:r})))}pn.propTypes={person:F().object},hn.propTypes={isAccordion:F().bool,person:F().object,thrulines:F().bool,updateOpenAccordionCount:F().func};var mn=hn;function vn(t){var n=t.person,r=t.isAccordion,i=t.onEditTagsClick,o=t.rights,a=t.updateOpenAccordionCount;if(!n||"object"!==(0,c.Z)(n))return null;var l=n.Tags.length;if(0===l)return null;if("function"!=typeof i)throw new Error("Invalid onEditTagsClick prop");var s=e.createElement("span",{className:"icon iconTag"});return"boolean"!=typeof r&&(r=!0),r?e.createElement(on,{header:(0,de.default)("tags.title"),headerBadge:"".concat(l),buttonId:"iconTagToggleButton",icon:s,updateOpenAccordionCount:function(e){e&&(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"mytree_tags",treeId:n.tid,personaId:n.pid}),a(e)}},e.createElement("ul",{className:"myTreeTags"},n.Tags.map((function(t,n){return e.createElement("li",{key:n},e.createElement("span",{className:"ancBtn ancBtnRnd sml blue"},e.createElement("small",{className:"textClipped"},t.title)))}))),o&&o.ed&&e.createElement("button",{className:"ancBtn sml",onClick:i},(0,de.default)("edit"))):e.createElement("button",{className:"footerIconButton",title:"View MyTreeTags™",onClick:i},e.createElement("span",{className:"icon iconTag tagsIcon"}),e.createElement("span",{className:"badge",style:{marginLeft:"-10px"}},l))}vn.propTypes={isAccordion:F().bool,person:F().object,rights:F().object,onEditTagsClick:F().func,updateOpenAccordionCount:F().func};var gn=vn;function yn(t){var n=t.badgeText,r=t.href,i=t.icon,o=t.itemClassName,a=t.onClick,l=t.role,s=void 0===l?"button":l,c=t.text,u=t.title;if("function"!=typeof a)throw new Error("Invalid onClick handler");"string"==typeof u&&u||(u=null),"string"!=typeof c&&(c="");var f="string"==typeof r&&r,d=["link"],p=[];"string"==typeof i&&i&&(f?(d.push("icon"),d.push(i)):(p.push("icon"),p.push(i)));var h=function(){return n?e.createElement(e.Fragment,null,c," ",e.createElement("span",{className:"badge"},n)):e.createElement(e.Fragment,null,c)};return e.createElement("li",{className:o},!f&&e.createElement("button",{className:d.join(" "),title:u,role:s,onClick:a},e.createElement("span",{className:p.join(" "),"aria-hidden":"true"}),h()),f&&e.createElement("a",{href:r,className:d.join(" "),title:u,onClick:a},h()))}yn.propTypes={badgeText:F().oneOfType([F().string,F().number]),href:F().string,icon:F().string,itemClassName:F().string,onClick:F().func,role:F().string,text:F().string,title:F().string};var wn=yn,bn=n(6988);function En(t){var n=(0,e.useRef)(null),r=(0,e.useState)(!1),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=t.icon,s=t.badge;return e.createElement(e.Fragment,null,e.createElement("button",{className:"icon ".concat(l),ref:n,onMouseEnter:function(){a(!0)},onMouseLeave:function(e){(e.toElement||e.relatedTarget)!==window&&a(!1)}},s&&e.createElement("span",{className:"badge badgeColor1 hintCount"},s)),e.createElement(Ne.Callout,{position:"right",trigger:n,open:o},e.createElement(Sn,null,t.children)))}function Sn(t){return e.createElement("div",{className:"calloutMenu"},e.createElement("ul",null,t.children))}function Tn(t){var n,r=(0,e.useRef)(null),i=(0,e.useRef)(null),o=(0,e.useRef)(null),a=(0,e.useRef)(null),l=(0,e.useRef)(null),s=(0,e.useState)(!1),c=(0,ue.Z)(s,2),u=c[0],f=c[1],d=(0,e.useState)(!1),p=(0,ue.Z)(d,2),h=p[0],m=p[1],v=(0,e.useState)(!1),g=(0,ue.Z)(v,2),y=g[0],w=g[1],b=(0,e.useState)(!1),E=(0,ue.Z)(b,2),S=E[0],T=E[1],x=(0,e.useState)(!1),k=(0,ue.Z)(x,2),C=k[0],P=k[1],N=(0,e.useState)(!1),_=(0,ue.Z)(N,2),O=_[0],I=_[1],M=(0,e.useState)(0),F=(0,ue.Z)(M,2),j=F[0],L=F[1],A=(0,e.useState)(!1),D=(0,ue.Z)(A,2),R=D[0],V=D[1],B=t.newLayout,U=t.person,H=t.thrulines,G=t.possibleMatches,z=t.confirmedMatches,Z=t.rights,W=t.setQuickEditPerson,q=t.sampleId,K=t.PersonPageUrl,Y=t.target,J=t.sidePanelInitialize,Q=t.onClick,X=t.onDeletePerson,ee=t.onUpdate,te=t.selectNewHomePerson,ne=t.setFocusPerson,re=t.setTreeFullScreen,ie=t.onAddRelativeClick,oe=t.areCommentBadgesEnabled,ae=window.TreeViewerData.UrlPrefix||{},le=function(e){return{isOwner:!!e&&"owner"===e.access,isEditor:!!e&&e.ed}}(Z),se=le.isOwner,ce=le.isEditor;function fe(){W(U),(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"quick_edit",treeId:U.tid,personaId:U.pid})}"boolean"!=typeof B&&(B=!1),(0,e.useEffect)((function(){U&&r.current&&(0,pe.ContainTabbing)(i.current,r.current)}),[U,j,R]),(0,e.useEffect)((function(){if(ce&&U)if(U.HasPhotos)V(!0);else if(U.PhotoCount<0){var e="/api/treeviewer/tree/".concat(U.tid,"/person/").concat(U.pid,"/photoCount");fetch(e,{credentials:"same-origin",method:"GET",cache:"no-cache"}).then((function(e){if(e.ok)return e.json();throw new Error("Unsuccessful photoCount response")})).then((function(e){U.PhotoCount=e,V(e>0)})).catch((function(e){U.PhotoCount=0,V(!1),(0,pe.LogError)(e)}))}else V(!1);else V(!1)}),[U]),(0,e.useEffect)((function(){C&&!S&&U&&"function"==typeof ee&&ee(!0,["".concat(U.pid)]).catch(pe.LogError).finally((function(){P(!1),T(!1)}))}),[C,S,U]),(0,e.useEffect)((function(){return function(){P(!1),T(!1),Oe()}}),[]);var he,me=(0,e.useCallback)((function(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:5,clickType:"save_to_tree",clickLocation:"tree_viewer",treeId:U.tid,personaId:U.pid}),ui.modal("<div>",{showLoading:!0,width:"760",open:!0,onOpen:function(e){$.ajax({url:"/family-tree/modals/saveperson/tree/".concat(U.tid,"/person/").concat(U.pid),type:"GET",dataType:"jsonp",contentType:"application/json",jsonpCallback:"handleJSON",success:function(t){ui.modal.showLoading(!1),e.element.innerHTML='<div class="modalHasTitle"><header class="modalHeader"><h4 class="modalTitle">'.concat((0,de.default)("hovercard.savethisperson"),"</h4></header>").concat(t.html,"</div>"),Ie.ExecuteScripts(e.element),Ie.loadJavaScriptFile(t.js,null,(function(){}))},error:function(){ui.modal.showLoading(!1),e.element.innerHTML="<p>".concat((0,de.default)("hovercard.savethisperson.error"),"</p>")}})}})}),[U]);function ve(){I(!0)}function ge(){var e=(0,pe.GetAddRelativeTypes)(U);(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"add_relative",treeId:U.tid,personaId:U.pid}),ie(U,e)}function ye(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"view_family_tree",treeId:U.tid,personaId:U.pid}),Q(null),ne(U.pid)}function we(){U.HasTags?(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"edit_tags",treeId:U.tid,personaId:U.pid}):(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"add_tag",treeId:U.tid,personaId:U.pid}),Ee(0)}function be(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"edit_tags",treeId:U.tid,personaId:U.pid}),Ee(0)}function Ee(e){var t=document.cookie.match(/LAU=([^%;]+)/),n=t&&t.length>1?t[1]:null;re(!1),(0,bn.OpenWorkspacePanel)(ae.Person,n,U,J,e).then((function(){f(!1),Q(null)})).catch((function(e){(0,pe.LogError)(e)}))}function Se(e){L(j+(e?1:-1))}function Te(){m(!1),P(!0),T(!0)}function xe(){m(!1)}function ke(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"profile_picture",treeId:U.tid,personaId:U.pid})}function Ce(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"profile",treeId:U.tid,personaId:U.pid,finalEvent:!0})}function Pe(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"search",treeId:U.tid,personaId:U.pid,finalEvent:!0})}function _e(){var t=["userCardImg","userCardImgOriginal",B?"userCardImgRound":"userCardImgSquare",Le?"nodePhoto":(0,pe.GetIconClass)(U)];return ce&&t.push("clickable"),qe&&t.push("customPositionRelative"),e.createElement(e.Fragment,null,!ce&&e.createElement("div",{className:t.join(" ")},Le&&e.createElement("img",{alt:U.FullName,src:Le})),ce&&e.createElement(e.Fragment,null,e.createElement("div",{className:"hoverIndicatorIcons"},Fe&&e.createElement("span",{className:"badge icon iconFamilySearch familySearchActive badgeSize2 badgeColor1 badgePositioned badgeIconOnly familySearchHover"}),qe&&z&&U.HasConfirmedMatch&&e.createElement("span",{className:"badge icon badgeIconOnly iconDnaMatch badgeSize2 badgeColor1 badgePositioned badgeIconOnly dnaMatchHover"})),e.createElement("button",{ref:a,tabIndex:"0",className:t.join(" "),onClick:ke,"aria-label":(0,de.default)("profile.image.options")},Le&&e.createElement("img",{alt:U.FullName,src:Le})),e.createElement(Ne.Callout,{trigger:a,open:h,position:"bottom"},e.createElement(Sn,null,R&&e.createElement(wn,{icon:"iconGallery",onClick:Te,text:(0,de.default)("profile.image.change")}),!R&&e.createElement(wn,{href:"/media/upload/tree/".concat(U.tid,"/person/").concat(U.pid,"/photo/upload?usePUBJs=true&sp=true"),icon:"iconUpload",onClick:xe,text:(0,de.default)("profile.image.upload")})))))}function Oe(){Y&&Y.target&&Y.target.focus(),Q(null)}function Me(){w(!0)}if(function(e){for(var t in e){var n=!1,r=e[t];switch(t){case"onClick":case"onUpdate":case"sidePanelInitialize":n="function"==typeof r}if(!n)throw new Error("Invalid ".concat(t," handler"))}}({onClick:Q,onUpdate:ee,sidePanelInitialize:J}),!U)return null;switch(U.Gender){case"M":he=(0,de.default)("view.his.tree");break;case"F":he=(0,de.default)("view.her.tree");break;default:he=(0,de.default)("view.person.tree")}var Fe=se&&!U.IsLiving&&null!==U.FamilySearchId,je=U.HasTags,Le=U.PrimaryPhoto,Ae="".concat(K,"/").concat(U.pid),De="".concat(ae.Search,"/search/RecordSearch.aspx?tid=").concat(U.tid,"&pid=").concat(U.pid,"&ssrc=pt&_phsrc=bvX5&usePUBJs=true"),Re=document.getElementById("TreeBody")||null,Ve=Re?Re.offsetHeight:window.innerHeight,Be=Re?Re.offsetTop:40,Ue=(0,pe.GetHoverCardPosition)(Y,window.innerWidth,Be,Ve,document.body.scrollHeight),He=ce;if(He&&window.$trees.DnaMatchLinking){var Ge=window.$trees.DnaMatchLinking.role;He="Owner"===Ge||"Collaborator"===Ge||"Manager"===Ge}function ze(){return e.createElement("a",{href:Ae,onClick:Ce},U.IsPrivate?(0,de.default)("Private"):U.FullName)}function Ze(){return e.createElement("span",{className:"userCardEventDetail"},e.createElement("span",{id:"hoverBirthDate"},U.BirthDate),B&&U.BirthDate&&U.BirthPlace?", ":" ",e.createElement("span",{id:"hoverBirthPlace"},U.BirthPlace))}function We(){return e.createElement("span",{className:"userCardEventDetail"},U.IsLiving&&e.createElement("button",{id:"hoverLivingTag",className:"living link",title:(0,de.default)("living.tooltip"),onClick:Me},(0,de.default)("Living")),!U.IsLiving&&B&&e.createElement(e.Fragment,null,e.createElement("span",{id:"hoverDeathDate"},U.DeathDate),U.DeathDate&&U.DeathPlace?", ":" ",e.createElement("span",{id:"hoverDeathPlace"},U.DeathPlace)),!U.IsLiving&&!B&&e.createElement(e.Fragment,null,e.createElement("span",{id:"hoverDeathDate"},U.DeathDate)," ",e.createElement("span",{id:"hoverDeathPlace"},U.DeathPlace)))}var qe=(0,pe.isTreeLinked)()&&(0,pe.getShowDnaIndicators)(U);return e.createElement(e.Fragment,null,e.createElement("div",{className:"con hoverCard".concat(B?" hoverCardNew":""),id:"HoverCard-".concat(U.pid),tabIndex:"-1",ref:i,onKeyDown:function(e){e&&27===e.keyCode&&Oe()},style:Ue,role:"dialog","aria-label":"".concat(null!==(n=null==U?void 0:U.FullName)&&void 0!==n?n:""," ").concat((0,de.default)("profile")),"aria-modal":!0},e.createElement("div",{className:"cardBody"},B&&e.createElement(e.Fragment,null,e.createElement("div",{className:"newHoverCard"},e.createElement("div",{className:"mainContent"},e.createElement("div",{className:"hoverCardMain"},e.createElement("div",{className:"userCard userCardStacked320"},e.createElement(_e,null),e.createElement("div",{className:"userCardContent"},e.createElement("h4",{className:"userCardTitle"},e.createElement(ze,null)),!U.IsPrivate&&e.createElement("div",{className:"userCardEvents"},e.createElement("p",{className:"textWrap"},e.createElement("span",{className:"userCardEvent"},(0,de.default)("B")," •"),e.createElement(Ze,null)),e.createElement("p",{className:"textWrap"},e.createElement("span",{className:"userCardEvent"},(0,de.default)("D")," •"),e.createElement(We,null))))),e.createElement("button",{className:"ancBtn silver show480 hoverCardCloseButton",onClick:Oe},(0,de.default)("close")))),e.createElement("div",{className:"hoverCardTools"},U&&U.HasHints&&e.createElement(En,{icon:"iconLeafImage",badge:U.Hints},e.createElement(wn,{href:"".concat(window.TreeViewerData.UrlPrefix.Person,"/tree/").concat(U.tid,"/person/").concat(U.pid,"/hints?usePUBJs=true"),text:(0,de.default)("view.number.hints",{hintCount:U.Hints}),onClick:function(){(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"hints",treeId:U.tid,personaId:U.pid,finalEvent:!0})}})),e.createElement(En,{icon:"iconPerson"},e.createElement(wn,{href:Ae,text:(0,de.default)("view.profile"),onClick:Ce})),ce&&e.createElement(En,{icon:"iconSearch"},e.createElement(wn,{href:De,text:(0,de.default)("search.records"),onClick:Pe})),ce&&e.createElement(En,{icon:"iconEdit"},e.createElement(wn,{text:(0,de.default)("quick.edit"),title:(0,de.default)("edit.person.info"),onClick:fe}),e.createElement(wn,{text:(0,de.default)("add.comment"),onClick:function(){Ee(2)}}),e.createElement(wn,{text:(0,de.default)("add.note"),onClick:function(){Ee(1)}})),ce&&e.createElement(En,{icon:"iconPlus"},e.createElement(wn,{text:(0,de.default)(je?"edit.tags":"add.tag"),onClick:we}),e.createElement(wn,{href:"/media/upload/tree/".concat(U.tid,"/person/").concat(U.pid,"/media/upload?usePUBJs=true&sp=true"),text:(0,de.default)("add.photo"),onClick:xe}),e.createElement(wn,{text:(0,de.default)("add.family.member"),onClick:ge})),(ne||ce)&&e.createElement(En,{icon:"iconMore"},ne&&e.createElement(wn,{text:he,onClick:ye,itemClassName:"hideForFocusPerson"}),ce&&e.createElement(wn,{text:(0,de.default)("delete.person"),onClick:ve})))),e.createElement("footer",{className:"clearfix"},e.createElement(dn,{person:U,isAccordion:!1,possibleMatches:G,confirmedMatches:z,editor:He,sampleId:q,updateOpenAccordionCount:Se}),e.createElement(mn,{person:U,isAccordion:!1,thrulines:H}),e.createElement(gn,{person:U,isAccordion:!1,rights:Z,onEditTagsClick:be,updateOpenAccordionCount:Se}))),!B&&e.createElement(e.Fragment,null,e.createElement("div",{className:"paddedBody hoverCardMain"},e.createElement("button",{className:"ancBtn silver show480 hoverCardCloseButton",onClick:Oe},(0,de.default)("close")),e.createElement(nn,{person:U,areCommentBadgesEnabled:oe,handleCommentsClick:function(){return Ee(2)}}),e.createElement("div",{className:"userCard userCardSize4 userCardStacked320"},e.createElement(_e,null),e.createElement("div",{className:"userCardContent"},e.createElement("h2",{className:"userCardTitle"},e.createElement(ze,null)),!U.IsPrivate&&e.createElement("div",{className:"userCardEvents"},e.createElement("p",{className:"textWrap"},e.createElement("span",{className:"userCardEvent"},(0,de.default)("B"),":"),e.createElement(Ze,null)),e.createElement("p",{className:"textWrap"},e.createElement("span",{className:"userCardEvent"},(0,de.default)("D"),":"),e.createElement(We,null))))),e.createElement("footer",{className:"clearfix"},e.createElement("a",{className:"ancBtn ".concat(ce||ne?"ancBtnL ":"","silver"),id:"hoverProfileLink",title:(0,de.default)("go.to.profile"),href:Ae,ref:r,onClick:Ce},(0,de.default)("profile")),ce&&e.createElement("a",{className:"ancBtn ancBtnM silver",id:"hoverSearchLink",title:(0,de.default)("search.collections"),href:De,onClick:Pe},(0,de.default)("search")),ce&&e.createElement("button",{className:"ancBtn ancBtnM silver hide480 hoverEditLink",title:(0,de.default)("edit.person.info"),onClick:fe},(0,de.default)("quick.edit")),(ce||ne)&&e.createElement(e.Fragment,null,e.createElement("button",{className:"ancBtn ancBtnR ancBtnIconsOnly silver calloutTrigger",id:"hoverCardToolsButton",type:"button",ref:o,onClick:function(){},"aria-label":(0,de.default)("hovercard.more.options")},e.createElement("span",{className:"icon iconTools iconAfter iconArrowSmallDownAfter","aria-hidden":"true"})),e.createElement(Ne.Callout,{trigger:o,open:u,position:window.innerHeight/2<200||Ue&&Ue.bottom<200?"top":"bottom"},e.createElement("div",{className:"calloutMenu"},e.createElement("ul",{className:"calloutDomContent hoverCardToolsList",id:"hoverCardToolsList"},ce&&e.createElement(wn,{text:(0,de.default)("quick.edit"),title:(0,de.default)("edit.person.info"),onClick:fe,itemClassName:"show480",icon:"iconEdit hoverEditLink"}),ne&&e.createElement(wn,{text:he,title:(0,de.default)("move.to.root"),onClick:ye,itemClassName:"hideForFocusPerson",role:"link",icon:"showFam iconTreePedigree"}),ce&&e.createElement(wn,{text:(0,de.default)("add.relative"),title:(0,de.default)("add.relative.to"),onClick:ge,icon:"iconPlus"}),ce&&e.createElement(wn,{text:(0,de.default)(je?"edit.tags":"add.tag"),onClick:we,itemClassName:"addEditTags",icon:"iconTag ".concat(je?"editTags":"addTags"," addEditTagsButton")}),window.TreeViewerData.CommentBadges&&e.createElement(wn,{text:"".concat((0,de.default)("view.comments")),title:(0,de.default)("view.comments.for"),badgeText:U.Comments,onClick:function(){(0,pe.UBELink)("CoreUI_CommentObjectClicked",{schemaVersion:4,clickType:"entry_click",contentType:"other",objectType:"persona",treeId:U.tid,personaId:U.pid}),Ee(2)},icon:"iconMessageBoard "}),ce&&e.createElement(wn,{text:(0,de.default)("delete.person"),onClick:ve,icon:"iconTrash"}))))),window.TreeViewerData.SaveToMyTree&&!ce&&!U.IsPrivate&&e.createElement("button",{className:"ancBtn icon iconSave",onClick:me},(0,de.default)("hovercard.savetotree")),se&&window.TreeViewerData.GetHelp&&e.createElement(e.Fragment,null,e.createElement("button",{ref:l,className:"ancBtn ancBtnIconOnly silver hoverGetHelpLink",onClick:function(){Q(null),window.ancestry.coco.perform("ViewPersonMoreHelp",{userId:TreeViewerData.UserId,treeId:U.tid,personId:U.pid,fullName:U.FullName}),(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:5,clickType:"help",clickLocation:"tree_viewer",treeId:U.tid,personaId:U.pid})}},e.createElement("span",{className:"icon iconHelp"}),e.createElement("span",{className:"hideVisually"},(0,de.default)("getHelp.moreHelp"))),e.createElement(Ne.Callout,{trigger:l,type:"hover",calloutStyle:"dark",position:"top"},(0,de.default)("getHelp.moreHelp.info"))))),e.createElement(gn,{person:U,isAccordion:!0,rights:Z,onEditTagsClick:be,updateOpenAccordionCount:Se}),e.createElement(mn,{person:U,isAccordion:!0,thrulines:H,updateOpenAccordionCount:Se}),e.createElement(dn,{person:U,isAccordion:!0,possibleMatches:G,confirmedMatches:z,editor:He,sampleId:q,updateOpenAccordionCount:Se})))),e.createElement(Zt,{person:U,rights:Z,onClose:function(){w(!1),Q(null)},onSave:function(e){return e?Promise.resolve().then((function(){w(!1)})):fetch("/api/treeviewer/tree/".concat(U.tid,"/person/").concat(U.pid,"/alive/0"),{credentials:"same-origin",method:"POST",cache:"no-cache"}).then((function(e){if(!e.ok)throw new Error("Unsuccessful livingStatus save response");w(!1),ee(!0,["".concat(U.pid)])}))},open:y}),e.createElement(Yt,{person:U,open:O,onClose:function(){I(!1)},onSave:function(){return(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"delete_person",treeId:U.tid,personaId:U.pid}),(0,pe.UBELink)("CoreUI_NodeDeleted",{schemaVersion:1,personaId:U.pid,treeId:U.tid,context:"treeView"}),fetch("/api/treeviewer/tree/".concat(U.tid,"/person/").concat(U.pid,"/delete"),{credentials:"same-origin",method:"POST",cache:"no-cache"}).then((function(e){if(!e.ok)throw new Error("Unsuccessful deletePerson response");U.pid===window.TreeViewerData.RootPids.home?te():(I(!1),X(U.pid),ee(!0,U.FamilyMembers.map((function(e){return e.tgid.v.split(":")[0]}))),Q(null))}))}}),e.createElement($t,{person:U,hasPhotos:U.HasPhotos,open:S,onClose:function(){T(!1)}}))}En.propTypes={icon:F().string,badge:F().number},Tn.propTypes={PersonPageUrl:F().string,areCommentBadgesEnabled:F().bool,newLayout:F().bool,thrulines:F().bool,possibleMatches:F().bool,confirmedMatches:F().bool,sampleId:F().string,rights:F().object,sidePanelInitialize:F().func,onAddRelativeClick:F().func,setQuickEditPerson:F().func,setTreeFullScreen:F().func,onClick:F().func,onDeletePerson:F().func,onUpdate:F().func,selectNewHomePerson:F().func,setFocusPerson:F().func,target:F().object,person:F().object};var xn=Tn;function kn(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=t.why;return(0,e.useEffect)((function(){if("500"===u||"404"===u){var e=(window.location.hostname||"").split("."),t=(e.length>3?e[3]:e[2])||"com",n="com"===t?"us":t;o("us"===n),c("uk"===n)}}),[u]),e.createElement(e.Fragment,null,e.createElement("div",{className:function(){var e,t="page pageError ";switch("SiteDomainCode",((e=document.getElementsByName("SiteDomainCode"))&&e.length>0?e[0].getAttribute("content"):null)||"US"){case"US":return t+"errorbox";case"UK":return t+"errorboxUK";default:return t+"errorboxInt"}}(),id:"errorbox"},function(){var t="";switch(u){case"404":t=(0,de.default)("error.404.heading");break;case"500":t=(0,de.default)("error.500.heading");break;default:t=(0,de.default)("g.checkbacksoon")}var n="";switch(u){case"404":n=(0,de.default)("error.404.subtitle");break;case"500":n=(0,de.default)("g.try.refresh")}return e.createElement("header",{className:"pageErrorHeader"},e.createElement("h1",{className:"pageTitle"},t),n&&e.createElement("p",{className:"pageIntro"},n.split(/<[/]*button>/).map((function(t,n){return 1===n?e.createElement("button",{key:n,type:"button",className:"link",onClick:function(){return window.location.reload(!0)}},t):t}))))}(),function(){var t,n=window.TreeViewerData.UrlPrefix||{};switch(u){case"404":return e.createElement("div",{className:"pageErrorCon"},e.createElement("p",null,(0,de.default)("error.404.links")),e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{href:n.Ancestry},(0,de.default)("error.link.main"))),e.createElement("li",null,e.createElement("a",{href:n.Trees},(0,de.default)("error.link.tree"))),e.createElement("li",null,e.createElement("a",{href:"".concat(n.Ancestry,"/subscribe/signup.aspx")},(0,de.default)("error.link.subscribe"))),i&&e.createElement("li",null,e.createElement("a",{href:n.Dna},(0,de.default)("error.link.dnatesting"))),s&&e.createElement("li",null,e.createElement("a",{href:"".concat(n.Landing,"/offers/uk/dna.aspx")},(0,de.default)("error.link.dnatesting"))),i&&e.createElement("li",null,e.createElement("a",{href:"https://www.familytreemaker.com/"},(0,de.default)("error.link.ftm")))));case"500":return e.createElement("div",{className:"pageErrorCon"},e.createElement("p",null,(0,de.default)("error.helpful.links")),e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{href:n.Trees},(0,de.default)("error.link.create"))),e.createElement("li",null,e.createElement("a",{href:n.Search},(0,de.default)("error.link.search"))),i&&e.createElement("li",null,e.createElement("a",{href:n.Dna},(0,de.default)("error.link.dna"))),s&&e.createElement("li",null,e.createElement("a",{href:"".concat(n.Landing,"/offers/uk/dna.aspx")},(0,de.default)("error.link.dna"))),e.createElement("li",null,e.createElement("a",{href:n.Help},(0,de.default)("error.link.help")))));default:return e.createElement("div",{className:"pageErrorCon"},e.createElement("p",null,(t=u||"",(0,de.default)("planned"===t?"g.down":"g.downUnplanned"))))}}()))}kn.propTypes={why:F().oneOfType([F().string,F().object])};var Cn=kn;function Pn(t){var n=t.person,r=n?n.PrimaryPhoto:null,i=["userCardImg","userCardImgSquare","userCardImgOriginal"];r||(i.push("icon"),i.push(n?(0,pe.GetIconClass)(n):"iconPerson"));var o=r?{backgroundImage:"url('".concat(r,"')")}:{};return e.createElement("span",{"aria-hidden":"true",className:i.join(" "),style:o},r&&e.createElement("img",{alt:n.FullName,src:r}))}Pn.propTypes={person:F().object};var Nn=Pn;function _n(t){var n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=(0,e.useState)(!1),o=(0,ue.Z)(i,2),a=o[0],l=o[1],s=(0,e.useState)(!1),c=(0,ue.Z)(s,2),u=c[0],f=c[1],d=(0,e.useState)(0),p=(0,ue.Z)(d,2),h=p[0],m=p[1],v=(0,e.useState)({}),g=(0,ue.Z)(v,1)[0],y=(0,e.useState)(80),w=(0,ue.Z)(y,2),b=w[0],E=w[1],S=(0,pe.useWindowDimensions)(),T=t.history,x=t.setFocusPerson;function k(e,t){console.assert(!!t),l(!1),x(t.pid)}function C(t){return console.assert(!!t),e.createElement(e.Fragment,null,e.createElement(Nn,{person:t}),e.createElement("div",{className:"userCardContent"},e.createElement("h6",{className:"userCardTitle"},t.TruncatedFullName())))}if((0,e.useEffect)((function(){var e=n.current;e&&e.offsetWidth>0&&E(e.offsetWidth)}),[n]),(0,e.useEffect)((function(){var e=r.current;if(e){var t=Array.from(e.children).filter((function(e,t){return t>1})).map((function(e){var t=e.querySelector(".userCardTitle");console.assert(!!t);var n=t.innerText||"",r=g[n];return"number"!=typeof r&&(r=g[n]=e.getBoundingClientRect().width),r})),n=t.reduce((function(e,t){return e+t})),i=0;if(n>S.w-25)for(n+=b;n>S.w-25&&i<t.length;)n-=t[i++];f(i>0),m(i)}}),[S,r,b,T&&T.filter((function(e){return e})).map((function(e){return e.pid})).join(",")]),"function"!=typeof x)return null;if(!Array.isArray(T)||T.length<2)return null;var P=window.TreeViewerData.Theme||null;return e.createElement("div",{className:"breadCrumbs",id:"brdCrmbs"},e.createElement("ul",{className:"treeViewerHeaderFooter breadCrumbList clearfix",id:"bclist",ref:r,style:{position:"relative"}},e.createElement("li",{className:"".concat(P," headerFooterShader")}),e.createElement("li",{style:{display:u?"block":"none"}},e.createElement("button",{className:"ancBtn breadCrumbOverflow overflowActive calloutTrigger",ref:n,"aria-expanded":a,"aria-label":(0,de.default)("expand.expandOverflow")},e.createElement("span",{className:"icon iconList"}))),T.map((function(t,n){return t?n<T.length-1?e.createElement("li",{key:t.pid,style:{display:n<h?"none":"block"}},e.createElement("button",{role:"link",onClick:function(e){return k(0,t)},className:"userCard userCardSize2"},C(t))):e.createElement("li",{key:t.pid,className:"focus"},e.createElement("div",{className:"userCard userCardSize2"},C(t))):null}))),u&&e.createElement(Ne.Callout,{trigger:n,open:a,position:"top"},e.createElement("div",{className:"calloutMenu"},e.createElement("ul",{className:"calloutDomContent breadcrumbMenu"},T.map((function(t,n){return!t||n===T.length-1||n>=h?null:e.createElement("li",{key:t.pid},e.createElement("button",{className:"link",onClick:function(e){return k(0,t)}},e.createElement("div",{className:"userCard userCardSize2"},C(t))))}))))))}_n.propTypes={setFocusPerson:F().func,history:F().array};var On=_n;function In(t){var n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=t.person,o=t.onReviewPotentialMatchClick,a=t.onAddManaullyClick,l=t.target,s=t.relation,c=t.gender,u=t.onClose;if((0,e.useEffect)((function(){i&&window.setTimeout((function(){n.current&&(n.current.focus(),(0,pe.ContainTabbing)(r.current))}))}),[i]),!i)return null;var f="f"===s?"Father":"Mother",d=i.GetParentHint(f);if(!d)return null;var p=(d.personData?d.personData.PrimaryPhotoUrl:null)||null,h=document.getElementById("TreeBody")||null,m=h?h.offsetHeight:window.innerHeight,v=h?h.offsetTop:40,g=(0,pe.GetHoverCardPosition)(l,window.innerWidth,v,m,document.body.scrollHeight),y=null;window.TreeViewerData.NPHDiscoverUI&&(y=i.GetParentHintName(f));var w=null;return window.TreeViewerData.NPHRoundUI&&(w=i.GetParentHintLifeSpan(f)),e.createElement("div",{className:"con hoverCard",ref:r,onKeyDown:function(e){e&&27===e.keyCode&&u()},style:g},e.createElement("div",{className:"cardBody nph".concat(p?" profileImage":"")},e.createElement("div",{className:"paddedBody hoverCardMain"},e.createElement("button",{className:"ancBtn silver show480 hoverCardCloseButton",onClick:u},(0,de.default)("close")),e.createElement("div",{className:"userCard userCardSize4 userCardStacked320"},!p&&e.createElement("div",{"aria-hidden":"true",className:"userCardImg userCardImgSquare userCardImgOriginal icon icon".concat("M"===c?"Male":"Female")}),p&&e.createElement("div",{"aria-hidden":"true",className:"userCardImg userCardImgSquare userCardImgOriginal userCardPortrait userCardImgCenter"},e.createElement("img",{src:p})),e.createElement("div",{className:"userCardContent"},e.createElement("h6",{className:"userCardTitle title".concat(f)},e.createElement("span",null,y||(0,de.default)("Father"===f?"potential.father":"potential.mother")),e.createElement("br",null),w&&e.createElement("span",null,w)),e.createElement("p",{className:"infoText".concat(f)},(0,de.default)("Father"===f?"potential.father.found":"potential.mother.found",{name:i.FullName})))),e.createElement("div",{className:"nphHoverCardBtns clearfix textCenter"},e.createElement("button",{className:"ancBtn viewNPHLink",ref:n,onClick:o},(0,de.default)("hint.np.review")),e.createElement("button",{className:"ancBtn silver hoverAddRelativeLink",onClick:a},(0,de.default)("hint.np.manual"))))))}In.propTypes={relation:F().string,gender:F().string,target:F().object,person:F().object,onReviewPotentialMatchClick:F().func,onClose:F().func,onAddManaullyClick:F().func};var Mn=In;function Fn(e,t,n){console.assert(e&&"string"==typeof t&&t);var r=e.className.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),i=r.indexOf(t);i<0&&n&&r.push(t),i>=0&&!n&&r.splice(i,1),e.className=r.join(" ")}function jn(t){var n=(0,e.useRef)(null),r=(0,e.useState)(null),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)({__html:'<div class="loading loadingLarge" aria-label='.concat((0,de.default)("expand.loading")," />")}),s=(0,ue.Z)(l,2),c=s[0],u=s[1],f=t.relation,d=t.person,p=t.open,h=t.onClose,m=t.hint,v=t.onHintAccept,g=t.onHintReject;function y(){Fn(document.body,"showingNPHModal",!1),h()}if((0,e.useEffect)((function(){a((0,de.default)("m"===f?"potential.mother":"potential.father"))}),[]),(0,e.useEffect)((function(){return document.body.addEventListener("nphReviewPanel:closePanel",y),document.body.addEventListener("nphReviewPanel:hintIgnored",g),document.body.addEventListener("nphReviewPanel:hintAccepted",v),function(){document.body.removeEventListener("nphReviewPanel:closePanel",y),document.body.removeEventListener("nphReviewPanel:hintIgnored",g),document.body.removeEventListener("nphReviewPanel:hintAccepted",v)}}),[]),(0,e.useEffect)((function(){if(p&&m){var e=window.TreeViewerData.NPH.rpUrl;e&&(e=e.replace("{personId}",d.pid).replace("{treeId}",d.tid).replace("{hintId}",m.hid).replace("{newPersonGid}",m.gid).replace("{relationship}","f"===f?"father":"mother"),Ie.FetchJson(e,{}).then((function(e){if(e){if(e.css)for(var t in e.css){var r=e.css[t];if(Array.isArray(r))for(var i=0;i<r.length;i++)Ie.loadStyleSheetFile(r[i],"reviewpanel-css-".concat(t,"-").concat(i))}e.js&&Ie.loadJavaScriptFile(e.js.local,(function(){return window.nphReviewPanelComponent&&"function"==typeof window.nphReviewPanelComponent.init}),(function(){e.html&&(a(null),u({__html:e.html.body}),Ie.ExecuteScripts(n.current))}))}})).catch((function(e){(0,pe.LogError)(e),u({__html:'<div class="alert" role="alert">'.concat((0,de.default)("modal.error"),"</div>")})})))}}),[t.open]),!d)return null;if("function"!=typeof h)throw new Error("Missing onClose handler");if("function"!=typeof g)throw new Error("Missing onHintReject handler");if("function"!=typeof v)throw new Error("Missing onHintAccept handler");return e.createElement(Ne.Modal,{open:!0===p,width:320,position:"fixed",title:o,onOpen:function(){Fn(document.body,"showingNPHModal",!0)},onClose:y,onRequestClose:y},e.createElement("div",{className:"parentHintModalContents",ref:n,dangerouslySetInnerHTML:c}))}jn.propTypes={relation:F().string,person:F().object,open:F().bool,hint:F().object,onClose:F().func,onHintAccept:F().func,onHintReject:F().func};var Ln=jn;function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dn=function(){function e(t){i(this,e),this.dnaUrlPrefix=t,this.checkedMatches={},this.cachedMatches={}}return a(e,[{key:"fetchDNAMatches",value:function(e,t,n){var r=this;if(!e||"string"!=typeof e)return Promise.reject("Missing DNA sample ID to get matches");if(this.checkedMatches[e]||(this.checkedMatches[e]=new Set),!Array.isArray(n))return Promise.resolve(null);(n=n.filter((function(t){return!r.checkedMatches[e].has(t)}))).forEach((function(t){return r.checkedMatches[e].add(t)}));var i=this.cachedMatches[e]||null;return 0===n.length?Promise.resolve(i):fetch("".concat(this.dnaUrlPrefix,"/treeDnaMatchHints"),{credentials:"same-origin",method:"POST",cache:"no-cache",body:JSON.stringify({treeId:t,sourceSampleId:e,personIdList:n.join(",")}),headers:{"Content-Type":"application/json"}}).then(pe.HandleJsonResponse).then((function(t){if(t&&t.dnaMatches){var n=t.dnaMatches.treeNodes;if(Array.isArray(n)&&n.length>0){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i||{});return n.forEach((function(e){o[e.v]=e})),r.cachedMatches[e]=o,o}}return i}))}},{key:"fetchThruLines",value:function(e,t){return e&&"string"==typeof e?fetch("".concat(this.dnaUrlPrefix,"/thrulinesv2?sampleid=").concat(e),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then(pe.HandleJsonResponse).then((function(n){var r={};return n&&n.gids&&n.gids.forEach((function(n){if(n)if(n.treeGid&&n.bigTreeGid){var i=n.treeGid,o=n.bigTreeGid,a=i.split(":");if(3!==a.length)return;r[a[0]]=t.replace("{ancestorGid}",o).replace("{sampleId}",e)}else{var l=n.split(":");if(3!==l.length)return;r[l[0]]=t.replace("{ancestorGid}",n).replace("{sampleId}",e)}})),r})):Promise.reject("Missing DNA sample ID to get thrulines")}}]),e}(),Rn=Dn,Vn=function(){function e(t){if(i(this,e),!t)throw new Error("missing treeId");this._treeId=t}return a(e,[{key:"fetchNewPersonHints",value:function(e){var t=this;if(!Array.isArray(e)||e.length<1)throw new Error("invalid gids array");return fetch("/api/treeviewer/newpersonhints/tree/".concat(this._treeId,"?includePersonData=true&pid=").concat(e.map((function(e){return e.split(":")[0]})).join("&pid=")),{method:"GET"}).then(pe.HandleJsonResponse).then((function(e){var n={};for(var r in e)n["".concat(r,":1030:").concat(t._treeId)]=e[r];return n}))}}]),e}();function Bn(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Un(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Bn(o,r,i,a,l,"next",e)}function l(e){Bn(o,r,i,a,l,"throw",e)}a(void 0)}))}}var Hn=n(7757),Gn=n.n(Hn);function zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn=function(){function e(t){i(this,e),this._treeId=t,this._cache={}}var t,n,r;return a(e,[{key:"getCommentCounts",value:(r=Un(Gn().mark((function e(t){var n,r,i,o,a,l,s,c=this;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return void 0===c._cache[e]})),n.length){r=this._fetchCommentCounts(n),i=zn(n);try{for(i.s();!(o=i.n()).done;)a=o.value,this._cache[a]=this._getIndividualCommentCountPromise(a,r)}catch(e){i.e(e)}finally{i.f()}}return e.next=4,Promise.all(t.map((function(e){return c._cache[e]})));case 4:return l=e.sent,s=t.reduce((function(e,t,n){return e[t]=l[n],e}),{}),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_fetchCommentCounts",value:(n=Un(Gn().mark((function e(t){var n;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/treeviewer/comments/tree/".concat(this._treeId,"?pid=").concat(t.join("&pid=")),{credentials:"same-origin",method:"GET",cache:"no-cache"});case 2:return n=e.sent,e.next=5,(0,pe.HandleJsonResponse)(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getIndividualCommentCountPromise",value:(t=Un(Gn().mark((function e(t,n){var r;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),qn=Wn;function $n(t){var n=t.id,r=t.header,i=t.children,o=t.isOpen,a=(0,e.useState)(!1!==o),l=(0,ue.Z)(a,2),s=l[0],c=l[1];function u(e){window.treeDidDrag||e&&e.keyCode&&13!==e.keyCode&&32!==e.keyCode||c(!s)}return e.createElement(e.Fragment,null,e.createElement("h2",null,e.createElement("p",{className:"header familyHeader sectionBlock"},e.createElement("a",{onClick:u,onTouchEnd:u,onKeyDown:u,tabIndex:"0","aria-expanded":s,"aria-controls":n,role:"button",className:"iconAfter ".concat(s?"iconArrowSmallUpAfter":"iconArrowSmallDownAfter")},r))),s&&e.createElement("div",{id:n},i))}$n.propTypes={header:F().string,isOpen:F().bool,id:F().string,children:F().arrayOf(F().node)};var Kn=$n;function Yn(t){var n=t.rights,r=t.focusPerson,i=t.family,o=t.homePersonPid,a=t.setFocusPerson,l=t.onAddRelativeClick,s=t.setFocusNodeCoordinates,c=(0,e.useState)({}),u=(0,ue.Z)(c,2),f=u[0],d=u[1],p=(0,e.useRef)(null);function h(e){if(!(window.treeDidDrag||e&&e.keyCode&&13!==e.keyCode&&32!==e.keyCode)){var t=r?r.JSON.Family:[],n=t.filter((function(e){return"M"===e.t})).length>0,i=t.filter((function(e){return"F"===e.t})).length>0,o=[];i||o.push("Father"),n||o.push("Mother"),(i||n)&&(o.push("Brother"),o.push("Sister")),o.push.apply(o,["Spouse","Child"]),l(o)}}function m(e,t){e&&e.keyCode&&13!==e.keyCode&&32!==e.keyCode||a(t.pid)}function v(t){if(!t)return null;var n=t.pid,r=t.IsPrivate?(0,de.default)("Private"):t.TruncatedFullName();function i(e){e&&e.keyCode&&13!==e.keyCode&&32!==e.keyCode||function(e,t){window.treeDidDrag||a(t)}(0,n)}return e.createElement("li",{key:n,className:"memberItem"},e.createElement("div",{className:"userCard userCardSize2"},e.createElement("button",{onClick:i,onKeyDown:i,onTouchEnd:i,tabIndex:"0"},g(t),e.createElement("div",{className:"userCardContent"},e.createElement("p",{className:"userCardTitle textWrap ".concat(o==n?"icon iconHome":"")},r)))))}function g(t){var n=t?t.PrimaryPhoto:null;if(n)return e.createElement("div",{"aria-hidden":"true",className:"userCardImg userCardImgCenter userCardImgSquare userCardImgOriginal"},e.createElement("img",{alt:t.FullName,src:n}));var r=t?(0,pe.GetIconClass)(t):"icon iconPerson userCardImg userCardImgSquare userCardImgOriginal";return e.createElement(e.Fragment,null,e.createElement("div",{"aria-hidden":"true",className:r,role:"presentation"}),t&&e.createElement("div",{className:"hideVisually"},t.GenderLong))}return(0,e.useEffect)((function(){var e=p.current?p.current.getBoundingClientRect():null;if(e){var t=e.x,n=e.y,r=e.width,i=e.height;!f||t===f.x&&n===f.y||d({x:t,y:n,w:r,h:i})}})),i&&"function"==typeof a&&"function"==typeof l?e.createElement(e.Fragment,null,e.createElement("div",{className:"con familyList bgLight",style:t.style,ref:p,onFocus:function(){f&&s(f)}},e.createElement("ul",{className:"familySection"},(i.members||[]).map((function(t,n){var r=t.spouse,i=r?r.IsPrivate?(0,de.default)("Private"):r.TruncatedFullName(17):"(".concat((0,de.default)("unknown.spouse"),")"),a=e.createElement("div",{className:"userCard userCardSize2"},g(r),e.createElement("div",{className:"userCardContent".concat(r?"":" unknown")},e.createElement("p",{className:"userCardTitle textWrap".concat(r&&r.pid===o?" icon iconHome":"")},i))),l=r?e.createElement("button",{onClick:function(e){return m(e,r)},onKeyDown:function(e){return m(e,r)},onTouchEnd:function(e){return m(e,r)},tabIndex:"0"},a):a,s=t.children.length?e.createElement("ul",{className:"spouseChildren memberList"},t.children.map(v)):null;return e.createElement("li",{key:n},e.createElement(Kn,{header:(0,de.default)("spouse.and.children"),id:r?"Spouse-".concat(r.pid):"UnknownSpouse"},e.createElement("div",{className:"listSpouse"},l),s))}))),i.hasSiblings&&e.createElement("section",{className:"familySection",id:"Siblings"},e.createElement(Kn,{header:(0,de.default)("siblings"),isOpen:!1,id:"Siblings"},e.createElement("ul",{className:"memberList",id:"tvFullSiblings"},i.siblings.map(v)),i.halfSiblings.length>0&&e.createElement("section",{className:"familySection",id:"tvHalfSiblings"},e.createElement("p",{className:"header familyHeader sectionBlock"},e.createElement("span",null,(0,de.default)("half.siblings"))),e.createElement("ul",{className:"memberList"},i.halfSiblings.map(v))))),n&&n.ed&&e.createElement(e.Fragment,null,e.createElement("hr",null),e.createElement("div",{className:"familyFooter sectionBlock"},e.createElement("a",{className:"icon iconPlus",id:"tvAddRelative",tabIndex:"0",onKeyDown:h,onClick:h,onTouchEnd:h},(0,de.default)("add.relative")))))):null}Yn.propTypes={homePersonPid:F().number,rights:F().object,style:F().object,onAddRelativeClick:F().func,setFocusPerson:F().func,focusPerson:F().object,family:F().object,setFocusNodeCoordinates:F().func};var Jn=Yn;function Qn(t){var n=t.expansionToggler,r=t.person,i=t.nodeId,o=t.layouter,a=t.isLoading,l=t.onFocus;if("function"!=typeof n)throw new Error("Invalid expansionToggler");if(!r||!r.HasData||!i)return null;var s=o.getNodeProperty(i,"isExpanded")||!1;a="boolean"==typeof a&&a;var c=["node expandNode ancBtn sml silver"];function u(e){n(i,r.pid)}r.Parents.length<=0&&c.push("add noParents"),a?c.push("loading loadingSmall"):c.push("icon ".concat(s?"iconArrowSmallLeft":"iconArrowSmallRight"));var f=(0,de.default)(s?"collapse.tooltip":"expand.tooltip",{name:r.FullName});return e.createElement("button",{tabIndex:"0",onFocus:l,onClick:u,onTouchEnd:u,className:c.join(" "),"aria-expanded":s,"aria-controls":"Parents-".concat(i),"aria-label":a?(0,de.default)("expand.loading"):f,title:f})}Qn.propTypes={expansionToggler:F().func,onFocus:F().func,isLoading:F().bool,nodeId:F().number,person:F().object,layouter:F().object};var Xn=Qn,er={areCommentBadgesEnabled:F().bool,confirmedMatches:F().bool,person:F().object,possibleMatches:F().bool,thrulines:F().bool};function tr(t){var n,r,i,o,a,l,s,c=t.areCommentBadgesEnabled,u=t.confirmedMatches,f=t.person,d=t.possibleMatches,p=t.thrulines;if(!f)return null;var h=null===(n=window)||void 0===n||null===(r=n.TreeViewerData)||void 0===r?void 0:r.LinkHintLeafToHintsTab,m="".concat(null===(i=window)||void 0===i||null===(o=i.TreeViewerData)||void 0===o||null===(a=o.UrlPrefix)||void 0===a?void 0:a.Person,"/tree/").concat(null==f?void 0:f.tid,"/person/").concat(null==f?void 0:f.pid,"/hints?usePUBJs=true"),v=(0,de.default)("hint.tooltip");return e.createElement("span",{className:"indicatorIcons"},e.createElement("span",{className:"iconsRight bgDark"},f.HasNewPersonHint&&(null===(l=window)||void 0===l||null===(s=l.TreeViewerData)||void 0===s?void 0:s.NPHRoundUI)&&e.createElement("span",{className:"badge"},(0,de.default)("potential")),f.HasHints?h?e.createElement("a",{title:v,href:m,className:"icon iconLeafImage iconLeafImagePinned"}):e.createElement("span",{"aria-hidden":"true",className:"icon iconLeafImage iconLeafImagePinned"}):e.createElement(e.Fragment,null),c&&f.HasComments&&e.createElement("span",{"aria-hidden":"true",className:"icon iconMessageBoard bgColor6 roundedIcon"}),u&&f.HasConfirmedMatch&&e.createElement("span",{className:"icon iconDna dnaMatchIndicator roundedIcon confirmedMatch"}),d&&f.HasPossibleMatch&&e.createElement("span",{className:"icon iconDna dnaMatchIndicator roundedIcon possibleMatch"}),p&&f.HasThruLines&&e.createElement("span",{className:"thruLinesIcon"},e.createElement("span",{"aria-hidden":"true",className:"icon iconFamily bgColor3 roundedIcon"}))))}function nr(t){var n=t.areCommentBadgesEnabled,r=t.confirmedMatches,i=t.person,o=t.possibleMatches,a=t.thrulines;return i?e.createElement(e.Fragment,null,i.HasHints&&e.createElement("span",{className:"hideVisually"},". ",(0,de.default)("hint.indicator")),n&&i.HasComments&&e.createElement("span",{className:"hideVisually"},(0,de.default)("comment.badge.altText")),r&&i.HasConfirmedMatch&&e.createElement("span",{className:"hideVisually"},". ",(0,de.default)("match.indicator.confirmed")),o&&i.HasPossibleMatch&&e.createElement("span",{className:"hideVisually"},". ",(0,de.default)("match.indicator.pending")),a&&i.HasThruLines&&e.createElement("span",{className:"hideVisually"},". ",(0,de.default)("thrulines.indicator"))):null}tr.propTypes=er,nr.propTypes=er;var rr=nr;function ir(t){var n=t.clickable,r=t.clickHandler,i=t.fullName,o=t.generation,a=t.getPersonByGid,l=t.isEditor,s=t.isExpanding,c=t.isPrintOnly,u=t.label,f=t.layouter,d=t.nodeId,p=t.nodeIndicatorProps,h=t.person,m=t.setFocusNodeCoordinates,v=t.title,g=t.toggleExpansion,y=(0,e.useRef)(null),w=(0,e.useRef)(null),b=(0,e.useState)({}),E=(0,ue.Z)(b,2),S=E[0],T=E[1];if((0,e.useEffect)((function(){var e=y.current?y.current.getBoundingClientRect():null;if(e){var t=e.x,n=e.y,r=e.width,i=e.height;4==o&&(l||null!=h&&h.HasParents)&&(r+=35),!S||t===S.x&&n===S.y&&r===S.w||T({x:t,y:n,w:r,h:i})}})),!h)return null;if(!f.isVisible(d))return null;var x=f.isSmall(d),k=o>0&&!h.HasData&&h.HasNewPersonHint,C=["bdyWrap","card"],P=["nodePedigree","node","gen".concat(o)];0===o&&(P.push("focus"),C.push("bgDark bgColor7")),o>0&&!h.HasData&&(k?P.push("nph"):(P.push("add"),C.push("bgDark cardEmpty"))),x&&P.push("small"),n||P.push("readonly");var N=h.PrimaryPhoto;function _(){S&&m&&m(S)}var O=f.HighlightNode&&h.pid===f.HighlightNode,I=["node-bdy"];n||I.push("readonly"),O&&I.push("highlight");var M=null,F=null;if(h.isNew&&window.TreeViewerData.NPHDiscoverUI&&(I.push("nphdiscover"),window.TreeViewerData.NPHRoundUI&&I.push("nphround"),h.HasNewPersonHint)){var j=a(f.getChildGid(d));if(j){var L=f.getRelativeType(d);M=j.GetParentHintName(L,19),window.TreeViewerData.NPHRoundUI&&o<4&&(F=j.GetParentHintLifeSpan(L))}}return e.createElement("div",{style:f.getPosition(d),className:"nodeWrapper pedigreeNodeWrapper",ref:y},e.createElement("button",{onClick:n?r:null,onTouchEnd:n?r:null,onKeyDown:n?r:null,id:0===o?"ctl00_MainContent_addYourselfLnk":null,"data-nodeid":d,role:n?"button":null,tabIndex:n?"0":null,className:P.join(" "),"aria-controls":h.pid?"HoverCard-".concat(h.pid):null,onFocus:_,ref:w},e.createElement("span",{className:I.join(" ")},e.createElement(tr,p),e.createElement("span",{className:C.join(" ")},e.createElement("span",{className:"avatarWrap"},!N&&!h.HasData&&window.TreeViewerData.NPHRoundUI&&e.createElement("span",{className:"userCardImg icon ".concat(h.HasNewPersonHint?"iconPersonAdd":"iconPlus")}),!N&&!(!h.HasData&&window.TreeViewerData.NPHRoundUI)&&e.createElement("span",{"aria-hidden":"true",className:(0,pe.GetIconClass)(h,null,k)}),N&&e.createElement("span",{"aria-hidden":"true",className:"nodePhoto userCardImg userCardImgNode userCardImgOriginal"},e.createElement("img",{alt:i,src:N})),!(n&&!h.HasData&&!h.HasNewPersonHint&&o>0)&&e.createElement("span",{className:"hideVisually"},u,". ",function(){switch(h.Gender){case"M":return(0,de.default)("Male");case"F":return(0,de.default)("Female");default:return null}}(),"."),n&&!h.HasData&&(!h.HasNewPersonHint||window.TreeViewerData.NPHDiscoverUI)&&!window.TreeViewerData.NPHRoundUI&&o>0&&e.createElement("span",{className:"icon iconPlus nodePlus".concat((0,pe.GetGender)(h)," nodePlus"),"aria-hidden":"true"})),e.createElement("span",{className:"nodeContent"},e.createElement("span",{className:"vAlignContent"},h.HasData?e.createElement(e.Fragment,null,e.createElement("span",{className:"nodeTitle"},v),!x&&h.LifeSpan?e.createElement("span",{className:"nodeInfo"},h.LifeSpan):null,e.createElement(rr,p)):e.createElement(e.Fragment,null,M&&e.createElement("p",{className:"nodeTitle"},e.createElement("span",null,M),e.createElement("br",null),F&&e.createElement("span",null,F)),(!h.HasNewPersonHint||!window.TreeViewerData.NPHRoundUI)&&e.createElement("p",{className:"nodeTitle".concat(h.HasNewPersonHint&&window.TreeViewerData.NPHDiscoverUI?" nodeTitle400":"")},e.createElement("span",{className:n&&0==o?"icon iconPlus":""},v)))))))),4==o&&(l||h.HasParents)&&!c&&e.createElement(Xn,{onFocus:_,person:h,isLoading:s,expansionToggler:g,nodeId:d,layouter:f}))}ir.propTypes={PersonPageUrl:F().string,clickHandler:F().func,clickable:F().bool,fullName:F().string,generation:F().number,getPersonByGid:F().func,isEditor:F().bool,isExpanding:F().bool,isPrintOnly:F().bool,label:F().string,layouter:F().object,nodeId:F().number,nodeIndicatorProps:F().object,person:F().object,setFocusNodeCoordinates:F().func,title:F().string,toggleExpansion:F().func};var or=ir;function ar(t){var n=(0,e.useRef)(null),r=(0,e.useState)([]),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)(!1),s=(0,ue.Z)(l,2),u=s[0],f=s[1],d=(0,e.useState)(!1),p=(0,ue.Z)(d,2),h=p[0],m=p[1],v=(0,e.useState)(!1),g=(0,ue.Z)(v,2),y=g[0],w=g[1],b=t.layouter,E=t.person,S=t.getPersonByGid,T=t.getPersonsAsync,x=t.PersonPageUrl,k=t.requiredGid,C=t.personSpouses,P=t.showNewBadge;if("function"!=typeof S)throw new Error("missing getPersonByGid function");if(!b||"object"!==(0,c.Z)(b)||"function"!=typeof b.Refresh)throw new Error("missing layouter");function N(e){if(e.stopPropagation(),u)f(!1);else{var t=C.filter((function(e){return!S(e.tgid.v)})).map((function(e){return e.tgid.v.split(":")[0]}));t.length>0?T(t).then((function(){a((0,se.Z)(o)),f(!0)})).catch((function(e){(0,pe.LogError)(e)})):f(!0),y&&((0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.SpouseToggleNewCallout).catch(pe.LogError),w(!1))}}var _=(0,e.useCallback)((function(e){var t=e.target.value,n=E.IsSpouseVisible(t);n&&1===E.VisibleSpouseCount?e.target.checked=!0:t!==k?(f(!1),E.ToggleSpouse(e.target.value),b.Refresh(),b.notifySubscribers(),t!==k&&n&&h&&1===E.VisibleSpouseCount&&window.setTimeout((function(){f(!0)}))):m(!e.currentTarget.checked)}),[h,E,k]);function O(e){e.stopPropagation()}if((0,e.useEffect)((function(){P&&w(!0)}),[P]),(0,e.useEffect)((function(){Array.isArray(C)&&a(C)}),[C]),(0,e.useEffect)((function(){function e(e){e.target===n.current||e.target.closest(".relationshipsCallout")||f(!1)}var t=document.querySelector(".treeViewZoomPanContainer");return u?(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),t&&t.addEventListener("wheel",e)):m(!1),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),t&&t.removeEventListener("wheel",e)}}),[u]),!E||o.length<=1)return null;var I=E.FirstGivenName;return e.createElement(e.Fragment,null,e.createElement("button",{ref:n,onClick:N,onTouchEnd:N,"aria-label":(0,de.default)("relationships.show",{firstName:I}),className:"ancBtn sml silver relationshipsButton icon iconList".concat(y?" newBadge":""),tabIndex:"0",role:"button"}),y&&e.createElement("span",{className:"badge"},(0,de.default)("New")),e.createElement(Ne.Callout,{classes:"relationshipsCallout",position:"left",width:"275",onRequestAction:function(e){"open"!==e.action&&window.setTimeout((function(){f(!1)}))},open:u,trigger:n},e.createElement("div",{onClick:O,onMouseUp:O,onKeyDown:O,onTouchEnd:O},e.createElement("h5",null,(0,de.default)("relationships.header",{firstName:I})),e.createElement("div",{className:"spouseList"},o.sort((function(e,t){return b.TreeData.CompareMarriageDates(E.gid,e.tgid.v,t.tgid.v)})).map((function(t,n){if(!u)return null;var r=t.tgid.v,i=S(r),o=r===k?!h:E.IsSpouseVisible(r),a=o&&1===E.VisibleSpouseCount;function l(e){a&&e.preventDefault()}var s="".concat(r,"-").concat(t.mod).concat(t.t);return e.createElement("div",{key:s,className:"userCard userCardSize2"},e.createElement("div",{className:"profilePicture"},e.createElement(Nn,{person:i})),e.createElement("div",{className:"userCardContent"},e.createElement("div",null,e.createElement("h6",{className:"userCardTitle spouseName".concat(i?"":" loading")},i&&e.createElement("a",{href:"".concat(x,"/").concat(i.pid)},i.IsPrivate?(0,de.default)("Private"):i.FullName)),e.createElement("div",null,i&&function(e){switch(e.mod){case"sps":return(0,de.default)("Spouse");case"sppa":return(0,de.default)("Spouse.Partner");case"spfr":return(0,de.default)("Spouse.Friend");case"spsi":return(0,de.default)("Spouse.Single");case"spo":return(0,de.default)("Spouse.Other");default:return(0,de.default)("Spouse.Unknown")}}(t)))),e.createElement("div",{onClick:l,onTouchEnd:l,onTouchStart:l,onKeyDown:l,className:"toggleButton".concat(a?" readOnly":"")},e.createElement(Ne.Switch,{checked:o,onChange:_,value:r},e.createElement("span",{className:"hideVisually"},i&&(0,de.default)(o?"relationships.hideSpouse":"relationships.showSpouse",{fullName:i.FullName})))))}))),h&&e.createElement(e.Fragment,null,e.createElement("footer",null,e.createElement("button",{className:"ancBtn silver",onClick:function(){m(!1)}},(0,de.default)("cancel")),e.createElement("button",{className:"ancBtn",onClick:function(){E.ToggleSpouse(k),window.SetCfpId(E.pid),f(!1)}},(0,de.default)("apply"))),e.createElement("div",{className:"footnote"},(0,de.default)("relationships.apply"))))))}ar.propTypes={showNewBadge:F().bool,layouter:F().object,person:F().object,personSpouses:F().array,requiredGid:F().string,getPersonByGid:F().func,getPersonsAsync:F().func,PersonPageUrl:F().string};var lr=ar;function sr(t){var n=t.layouter,r=t.getPersonByGid,i=t.nodeId;if("object"!==(0,c.Z)(n)||!n||!Array.isArray(n.nodes))throw new Error("missing required layouter");if("number"!=typeof i||isNaN(i)||i<0||i>n.nodes.length-1)throw new Error("nodeId out of range");if("function"!=typeof r)throw new Error("invalid getPersonByGid");var o=n.nodes[i],a=o.father,l=o.mother,s=(0,se.Z)(o.kids).sort((function(e,t){return e.position.left<t.position.left?-1:1}));function u(t,i){var o=i?r(i.gid):null,a=null;if(o){var l=o.LifeSpan;a=o.FullName+(l?" (".concat(l,")"):"")}else a=(0,de.default)("New");return e.createElement("div",{role:"button",tabIndex:"-1",type:"button",onClick:function(e){e.stopPropagation();var t=n.nodes.indexOf(i);t>=0&&document.querySelector('[data-nodeid="'.concat(t,'"]')).focus()}},(0,de.default)(t),", ",a)}return e.createElement("div",{className:"hideVisually"},e.createElement("h4",null,(0,de.default)("Relationships")),e.createElement("ul",null,a&&e.createElement("li",null,u("Father",a)),l&&e.createElement("li",null,u("Mother",l)),o.spouses.map((function(t,n){if(!t)return null;var r=s.filter((function(e){return t.kids.indexOf(e)>=0}));return e.createElement("li",{key:n},u("Spouse",t),e.createElement("ul",null,r.map((function(t,n){return s.splice(s.indexOf(t),1),e.createElement("li",{key:n},u("Child",t))}))))})),s.length>0&&e.createElement("li",null,e.createElement("ul",null,s.map((function(t,n){return e.createElement("li",{key:n},u("Child",t))}))))))}sr.propTypes={getPersonByGid:F().func,layouter:F().shape({nodes:F().array}),nodeId:F().number};var cr=sr;function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(t){var n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=(0,e.useState)(null),o=(0,ue.Z)(i,2),a=o[0],l=o[1],s=(0,e.useState)(null),u=(0,ue.Z)(s,2),f=u[0],d=u[1],p=(0,e.useState)(null),h=(0,ue.Z)(p,2),m=h[0],v=h[1],g=(0,e.useState)(null),y=(0,ue.Z)(g,2),w=y[0],b=y[1],E=(0,e.useState)(null),S=(0,ue.Z)(E,2),T=S[0],x=S[1],k=(0,e.useState)(null),C=(0,ue.Z)(k,2),P=C[0],N=C[1],_=(0,e.useState)(-1),O=(0,ue.Z)(_,2),I=O[0],M=O[1],F=(0,e.useState)(0),j=(0,ue.Z)(F,2),L=j[0],A=j[1],D=(0,e.useState)(100),R=(0,ue.Z)(D,2),V=R[0],B=R[1],U=(0,e.useRef)(null),H=t.position,G=t.count,z=t.nodeId,Z=t.isLoading,W=t.person,q=t.generation,$=t.onFocus,K=t.onClick,Y=t.layouter,J=t.focusGid;if(!Y||"object"!==(0,c.Z)(Y))throw new Error("missing layouter");if(!H||"string"!=typeof H)throw new Error("invalid position");(0,e.useEffect)((function(){U.current&&V>50&&U.current.scrollHeight>U.current.clientHeight&&B(V-5)}),[U,V]),(0,e.useEffect)((function(){if(W){var e=["ancBtn","sml","silver","icon"];switch(H){case"top":e.push(Y.newFamilyView&&W.VisibleParents(q)?"iconArrowSmallDown":"iconArrowSmallUp"),e.push("expandParents expandTree");break;case"bottom":e.push(W.VisibleChildren(q)?"iconArrowSmallUp":"iconArrowSmallDown"),e.push("expandChildren expandTree");break;case"left":e.push("expandSiblings expandLeft"),e.push(W.VisibleSiblings(q)?"iconArrowSmallRight":"iconArrowSmallLeft");break;case"right":e.push("expandSiblings expandRight"),e.push(W.VisibleSiblings(q)?"iconArrowSmallLeft":"iconArrowSmallRight")}!0===Y.newFamilyView&&Z&&e.push("loading"),l(e.join(" "))}}),[W,q,Y,Z,H]),(0,e.useEffect)((function(){if(W)if(!0===Y.newFamilyView)switch(v(null),H){case"top":d((0,de.default)(W.VisibleParents(q)?"parents.hide":"parents.show"));break;case"bottom":d((0,de.default)(W.VisibleChildren(q)?"children.hide":"children.show"));break;case"left":case"right":d((0,de.default)(W.VisibleSiblings(q)?"siblings.hide":"siblings.show"))}else v((0,de.default)("expand.family.label",{name:W.FullName})),d(null)}),[Y,q,W,H]),(0,e.useEffect)((function(){if(W&&Y&&!0===Y.newFamilyView){var e=!1,t=null,n=null;switch(H){case"top":e=W.VisibleParents(q),t="parents.hide",n="Parents";break;case"bottom":e=W.VisibleChildren(q),t="children.hide",n=G>1?"children.number":"children";break;case"left":case"right":e=W.VisibleSiblings(q),t="siblings.hide",n=G>1?"siblings.number":"siblings"}b((0,de.default)(e?t:n,{number:G}))}}),[W,q,Y,G,H]),(0,e.useEffect)((function(){if(!0===Y.newFamilyView){var e=window.TreeViewerData.Theme;e="string"!=typeof e?null:e.replace("bgDark","").trim(),x(e)}}),[Y]),(0,e.useState)((function(){if(!0===Y.newFamilyView&&"bottom"===H){var e=Y.nodes[z];if(e){var t={position:fr({},e.position),relationToFocus:e.relationToFocus+"C"},n=(0,pe.computeRelativeTypeToFocus)(pe.labels.children,e.relationToFocusText,e.generation-1,e.relationToFocusPrefix,e.relationToFocusSuffix),r=(0,ue.Z)(n,3);t.relationToFocusPrefix=r[0],t.relationToFocusText=r[1],t.relationToFocusSuffix=r[2],N(t);var i=e.SpousesGroup;if(i.length>2){var o=i.indexOf(e);if(o>0&&o<i.length-1){var a=Math.min(o,i.length-o-1);M(i[o+a].position.left+Y.nodeSize.width-i[o-a].position.left+40),A(i[o-a].position.left-e.position.left-20)}}}}}),[Y,z,J,H]);var Q,X,ee=!0===Y.newFamilyView,te=P?Y.getLineText(Y.rootPersonGid,P):null;return Q="".concat(I>0?I:126,"px"),X="".concat(0===L?-19:L,"px"),e.createElement(e.Fragment,null,"bottom"===H&&ee&&te&&e.createElement("div",{ref:U,className:"lineText child",style:{width:Q,fontSize:"".concat(V,"%"),left:X}},e.createElement("span",{className:T},e.createElement("span",{dangerouslySetInnerHTML:{__html:te}}))),e.createElement("button",{ref:r,className:a,"aria-label":f,title:m,onTouchEnd:K,onFocus:$,onClick:K,tabIndex:"0"}),ee&&e.createElement(Ne.Callout,{trigger:r,type:"hover",position:H,ref:n,onAfterOpen:function(e,t){(0,pe.onAfterOpenCallout)(e,t||n.current,H)}},w))}dr.propTypes={position:F().string,count:F().number,nodeId:F().number,focusGid:F().string,onClick:F().func,onFocus:F().func,generation:F().number,person:F().object,layouter:F().object,isLoading:F().bool};var pr=dr;function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mr(t){var n=t.PersonPageUrl,r=t.addPersonTitle,i=t.clickHandler,o=t.clickable,a=t.firstName,l=t.fullName,s=t.generation,c=t.getPersonByGid,u=t.getPersonsAsync,f=t.hasNonVisibleRelatives,d=t.isEditor,p=t.isExpanded,h=t.label,m=t.lastName,v=t.layouter,g=t.nodeId,y=t.nodeIndicatorProps,w=t.onAddRelativeClick,b=t.onChangeFocusClick,E=t.onToggleFamilyClick,S=t.person,T=t.relativeType,x=(t.scale,t.setEditPersonModalPerson),k=t.setFocusNodeCoordinates,C=t.showChildExpander,P=t.showRelationshipsButton,N=t.showSiblingExpander,_=t.showTopExpander,O=(0,e.useState)(!1),I=(0,ue.Z)(O,2),M=I[0],F=I[1],j=(0,e.useState)({}),L=(0,ue.Z)(j,2),A=L[0],D=L[1],R=(0,e.useRef)(null),V=(0,e.useRef)(null),B=(0,e.useState)(!1),U=(0,ue.Z)(B,2),H=U[0],G=U[1],z=(0,e.useState)(0),Z=(0,ue.Z)(z,2),W=Z[0],q=Z[1],$=(0,e.useState)(!1),K=(0,ue.Z)($,2),Y=K[0],J=K[1],Q=(0,e.useState)(!1),X=(0,ue.Z)(Q,2),ee=X[0],te=X[1],ne=(0,e.useState)(!1),re=(0,ue.Z)(ne,2),ie=re[0],oe=re[1],ae=window.screen.width>=1280&&d,le=(0,e.useState)(!1),se=(0,ue.Z)(le,2),ce=se[0],fe=se[1],he=(0,e.useState)(!1),me=(0,ue.Z)(he,2),ve=me[0],ge=me[1];function ye(e){var t=we(e);if(t){var n=parseInt(t.split(":")[0]);if(!isNaN(n))return n}return null}function we(e){if(window.treeDidDrag||e.keyCode&&13!==e.keyCode&&32!==e.keyCode)return null;if(e.stopPropagation(),R.current){var t=parseInt(R.current.dataset.nodeid);if(!isNaN(t))return v.getNodeProperty(t,"gid")}return null}function be(){var e=v.getNodeProperty(g,"Key"),t=e?v.nodes.find((function(t){return t.Key===e})):null;v.FixedNode=t?{key:e,x:t.position.left,y:t.position.bottom}:null}(0,e.useEffect)((function(){ae&&ce&&!S.isNew?(ge(!0),(0,pe.UBETrackScreenState)("TreesUI_TestObjectViewed",{schemaVersion:2,testName:"node_hover",pageviewType:"node_hover_selection",treeId:S.tid,personaId:S.pid})):ge(!1)}),[ce]),(0,e.useEffect)((function(){ge(!1)}),[p]),(0,e.useEffect)((function(){var e=V.current?V.current.getBoundingClientRect():null;if(e){var t=e.x,n=e.y,r=e.width,i=e.height;!A||t===A.x&&n===A.y||D({x:t,y:n,w:r,h:i})}})),(0,e.useEffect)((function(){v&&G(!0===v.newFamilyView)}),[v]),(0,e.useEffect)((function(){if(N&&S){var e=0,t=S.Parents.map((function(e){return v.TreeData.GetPerson(e)})).filter((function(e){return!!e}));t.length>0&&(e=t[0].ChildCount-1,t.length>1&&(e+=t[1].Children.filter((function(e){return t[0].Children.indexOf(e)<0})).length)),q(e)}}));var Ee=(0,e.useCallback)((function(e){var t=ye(e);if(t){if(H){window.ui.callout.close(),be();var n=we(e);return S.VisibleParents(s)||oe(!0),E(n,"parents",s).then((function(){oe(!1)}))}b(t)}}),[H,v,S]),Se=(0,e.useCallback)((function(e){var t=ye(e);if(t){if(H){window.ui.callout.close(),be();var n=we(e);return S.VisibleChildren(s)||te(!0),E(n,"children",s).then((function(){te(!1)}))}b(t)}}),[H,v,S,E]);function Te(e){var t=ye(e);t&&b(t)}if(!S)return null;if(!v||"number"!=typeof g||!v.isVisible(g))return null;s=s||0,o=o||!1,i=i||null;var xe=["nodeFamily","node","node"+(0,pe.GetGender)(S)],ke=v.FocusGid===S.gid&&"FocusPerson"===v.getRelativeType(g),Ce=["bdyWrap","card"];ke&&(xe.push("focus"),Ce.push("bgDark bgColor7")),S.isNew&&(S.HasNewPersonHint?xe.push("nph"):(xe.push("add"),Ce.push("bgDark cardEmpty"))),o||xe.push("readonly");var Pe=S.PrimaryPhoto,Ne=function(e,t){if(!e)return"";switch(t.Gender){case"M":return(0,de.default)("view.his.tree");case"F":return(0,de.default)("view.her.tree");default:return(0,de.default)("view.person.tree")}}(f,S);function _e(e){A&&k&&(k(A),R.current===e.currentTarget&&F(!0))}function Oe(){var t=null,n=null;if(S.HasNewPersonHint&&window.TreeViewerData.NPHDiscoverUI){var i=v.getChildGid(g),l=c(i);if(l){var s=v.getRelativeType(g);t=l.GetParentHintName(s),window.TreeViewerData.NPHRoundUI&&(n=l.GetParentHintLifeSpan(s))}}return e.createElement("span",{className:"nodeContent"},e.createElement("span",{className:"vAlignContent"},S.HasData&&e.createElement(e.Fragment,null,a?e.createElement("span",{className:"nodeTitle"},a):null,m?e.createElement("span",{className:"nodeTitle"},m):null,S.LifeSpan?e.createElement("span",{className:"nodeInfo"},S.LifeSpan):null,e.createElement(rr,y)),!S.HasData&&e.createElement(e.Fragment,null,!r&&e.createElement("span",{className:"loading"}),t&&e.createElement("p",{className:"nodeTitle"},e.createElement("span",null,t),e.createElement("br",null),n&&e.createElement("span",null,n)),(!S.HasNewPersonHint||!window.TreeViewerData.NPHRoundUI)&&e.createElement("p",{className:"nodeTitle".concat(S.HasNewPersonHint&&window.TreeViewerData.NPHDiscoverUI?" nodeTitle400":"")},e.createElement("span",{className:o&&ke?"icon iconPlus":"focusperson"},r)))))}var Ie=!1;if(P)switch(T){case"FocusPerson":case"Father":case"Mother":case"Child":case"Sibling":Ie=!0}var Me=null;if(Ie){var Fe=null,je=v.nodes[g];"Mother"===T?Fe=je.spouses.find((function(e){return e&&"Father"===e.relativeType}))||null:"Father"===T&&(Fe=je.spouses.find((function(e){return e&&"Mother"===e.relativeType}))||null),Fe&&(Me=Fe.gid),1===S.Spouses.length&&0===S.VisibleSpouseCount&&S.ShowSpouse(S.Spouses[0].tgid.v)}var Le=v.HighlightNode&&S.pid===v.HighlightNode,Ae=["userCardSize4","userCardStacked","node-bdy"];return o||Ae.push("readonly"),H&&Ae.push("nfv"),Le&&Ae.push("highlight"),S.isNew&&(window.TreeViewerData.NPHDiscoverUI&&Ae.push("nphdiscover"),window.TreeViewerData.NPHRoundUI&&Ae.push("nphround")),e.createElement("li",null,e.createElement("div",{style:v.getPosition(g),className:"nodeWrapper",ref:V,"data-testid":"family-node"},e.createElement("button",{onClick:o?i:null,onTouchEnd:o?i:null,onFocus:_e,onBlur:function(){setTimeout((function(){return F(!1)}),0)},onKeyDown:o?function(e){if(!e.keyCode||e.keyCode<37||e.keyCode>40)"function"==typeof i&&i(e);else{var t=function(e){var t=parseInt(e.currentTarget.dataset.nodeid),n=v.nodes[t],r=t;switch(e.keyCode){case 37:case 39:r=function(e,t,n){var r=e+(n?-1:1);if(r<0||r>=v.nodes.length||t.generation!==v.nodes[r].generation){var i=v.nodes.filter((function(e){return e.generation===t.generation}));if(i<2)return null;r=v.nodes.indexOf(i[n?i.length-1:0])}return r}(t,n,37===e.keyCode);break;case 38:r=function(e,t){var n=e,r=t.father?Math.abs(t.father.position.left-t.position.left):Number.MAX_SAFE_INTEGER,i=t.mother?Math.abs(t.mother.position.left-t.position.left):Number.MAX_SAFE_INTEGER,o=Math.min(r,i);return o!==Number.MAX_SAFE_INTEGER&&(n=v.nodes.indexOf(o===r?t.father:t.mother)),n}(t,n);break;case 40:r=function(e,t){var n=e;if(t.kids.length>0){var r,i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(t.kids);try{for(o.s();!(i=o.n()).done;){var a=i.value;(!r||Math.abs(a.position.left-t.position.left)<Math.abs(r.position.left-t.position.left))&&(r=a)}}catch(e){o.e(e)}finally{o.f()}n=v.nodes.indexOf(r)}else if(t.childGid){var l=v.nodes.find((function(e){return e.gid===t.childGid}));l&&(n=v.nodes.indexOf(l))}return n}(t,n)}return{clickedId:t,newNodeId:r}}(e),n=t.clickedId,r=t.newNodeId;if(r!==n&&r>=0&&r<v.nodes.length){var o=document.querySelector('[data-nodeid="'.concat(r,'"]'));o&&o.focus()}}}:null,id:S.pid?"".concat(S.pid,":").concat(g):null,"data-nodeid":g,role:o?"button":null,tabIndex:o?"0":null,className:xe.join(" "),ref:R,onMouseEnter:function(){return fe(!0)},onMouseLeave:function(){return fe(!1)}},e.createElement("span",{className:Ae.join(" ")},e.createElement(tr,y),e.createElement("span",{className:Ce.join(" ")},e.createElement("span",{className:"avatarWrap"},!Pe&&!S.HasData&&window.TreeViewerData.NPHRoundUI&&e.createElement("span",{className:"userCardImg icon ".concat(S.HasNewPersonHint?"iconPersonAdd":"iconPlus")}),!Pe&&!(!S.HasData&&window.TreeViewerData.NPHRoundUI)&&e.createElement("span",{"aria-hidden":"true",className:(0,pe.GetIconClass)(S,null,S.HasNewPersonHint)}),Pe&&e.createElement("span",{"aria-hidden":"true",className:"nodePhoto userCardImg userCardImgNode userCardImgOriginal"},e.createElement("img",{alt:l,src:Pe})),e.createElement("span",{className:"hideVisually"},h,". ",function(){switch(S.Gender){case"M":return(0,de.default)("Male");case"F":return(0,de.default)("Female");default:return null}}(),"."),o&&!S.HasData&&S.isNew&&!window.TreeViewerData.NPHRoundUI&&(!S.HasNewPersonHint||window.TreeViewerData.NPHDiscoverUI)&&e.createElement("div",{className:"icon iconPlus nodePlus".concat((0,pe.GetGender)(S)," nodePlus"),"aria-hidden":"true"})),e.createElement(Oe,y))),M&&e.createElement(cr,{layouter:v,getPersonByGid:c,nodeId:g})),!S.isNew&&e.createElement(e.Fragment,null,e.createElement("div",{className:"card drawer ".concat(ve?"drawerActive":""),onMouseEnter:function(){return fe(!0)},onMouseLeave:function(){return fe(!1)}},e.createElement("span",{type:"button",className:"icon iconPersonAdd hoverIcon",title:(0,de.default)("add.relative"),"aria-label":(0,de.default)("add.relative"),onClick:function(){(0,pe.UBELink)("TreesUI_TestObjectClicked",{schemaVersion:3,clickType:"add",treeId:S.tid,personaId:S.pid,testName:"node_hover"});var e=(0,pe.GetAddRelativeTypes)(S);w(e,g)}}),e.createElement("span",{className:"line","aria-hidden":"true"}),e.createElement("span",{type:"button",className:"icon iconEdit hoverIcon",title:(0,de.default)("quick.edit"),"aria-label":(0,de.default)("quick.edit"),onClick:function(){(0,pe.UBELink)("TreesUI_TestObjectClicked",{schemaVersion:3,clickType:"edit",treeId:S.tid,personaId:S.pid,testName:"node_hover"}),x(S)}}))),Ie&&e.createElement(lr,{layouter:v,person:S,personSpouses:S.Spouses,getPersonByGid:c,getPersonsAsync:u,PersonPageUrl:n,requiredGid:Me,showNewBadge:!1!==window.TreeViewerData.ShowNewSpouseToggleBadge}),_&&e.createElement(pr,{position:"top",layouter:v,generation:s,onClick:Ee,onFocus:_e,person:S,isLoading:ie}),C&&e.createElement(pr,{position:"bottom",count:v.TreeData.GetChildren(S).size,focusGid:v.FocusGid,nodeId:g,layouter:v,generation:s,onClick:Se,onFocus:_e,person:S,isLoading:ee}),N&&W>0&&("Father"===T||"FocusPerson"===T||"Mother"===T)&&e.createElement(pr,{position:"Mother"===T||"FocusPerson"===T&&"F"===S.Gender?"right":"left",count:W,layouter:v,generation:s,onClick:function(e){var t=we(e);if(t)return window.ui.callout.close(),be(),S.VisibleSiblings(s)||J(!0),E(t,"siblings",s).then((function(){J(!1)}))},onFocus:_e,person:S,isLoading:Y}),f&&e.createElement("button",{className:"viewTreeExtender",onFocus:_e,onTouchEnd:Te,onKeyDown:Te,onClick:Te,tabIndex:"0"},e.createElement("div",{className:"extenderFork"}),e.createElement("div",{className:"extenderLine"}),e.createElement("div",{className:"extenderLink userCardSize2 userCardStacked",title:Ne},e.createElement("span",{className:"icon iconMale userCardImg userCardImgSquare"}),e.createElement("span",{className:"icon iconFemale userCardImg userCardImgSquare"})))))}mr.propTypes={PersonPageUrl:F().string,addPersonTitle:F().string,clickHandler:F().func,clickable:F().bool,firstName:F().string,fullName:F().string,generation:F().number,getPersonByGid:F().func,getPersonsAsync:F().func,hasNonVisibleRelatives:F().bool,isEditor:F().bool,isExpanded:F().bool,isExpanding:F().bool,label:F().string,lastName:F().string,layouter:F().shape({FixedNode:F().object,FocusGid:F().string,HighlightNode:F().number,Refresh:F().func,TreeData:F().object,getNodeProperty:F().func,getPosition:F().func,getRelativeType:F().func,isVisible:F().func,newFamilyView:F().bool,nodes:F().array,subscribe:F().func,unsubscribe:F().func}),nodeId:F().number,nodeIndicatorProps:F().object,onAddRelativeClick:F().func,onChangeFocusClick:F().func,onToggleFamilyClick:F().func,person:F().shape({FullName:F().string,Gender:F().string,HasData:F().bool,HasNewPersonHint:F().bool,LifeSpan:F().string,Parents:F().array,PrimaryPhoto:F().string,ShowSpouse:F().func,Spouses:F().array,VisibleChildren:F().func,VisibleParents:F().func,VisibleSiblings:F().func,VisibleSpouseCount:F().number,gid:F().string,isNew:F().bool,pid:F().number,tid:F().number}),relativeType:F().string,scale:F().number,setEditPersonModalPerson:F().func,setFocusNodeCoordinates:F().func,setQuickEditPerson:F().func,showChildExpander:F().bool,showRelationshipsButton:F().bool,showSiblingExpander:F().bool,showTopExpander:F().bool,toggleExpansion:F().func};var vr=mr;function gr(t){var n=t.person,r=t.layouter,i=t.generation,o=t.nodeId;if(!n)return null;if(!r||"number"!=typeof o||!r.isVisible(o))return null;var a=function(e,t,n){var r=["fanWedge nodePedigree","node","gen".concat(e)];return 0===e&&r.push("focus"),e>0&&!t.HasData&&r.push(n?"nph":"add"),r}(i=i||0,n,i>0&&!n.HasData&&n.HasNewPersonHint),l=r.getNodeProperty(o,"path"),s=r.getNodeProperty(o,"textPath"),c=n.HasData?[n.GivenName,n.SurnamePlusSuffix,n.LifeSpan].filter((function(e){return e})):[t.title],u=function(e){return 3===c.length?"".concat(25*(e-1)):2===c.length?"".concat(12.5*(0===e?-1:1)):"0"};return e.createElement("svg",{onClick:t.clickable?t.clickHandler:null,onTouchEnd:t.clickable?t.clickHandler:null,onKeyDown:t.clickable?t.clickHandler:null,"data-nodeid":t.nodeId,role:t.clickable?"button":null,tabIndex:t.clickable?"0":null,className:a.join(" ")},e.createElement("g",{className:"node-bdy".concat(t.clickable?"":" readonly")},e.createElement("defs",null,e.createElement("path",{d:s,id:"textPath"+o})),e.createElement("path",{d:l,id:"path"+o}),c.map((function(t,n){return e.createElement("text",{key:n,textLength:"1200"},e.createElement("textPath",{href:"#textPath".concat(o),startOffset:"50%",textAnchor:"middle"},e.createElement("tspan",{dy:u(n)},t)))}))))}gr.propTypes={title:F().string,fullName:F().string,toggleExpansion:F().func,isEditor:F().bool,isExpanded:F().bool,isExpanding:F().bool,nodeId:F().number,generation:F().number,label:F().string,clickable:F().bool,clickHandler:F().func,thrulines:F().bool,possibleMatches:F().bool,confirmedMatches:F().bool,person:F().object,layouter:F().object};var yr=gr;function wr(t){var n=t.layouter,r=t.isEditor,i=t.isFamilyView,o=t.theme;return o="string"!=typeof o?null:o.replace("bgDark","").trim(),n?e.createElement(e.Fragment,null,e.createElement("svg",{id:"TreeLinesSvg"},"function"==typeof n.RenderLines&&n.RenderLines((function(t,o){var a=[];return t.gender&&a.push("parentLine "+t.gender+"Line"),t.isDotted&&a.push("dotted"),(!0===r||!t.new)&&!t.hide&&e.createElement("line",{key:o,x1:t.x1,y1:i?n.Height-t.y1:t.y1,x2:t.x2,y2:i?n.Height-t.y2:t.y2,className:a.length>0?a.join(" "):null})})),"function"==typeof n.RenderPaths&&n.RenderPaths((function(t,i){return Array.isArray(t.v)?function(t,r){var i=t.v,o=t.h,a=i[0],l=Math.min(o.x1,o.x2),s=o.y1===a.y1?a.y2:a.y1,c=s>o.y1?-1:1,u=Math.abs(o.x1-o.x2),f=Math.min(8,u/i.length),d=["M ".concat(l," ").concat(n.Height-(a.x1===l?s:o.y1))];a.x1===l&&(d.push("v ".concat(s-o.y1+(s>o.y1?-f:f))),d.push("a".concat(f,",").concat(f," 0 0 ").concat(c>0?1:0," ").concat(f,",").concat(f*-c))),d.push("h".concat(u-f*i.length));var p=a.x1!==l?a:i[1];return p&&(c=a.y2===p.y1?-1:1,d.push("a".concat(f,",").concat(f," 0 0 ").concat(c>0?1:0," ").concat(f,",").concat(f*c)),d.push("v ".concat((p.y1-p.y2)*-c-f*c))),e.createElement("path",{key:r,d:d.join(" ")})}(t,i):function(t,n){var i=t.v,o=t.h;if((i.new||o.new)&&!r)return null;var a=i.y1,l=i.y2;a>l&&(a=l,l=i.y1);var s=Math.abs(o.x1-o.x2),c=Math.min(8,s),u=o.y1===a,f=["M ".concat(Math.max(o.x1,o.x2)," ").concat(o.y1),"h-".concat(s-c),"a".concat(c,",").concat(c," 0 0 ").concat(u?0:1," ").concat(-c,",").concat(u?c:-c),"v".concat(u?l-a-c:a-l+c)];return e.createElement("path",{key:n,d:f.join(" ")})}(t,i)})),"function"==typeof n.RenderConnectors&&n.RenderConnectors((function(t,o){return(!0===r||!t.new)&&e.createElement("circle",{key:o,cx:t.x,cy:i?n.Height-t.y:t.y,r:"3"})}))),"function"==typeof n.RenderLineText&&n.RenderLineText((function(t,r){return t.t?e.createElement("div",{key:r,className:"lineText".concat(t.ta?" top":""),style:{left:t.x-t.w/2+5,top:n.Height-t.y,width:t.w-10,height:t.h}},e.createElement("span",{className:o},e.createElement("span",{dangerouslySetInnerHTML:{__html:t.t}}))):null}))):null}wr.propTypes={layouter:F().object,isEditor:F().bool,isFamilyView:F().bool,theme:F().string};var br=wr;function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(t){var n=t.style,r=t.spouse,i=t.onAddRelativeClick;return t.focusPerson.HasData?e.createElement("div",{className:"familyList con bgLight",id:"familyList",style:n},e.createElement("footer",{className:"familyFooter sectionBlock"},r.HasData?e.createElement("a",{id:"tvAddRelative",tabIndex:"0",onKeyDown:i,onTouchEnd:i,onClick:i},e.createElement("div",{className:"userCard userCardSize2"},e.createElement("div",{"aria-hidden":"true",className:(0,pe.GetIconClass)(r),role:"presentation"}),e.createElement("div",{className:"userCardContent"},e.createElement("p",{className:"userCardTitle textWrap"},r.FullName)))):e.createElement("a",{className:"icon iconPlus",id:"tvAddRelative","aria-label":(0,de.default)("add.spouse"),tabIndex:"0",onKeyDown:i,onTouchEnd:i,onClick:i},(0,de.default)("add.spouse")))):null}function xr(t){var n=t.OnAddRelativeClick,r=t.OnSetFocus,i=t.OnTreeNodeClick,o=t.PersonPageUrl,a=t.areCommentBadgesEnabled,l=t.getPersonByGid,s=t.getPersonsAsync,c=t.isEditor,u=t.isFamilyView,f=t.layouter,d=t.nodeGids,p=t.renderData,h=t.renderNodes,m=t.scale,v=t.setEditPersonModalPerson,g=t.setFocusNodeCoordinates,y=t.theme,w=t.title,b=t.translation,E=t.view;if("function"!=typeof h)throw new Error("Missing renderNodes function");if(!b)throw new Error("Missing translation property");var S=p||{},T=S.onClick,x=S.onScroll;"number"!=typeof m&&(m=1),m<.2?m=.2:m>2&&(m=2);var k={top:"".concat(b.y,"px"),left:"".concat(b.x,"px"),transform:"scale(".concat(m,")"),transformOrigin:"0 0 ",position:"relative",height:f?f.Height:"auto"};function C(e){if("startped"===E){var t=p.rootPerson;return e===t||t.HasData}return!0}function P(e,t){if("startped"===E){var n=p.spouse,r=p.father,i=p.mother;if(e==p.rootPerson)return(0,de.default)("FocusPerson");if(e==n)return(0,de.default)("Spouse");if(e==r)return(0,de.default)("Father");if(e==i)return(0,de.default)("Mother")}return(0,de.default)(f.getRelativeType(t))}function N(e){if(e.HasData)return e.IsPrivate?(0,de.default)("Private"):e.TruncatedFullName(19);if("startped"===E){var t=p.father,n=p.mother,r=p.rootPerson;return e==r?(0,de.default)("add.homePerson"):e==t?(0,de.default)(r.HasData?"add.father":"Father"):e==n?(0,de.default)(r.HasData?"add.mother":"Mother"):null}return e.NodeTitle||null}function _(e){return e.FirstName}function O(e){return e.LastName}function I(e){return!e.HasData||e.IsPrivate?null:e.FullName}function M(){var e=f.getPosition(0);return{left:e.left+5,top:e.top+f.nodeSize.height,width:e.width-10}}function F(e){var t=e&&e._data&&e._data.Family;return!(!t||!d||!t.find((function(e){if(!e.tgid)return!1;var n=d.indexOf(e.tgid.v)<0;return!n||"F"!==e.t&&"M"!==e.t||(n=t.filter((function(t){return t.t===e.t})).indexOf(e)<=0),n})))}function j(e,t,n){var r="string"==typeof e?l(e):null;if(!r)throw new Error("There is no person with the specified gid");var i=[];switch(t){case"siblings":r.VisibleSiblings(n)||(i=f.findSiblings(e));break;case"children":r.VisibleChildren(n)||(i=r.Children,r.Spouses.filter((function(e){return!!e})).forEach((function(e){var t=l(e.tgid.v);t&&t.Children.forEach((function(e){i.indexOf(e)<0&&i.push(e)}))})));break;case"parents":r.VisibleParents(n)||(i=r.Parents);break;default:throw new Error("invalid relativeType")}var o=[];return i.forEach((function(e){var n=f.TreeData.GetPerson(e);if(n){var r=n.Spouses.map((function(e){return e.tgid.v}));"parents"===t&&r.push.apply(r,(0,se.Z)(n.Parents)),r.forEach((function(e){f.TreeData.GetPerson(e)||o.push(e.split(":")[0])}))}else o.push(e.split(":")[0])})),(o.length>0?s(o):Promise.resolve()).then((function(){switch(t){case"siblings":r.ToggleSiblings(n);break;case"children":r.ToggleChildren(n);break;case"parents":r.ToggleParents(n)}f.Refresh(),f.notifySubscribers()}))}return e.createElement("main",{className:"treeViewZoomPanContainer",onScroll:x||null,onClick:T||null,onTouchEnd:T||null},w?e.createElement("h1",{className:"hideVisually"},w):null,e.createElement("div",{className:"treeWrapper",style:k},e.createElement(br,{layouter:f,isEditor:c,isFamilyView:u,theme:y}),e.createElement("ol",null,h((function t(u,d,y){var w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,b=p.toggleExpansion,S=p.rights,T=p.showThruLines,x=p.showPossibleMatches,k=p.showConfirmedMatches,L=p.rootPids,A=p.setRootPids,D=p.getPersonByNodeId,R=p.focusFamily,V=f.getGeneration(u),B=f.getExpandId(u),U=f.getIsHoverCardExpanded(u),H=w&&w.indexOf(B)>=0,G=f.newFamilyView?f.getNodeProperty(u,"Key"):"".concat(f.FocusGid,"|").concat(u,"|").concat(V,"|").concat(d.pid||""),z=function(e){if(e&&window.$trees&&window.$trees.DnaMatchLinking){var t=window.$trees.DnaMatchLinking.role;return"Owner"===t||"Collaborator"===t||"Manager"===t}return!1}(x),Z=(0,pe.getShowDnaIndicators)(d),W={person:d,thrulines:T,possibleMatches:c&&z&&Z,confirmedMatches:k&&Z,areCommentBadgesEnabled:a};if("family"===E){var q=f.getRelativeType(u),$=function(e,t,n,r){var i={child:e.HasChildren,top:!e.isNew&&(!0===f.newFamilyView?("Father"===t||"Mother"===t)&&(e.HasParents||c):n>2&&e.HasParents),sibling:!1};return!0===f.newFamilyView?(i.child=(i.child||function(e){var t=f.nodes[e];return!!t&&t.spouses.map((function(e){return e?l(e.gid):null})).some((function(e){return!!e&&e.HasChildren}))}(r))&&"Spouse"!==t&&"Father"!==t&&"Mother"!==t,i.sibling=!e.isNew&&e.HasParents):i.child=i.child&&-2===n,i}(d,q,V,u),K=$.child,Y=$.top,J=$.sibling;return e.createElement(vr,{PersonPageUrl:o,addPersonTitle:N(d),clickHandler:i,clickable:!0,firstName:_(d),fullName:I(d),generation:V,getPersonByGid:l,getPersonsAsync:s,hasNonVisibleRelatives:(!f.newFamilyView||"Spouse"===q)&&F(d),isEditor:c,isExpanded:U,isExpanding:H,key:G,label:(0,de.default)(q),lastName:O(d),layouter:f,nodeId:u,nodeIndicatorProps:W,onAddRelativeClick:n,onChangeFocusClick:r,onToggleFamilyClick:j,person:d,relativeType:q,scale:m,setEditPersonModalPerson:v,setFocusNodeCoordinates:g,showChildExpander:K,showRelationshipsButton:!0===f.newFamilyView&&!f.showAllSpouses,showSiblingExpander:J,showTopExpander:Y,toggleExpansion:b})}return"fanchart"===E?e.createElement("li",{key:u},e.createElement(yr,{key:u,isEditor:c,isExpanded:U,isExpanding:H,person:d,generation:V,nodeId:u,layouter:f,clickable:C(d),label:P(d,u),title:N(d),fullName:I(d),clickHandler:i,toggleExpansion:b,thrulines:T,possibleMatches:z,confirmedMatches:k}),y&&e.createElement("ol",{id:"Parents-".concat(u)},y.map((function(e){return h(t,e)})))):e.createElement("li",{key:u},e.createElement(or,{PersonPageUrl:o,clickHandler:i,clickable:C(d),fullName:I(d),generation:V,getPersonByGid:l,isEditor:c,isExpanded:U,isExpanding:H,key:u,label:P(d,u),layouter:f,nodeId:u,nodeIndicatorProps:W,person:d,scale:m,setFocusNodeCoordinates:g,title:N(d),toggleExpansion:b}),0===V&&"startped"===E&&e.createElement(Tr,{style:M(),onAddRelativeClick:n,focusPerson:d,spouse:p.spouse}),0===V&&"startped"!==E&&e.createElement(Jn,{style:M(),onAddRelativeClick:n,rights:S,homePersonPid:L.home,setFocusPerson:function(e){return A(Sr(Sr({},L),{},{focus:e}))},focusPerson:D(0),family:R,setFocusNodeCoordinates:g}),y&&e.createElement("ol",{id:"Parents-".concat(u)},y.map((function(e){return h(t,e)}))))})))))}Tr.propTypes={style:F().object,spouse:F().object,onAddRelativeClick:F().func,focusPerson:F().object},xr.propTypes={OnAddRelativeClick:F().func,OnSetFocus:F().func,OnTreeNodeClick:F().func,PersonPageUrl:F().string,areCommentBadgesEnabled:F().bool,getPersonByGid:F().func,getPersonsAsync:F().func,isEditor:F().bool,isFamilyView:F().bool,layouter:F().shape({FocusGid:F().string,Height:F().number,Refresh:F().func,RenderConnectors:F().func,RenderLines:F().func,TreeData:F().shape({getPerson:F().func}),findSiblings:F().func,getExpandId:F().func,getGeneration:F().func,getIsHoverCardExpanded:F().func,getNodeProperty:F().func,getPosition:F().func,getRelativeType:F().func,newFamilyView:F().bool,nodeSize:F().object,nodes:F().array,notifySubscribers:F().func,showAllSpouses:F().bool}),nodeGids:F().array,renderData:F().shape({father:F().object,focusFamily:F().object,getPersonByNodeId:F().func,mother:F().object,rights:F().object,rootPerson:F().object,rootPids:F().object,setRootPids:F().func,showConfirmedMatches:F().bool,showPossibleMatches:F().bool,showThruLines:F().bool,spouse:F().object,toggleExpansion:F().func}),renderNodes:F().func,scale:F().number,setEditPersonModalPerson:F().func,setFocusNodeCoordinates:F().func,theme:F().string,title:F().string,translation:F().object,view:F().string};var kr=xr;function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nr=120;function _r(t){var n,r,i,o,a=(0,e.useState)(null),l=(0,ue.Z)(a,2),s=l[0],u=l[1],f=(0,e.useState)(null),d=(0,ue.Z)(f,2),p=d[0],h=d[1],m=(0,e.useState)(0),v=(0,ue.Z)(m,2),g=v[0],y=v[1],w=(0,e.useState)(0),b=(0,ue.Z)(w,2),E=b[0],S=b[1],T=(0,e.useState)(null),x=(0,ue.Z)(T,2),k=x[0],C=x[1],P=(0,e.useState)(null),N=(0,ue.Z)(P,2),_=N[0],O=N[1],I=(0,e.useState)(null),M=(0,ue.Z)(I,2),F=M[0],j=M[1],L=(0,e.useState)(0),A=(0,ue.Z)(L,2),D=A[0],R=A[1],V=(0,e.useState)(0),B=(0,ue.Z)(V,2),U=B[0],H=B[1],G=(0,e.useState)(null),z=(0,ue.Z)(G,2),Z=z[0],W=z[1],q=(0,e.useRef)(null),$=t.layouter,K=t.panZoom,Y=t.theme,J=t.onChange,Q=t.isOpen,X=t.onToggleThumbs;if(!K||"object"!==(0,c.Z)(K))throw new Error("missing panZoom property");if("function"!=typeof J)throw new Error("missing onChange property");function ee(e){return"number"!=typeof e&&(e=0),Math.round(e*g*10)/10}function te(e){var t,n;return e.targetTouches?(t=e.targetTouches[0].clientX,n=e.targetTouches[0].clientY):(t=e.clientX,n=e.clientY),{clientX:t,clientY:n}}function ne(e){var t=K.translation,n=t.x,r=t.y,i=te(e),o=i.clientX,a=i.clientY,l=q.current.getBoundingClientRect();if(o<l.left||o>l.right||a<l.top||a>l.bottom){var s=Pr(Pr({},K),{},{translation:{x:K.translation.x-K.scale*((o-l.left-l.width/2)/g),y:K.translation.y+K.scale*((l.top-a+l.height/2)/g)}});J(s),n=s.translation.x,r=s.translation.y}h({x:o,y:a,originalPanX:n,originalPanY:r})}function re(e){h(null),C(null)}function ie(e){if(p&&!($.nodes.length<1)){var t=te(e),n=t.clientX,r=t.clientY,i=K.scale,o=ee(E-$.MinLeft-(p.originalPanX+(p.x-n)/g)/i),a=ee($.MaxBottom-(p.originalPanY+(p.y-r)/g)/i);o>Math.max(Nr,F.width)||o+ee(s.width/i)<0||a>F.height||a+ee(s.height/i)<0||C({x:n,y:r})}}function oe(){return e.createElement("div",null,$.nodes.map((function(t,n){var r=["thumbNode",$.findPersonGender(t.gid)||"unknown"];"focusPerson"===t.relativeType&&r.push("focus");var i={left:"".concat(ee(E+t.position.left-$.MinLeft),"px"),bottom:"".concat(ee(t.position.bottom-$.MinBottom),"px"),width:"".concat(ee(t.position.width),"px"),height:"".concat(ee(t.position.height),"px")};return e.createElement("div",{key:"".concat(n,"-").concat(t.gid),className:r.join(" "),style:i})})))}function ae(){var e=document.querySelector(".treeViewZoomPanContainer");e&&u({height:e.clientHeight,width:e.clientWidth})}return"string"!=typeof Y&&(Y=""),(0,e.useEffect)((function(){O({fn:window.ui&&"function"==typeof window.ui.throttle?window.ui.throttle(J,50,{leading:!1,trailing:!0,debounce:!0}):J})}),[J]),(0,e.useEffect)((function(){if(k&&p&&_&&g){var e=p.originalPanX+(p.x-k.x)/g,t=p.originalPanY+(p.y-k.y)/g;_.fn(Pr(Pr({},K),{},{translation:{x:e,y:t}}))}}),[k,p,g,_,K]),(0,e.useEffect)((function(){return ae(),window.addEventListener("resize",ae),function(){return window.removeEventListener("resize",ae)}}),[]),(0,e.useEffect)((function(){return window.addEventListener("mouseup",re),window.addEventListener("touchend",re),function(){window.removeEventListener("mouseup",re),window.removeEventListener("touchend",re)}}),[]),(0,e.useEffect)((function(){if($&&!($.nodes.length<1)){var e=$.nodeSize.height+$.MaxBottom-$.MinBottom,t=70/e,n=$.nodes[0].position.width+Math.abs($.MinLeft-$.MaxLeft),r=Math.round(t*n*10)/10;s&&s.width-50<r&&(t*=(s.width-50)/r,r=Math.round(t*n*10)/10),y(t),S(r<Nr?Math.round((Nr-r)/2)/t:0),R(r),H(e);var i=null;window.TreeViewerData.NewNavigation&&s&&(s.width<=500||s.height<=405)?(i="".concat(Math.round(Math.max(Nr,r)+50-s.width),"px"),W(i)):W(null)}}),[$,s]),(0,e.useEffect)((function(){U&&D&&g&&j({height:ee(U),width:D})}),[g,D,U]),!$||$.nodes.length<1||!F?null:e.createElement("div",{className:"thumbNav ".concat(Q?"openedNav":"closedNav"),style:{right:Z},role:"region","aria-label":(0,de.default)("thumbnail.label")},!Q&&e.createElement("button",{className:"ancBtn ancBtnIconOnly silver icon iconExpand",type:"button",title:(0,de.default)("open"),onClick:X,"aria-controls":"tConOpened","aria-expanded":"false","aria-label":(0,de.default)("thumbnail.show"),id:"tConClosed"}),Q&&e.createElement("div",{tabIndex:"-1",id:"tConOpened"},e.createElement("button",{className:"link topRightButtons",type:"button",title:(0,de.default)("close"),onClick:X,id:"thumnailNavigatorClose","aria-label":(0,de.default)("thumbnail.close")},e.createElement("span",{className:"icon iconClose","aria-hidden":"true"})),e.createElement("div",{className:"tNavWrap ".concat(Y)},e.createElement("div",{className:"tNavCont",id:"ThumbnailNavCont",style:{minWidth:"".concat(Nr,"px"),maxWidth:"".concat(s?s.width-50:F.width,"px"),height:"".concat(F.height,"px"),width:"".concat(F.width,"px")},onMouseDown:ne,onMouseMove:ie,onTouchStart:ne,onTouchMove:ie,onBlur:re},s&&e.createElement("div",{id:"ThumbnailViewPort",ref:q,className:"moveView ".concat(p?"closehand":"openhand"),style:(n=K.translation,r=n.x,i=n.y,o=K.scale,p&&k&&(r=p.originalPanX+(p.x-k.x)/g,i=p.originalPanY+(p.y-k.y)/g),{left:"".concat(ee(E-$.MinLeft-r/o),"px"),top:"".concat(ee($.MaxBottom-i/o),"px"),width:"".concat(ee(s.width/o),"px"),height:"".concat(ee(s.height/o),"px")})}),e.createElement(oe,null)))))}_r.propTypes={isOpen:F().bool,onToggleThumbs:F().func,layouter:F().object,panZoom:F().object,theme:F().string,onChange:F().func};var Or=_r,Ir=function(t,n){var r=(0,e.useRef)(!1);(0,e.useEffect)((function(){r.current?t():r.current=!0}),n)};function Mr(t){var n=t.layouter,r=(t.isFamilyView,t.persons),i=t.page;return n?e.createElement(e.Fragment,null,"function"==typeof n.RenderPrintNodes&&n.RenderPrintNodes((function(t,i){if(t){var o=r[t.gid],a=n.FocusGid===(o&&o.gid),l={bottom:t.position.bottom,left:t.position.left,height:t.position.height,width:t.position.width};return e.createElement("div",{className:"printNode"+(a?" rootNode":""),key:i,style:l},e.createElement("div",{className:"nodeFamily node"+(o?"":" add")},e.createElement("span",{className:"userCardSize4 userCardStacked node-bdy"},e.createElement("span",{className:"bdyWrap card"+(o?"":" cardEmpty")},e.createElement("span",{className:"avatarWrap"},o&&o.PrimaryPhoto?e.createElement("span",{className:"nodePhoto userCardImg userCardImgNode userCardImgOriginal"},e.createElement("img",{src:o.PrimaryPhoto})):e.createElement("span",{"aria-hidden":"true",className:"icon ".concat(function(e){switch(e){case"M":case"Father":return"iconMale";case"F":case"Mother":return"iconFemale";default:return"iconPerson"}}(o?o.Gender:t.relativeType)," userCardImg userCardImgSquare userCardImgOriginal")})),e.createElement("span",{className:"nodeContent"},e.createElement("span",{className:"vAlignContent"},o?e.createElement(e.Fragment,null,e.createElement("span",{className:"nodeTitle"},o.FirstName),e.createElement("span",{className:"nodeTitle"},o.LastName),e.createElement("span",{className:"nodeInfo"},o.LifeSpan)):e.createElement("span",{className:"nodeTitle"},function(){switch(t.relativeType){case"Father":return(0,de.default)("unknown.father");case"Mother":return(0,de.default)("unknown.mother");default:return(0,de.default)("unknown.parent")}}())))))))}}),i)):null}Mr.propTypes={layouter:F().object,isFamilyView:F().bool,person:F().array,page:F().object};var Fr=Mr,jr=(0,e.memo)((function(t){var n=t.layouter,r=t.persons;if(!n)return null;var i=function(){for(var t=[],i=1300,o=1180,a=n.MaxBottom-n.MinBottom+n.nodeSize.height,l=n.MaxLeft-n.MinLeft+n.nodeSize.width,s=Math.ceil(l/o),c=Math.ceil(a/i),u=n.MaxBottom+Math.max((c*i-a)/2,0),f=-n.MinLeft+Math.max((s*o-l)/2,0),d=1;d<=c;d++)for(var p=1;p<=s;p++)t.push({top:u-i*(d-1),left:f-o*(p-1),height:i,width:o,row:d,column:p});return t.map((function(i){var o,a={top:i.top+10+"px",left:i.left+10+"px"};return i.row&&i.column&&c>1&&(o="".concat((0,de.default)("row.abbreviated")," ").concat(i.row,", ").concat((0,de.default)("column.abbreviated")," ").concat(i.column)),e.createElement("div",{key:t.indexOf(i),className:"printPage"},e.createElement("div",{className:"printPageHeader"},e.createElement("h3",null,e.createElement("span",{className:"treeIcon icon iconTreeFamily"},TreeViewerData.TreeMetaData.name))),e.createElement("div",{className:"printPageBody",style:{height:"1302px",width:"1182px"}},e.createElement("div",{className:"printTreeWrapper",style:a},e.createElement(br,{layouter:n,isEditor:!1,isFamilyView:!0,theme:TreeViewerData.Theme}),e.createElement(Fr,{layouter:n,isFamilyView:!0,persons:r,page:i}))),e.createElement("div",{className:"printPageFooter"},o))}))};return e.createElement("div",{id:"printTree"},e.createElement(i,null))}));jr.propTypes={layouter:F().object,persons:F().object};var Lr=jr;function Ar(t){var n=t.treeId,r=t.treeName,i=t.sidebarFlags,o=t.showModal,a=t.setShowModal,l=(0,de.default)("recent.viewers.guidance.own.tree.title");return e.createElement(Ne.Modal,{open:o,onRequestClose:function(){return a(!1)},title:l},e.createElement("section",{className:"recent-view-guidance"},e.createElement("div",null,e.createElement("strong",null,(0,de.default)("recent.viewers.guidance.own.tree.subtitle1")),e.createElement("p",null,(0,de.default)("recent.viewers.guidance.own.tree.paragraph1"))),e.createElement("div",{className:"guidance-section"},e.createElement("strong",null,(0,de.default)("recent.viewers.guidance.own.tree.subtitle2")),e.createElement("p",null,(0,de.default)("recent.viewers.guidance.own.tree.paragraph2"))),e.createElement("div",{className:"guidance-section"},e.createElement("strong",null,(0,de.default)("recent.viewers.guidance.own.tree.subtitle3")),e.createElement("p",{dangerouslySetInnerHTML:{__html:(0,de.default)("recent.viewers.guidance.own.tree.paragraph3")}})),e.createElement("footer",{className:"guidance-section"},(0,de.default)("recent.viewers.guidance.own.tree.footer.text"),e.createElement("div",{className:"footer-button-container"},e.createElement("button",{className:"ancBtn",type:"button",onClick:function(){return function(e,t,n,r){r(!1);var i=null==n?void 0:n.showRecentChanges,o=null==n?void 0:n.showRecentViews,a=null==n?void 0:n.showComments;Xe(Je.RECENT_VIEWER,e,t,i,o,a)}(n,r,i,a)}},(0,de.default)("recent.viewers.guidance.own.tree.action.button")),e.createElement("button",{className:"ancBtn silver",type:"button",onClick:function(){return a(!1)}},(0,de.default)("recent.viewers.guidance.tree.action.button"))))))}function Dr(t){var n=t.showModal,r=t.setShowModal,i=(0,de.default)("recent.viewers.guidance.visitor.tree.title");return e.createElement(Ne.Modal,{open:n,onRequestClose:function(){return r(!1)},title:i},e.createElement("section",{className:"recent-view-guidance"},e.createElement("div",null,e.createElement("p",{dangerouslySetInnerHTML:{__html:(0,de.default)("recent.viewers.guidance.visitor.tree.line1")}})),e.createElement("div",{className:"guidance-section"},e.createElement("p",{dangerouslySetInnerHTML:{__html:(0,de.default)("recent.viewers.guidance.visitor.tree.line3")}})),e.createElement("footer",{className:"guidance-section"},e.createElement("div",{className:"footer-button-container"},e.createElement("button",{className:"ancBtn",type:"button",onClick:function(){return r(!1)}},(0,de.default)("recent.viewers.guidance.tree.action.button")),e.createElement("a",{href:"/family-tree/pt/StartPed.aspx",className:"ancBtn silver",type:"button"},(0,de.default)("recent.viewers.guidance.no.tree.action.button"))))))}function Rr(t){var n,r=t.showModal,i=t.setShowModal,o=(0,de.default)("recent.viewers.guidance.visitor.tree.title"),a=null===(n=window.TreeViewerData)||void 0===n?void 0:n.RecentlyModifiedOwnedTree;return e.createElement(Ne.Modal,{open:r,onRequestClose:function(){return i(!1)},title:o},e.createElement("section",{className:"recent-view-guidance"},e.createElement("div",null,e.createElement("span",{dangerouslySetInnerHTML:{__html:(0,de.default)("recent.viewers.guidance.visitor.tree.line1")}}),e.createElement("span",null," ",(0,de.default)("recent.viewers.guidance.visitor.tree.line2"))),e.createElement("div",{className:"guidance-section"},e.createElement("p",{dangerouslySetInnerHTML:{__html:(0,de.default)("recent.viewers.guidance.visitor.tree.line4")}})),e.createElement("footer",{className:"guidance-section"},e.createElement("div",{className:"footer-button-container"},e.createElement("button",{className:"ancBtn",type:"button",onClick:function(){return i(!1)}},(0,de.default)("recent.viewers.guidance.tree.action.button")),e.createElement("a",{href:"/family-tree/tree/".concat(a,"/family?showrecentviews=true"),className:"ancBtn silver",type:"button"},(0,de.default)("recent.viewers.guidance.visitor.tree.action.button"))))))}Ar.propTypes={treeId:F().string.isRequired,treeName:F().string,sidebarFlags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool}),showModal:F().bool,setShowModal:F().func},Dr.propTypes={showModal:F().bool,setShowModal:F().func},Rr.propTypes={showModal:F().bool,setShowModal:F().func};var Vr,Br=n(644),Ur=n.n(Br);function Hr(t){var n=t.treeId,r=t.treeName,i=t.sidebarFlags,o=t.showModal,a=t.setShowModal,l=[zr.Introducing,zr.Tasks,zr.TrackChanges,zr.RecentViews];return e.createElement(Ne.Modal,{open:o,onRequestClose:function(){return a(!1)},width:343,useCustomPadding:!0},e.createElement("section",{className:"introducing-activity-modal"},e.createElement(Ne.Carousel,{disabledBtnClass:"noDisplay",pagination:"dots",carouselHeight:"varied"},l.map((function(t){return e.createElement(Gr,{key:t,slide:t})}))),e.createElement("div",{className:"modalFooter"},e.createElement("button",{className:"ancBtn full lrg",type:"button",onClick:function(){a(!1),Xe(Je.RECENT_CHANGES,n,r,null==i?void 0:i.showRecentChanges,null==i?void 0:i.showRecentViews,null==i?void 0:i.showComments)}},(0,de.default)("introducing.activity.modal.actionButton")))))}var Gr=function(t){var n=t.slide,r=(0,de.default)("introducing.activity.modal.".concat(Wr[n],".title")),i=(0,de.default)("introducing.activity.modal.".concat(Wr[n],".body.line1")),o=(0,de.default)("introducing.activity.modal.".concat(Wr[n],".body.line2")),a=o!=="introducing.activity.modal.".concat(Wr[n],".body.line2"),l=Zr(n);return e.createElement(Ne.Carousel.Slide,null,e.createElement("header",{className:"modalHeader"},e.createElement("div",{className:"newBadge badge badgeSize1"},(0,de.default)("New")),e.createElement("div",{className:"imageWrapper"},e.createElement("img",{src:l,alt:""}))),e.createElement("div",{className:"modalText"},e.createElement("h3",{className:"bold text3xlrg"},r),e.createElement("p",null,i),a&&e.createElement("p",null,o)))},zr={Introducing:"Introducing",Tasks:"Tasks",TrackChanges:"TrackChanges",RecentViews:"RecentViews"},Zr=function(e){var t,n,r,i;switch(e){case zr.Introducing:return null===(t=window.TreeViewerData)||void 0===t?void 0:t.peopleImageUrl;case zr.Tasks:return null===(n=window.TreeViewerData)||void 0===n?void 0:n.taskImageUrl;case zr.TrackChanges:return null===(r=window.TreeViewerData)||void 0===r?void 0:r.userCardsSidebarImageUrl;case zr.RecentViews:return null===(i=window.TreeViewerData)||void 0===i?void 0:i.userCardsImageUrl}},Wr=(Vr={},(0,ce.Z)(Vr,zr.Introducing,"intro"),(0,ce.Z)(Vr,zr.Tasks,"tasks"),(0,ce.Z)(Vr,zr.TrackChanges,"track"),(0,ce.Z)(Vr,zr.RecentViews,"views"),Vr);function qr(t){var n=t.treeId,r=t.treeName,i=t.guidanceFlag,o=t.sidebarFlags,a=(0,e.useState)(!0),l=(0,ue.Z)(a,2);return function(t,n,r,i,o){switch(r){case Ur().OwnTree:return e.createElement(Ar,h({treeId:t,treeName:n,sidebarFlags:i},o));case Ur().VisitorWithNoTree:return e.createElement(Dr,o);case Ur().VisitorWithOneTree:case Ur().VisitorWithManyTrees:return e.createElement(Rr,o);case Ur().IntroducingActivity:return e.createElement(Hr,h({treeId:t,treeName:n,sidebarFlags:i},o));default:return null}}(n,r,i,o,{showModal:l[0],setShowModal:l[1]})}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,ce.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Hr.propTypes={treeId:F().string.isRequired,treeName:F().string,sidebarFlags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool}),showModal:F().bool,setShowModal:F().func},Gr.propTypes={slide:F().oneOf(Object.values(zr))},qr.propTypes={treeId:F().string.isRequired,treeName:F().string,guidanceFlag:F().string.isRequired,sidebarFlags:F().shape({showRecentChanges:F().bool,showRecentViews:F().bool,showComments:F().bool})};var Qr,Xr=n(1853),ei=n(9920),ti=n(5467),ni=n(7105);function ri(e){return window.ui&&"function"==typeof window.ui.throttle?window.ui.throttle(e,1e3,{leading:!1,trailing:!0,debounce:!0}):e}n(2702).polyfill(),n(4301),n(8264),n(3241);var ii=100,oi=new Set,ai="TreesUI-FamilyViewToggleState",li=ri((function(e,t,n){"fanchart"===e?e="pedigree":"family"===e&&(e="newfamily");var r="/api/treeviewer/updatetmzp?tid=".concat(t,"&view=").concat(e,"&zoom=").concat(n.ViewState.ZoomFactor,"&locTop=").concat(n.ViewState.Position.Y,"&locLeft=").concat(n.ViewState.Position.X,"&scroll=0"),i=new Headers({"cache-control":"no-cache"});return fetch(r,{credentials:"same-origin",method:"POST",cache:"no-cache",headers:i})}));function si(e){switch(e){case"mouse wheel zoom in":case"zoom in":e="zoom_in";break;case"mouse wheel zoom out":case"zoom out":e="zoom_out";break;case"home person click":e="home";break;case"undo zoom":e="undo_zoom"}(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:e})}var ci=ri((function(e){si("mouse wheel zoom ".concat(e?"in":"out"))})),fi=ri((function(e,t){var n=new Headers({Accept:"application/json","Content-Type":"application/json"});return fetch("/api/treeviewer/tree/".concat(e,"/togglestate"),{credentials:"same-origin",method:"POST",cache:"no-cache",headers:n,body:t})})),di=Object.freeze({add:"AddPerson",edit:"EditPerson",eval:"Eval",preview:"PreviewPerson"});function pi(t){var n=t.query,r=t.treeId,i=t.TreeViewerData;if(!i||"object"!==(0,c.Z)(i)||!i.Properties||"object"!==(0,c.Z)(i.Properties))throw new Error("missing TreeViewerData");window.TreeViewerData.treeId=r;var o=(0,e.useState)({width:1e3,height:485}),a=(0,ue.Z)(o,1),l=a[0],s=(0,e.useState)([]),u=(0,ue.Z)(s,2),f=u[0],d=u[1],p=(0,e.useState)([]),h=(0,ue.Z)(p,2),m=h[0],v=h[1],g=(0,e.useState)({}),y=(0,ue.Z)(g,2),w=y[0],b=y[1],E=(0,e.useState)({}),S=(0,ue.Z)(E,2),T=S[0],x=S[1],k=(0,e.useState)([]),C=(0,ue.Z)(k,2),P=C[0],N=C[1],_=(0,e.useState)(null),O=(0,ue.Z)(_,2),I=O[0],M=O[1],j=(0,e.useState)({}),L=(0,ue.Z)(j,2),A=L[0],D=L[1],R=(0,e.useState)(null),V=(0,ue.Z)(R,2),B=V[0],U=V[1],H=(0,e.useState)(!1),G=(0,ue.Z)(H,2),z=G[0],Z=G[1],W=(0,e.useState)(!1),q=(0,ue.Z)(W,2),$=q[0],K=q[1],Y=(0,e.useState)(null),J=(0,ue.Z)(Y,2),Q=J[0],X=J[1],ee=(0,e.useState)(i.RootPids||{focus:null,home:null}),te=(0,ue.Z)(ee,2),ne=te[0],re=te[1],ie=(0,e.useState)(0),oe=(0,ue.Z)(ie,2),ae=oe[0],le=oe[1],ce=(0,e.useState)(null),he=(0,ue.Z)(ce,2),me=he[0],ve=he[1],ge=(0,e.useState)(("pedigree"===(i.View||"pedigree")?i.Properties["TreesUI-TreeMapExpandedNodes"]:null)||{}),ye=(0,ue.Z)(ge,2),we=ye[0],be=ye[1],Ee=(0,e.useState)([]),Se=(0,ue.Z)(Ee,2),xe=Se[0],ke=Se[1],Ce=(0,e.useState)(null),_e=(0,ue.Z)(Ce,2),Oe=_e[0],Me=_e[1],je=(0,e.useState)(null),Ae=(0,ue.Z)(je,2),Re=Ae[0],Ve=Ae[1],Be=(0,e.useState)(!1),Ue=(0,ue.Z)(Be,2),He=Ue[0],Ge=Ue[1],ze=(0,e.useState)(!1),Ze=(0,ue.Z)(ze,2),qe=Ze[0],$e=Ze[1],Ke=(0,e.useState)(null),Ye=(0,ue.Z)(Ke,2),Je=Ye[0],Qe=Ye[1],Xe=(0,e.useState)(null),et=(0,ue.Z)(Xe,2),tt=et[0],nt=et[1],rt=(0,e.useState)(null),it=(0,ue.Z)(rt,2),ot=it[0],at=it[1],lt=(0,e.useState)({}),st=(0,ue.Z)(lt,1)[0],ct=(0,pe.useWindowDimensions)(),ut=(0,e.useState)(null),ft=(0,ue.Z)(ut,2),dt=ft[0],pt=ft[1],ht=(0,e.useState)(!1),mt=(0,ue.Z)(ht,2),vt=mt[0],gt=mt[1],yt=(0,e.useState)(!(i.NewNavigation&&window.innerWidth<768)),wt=(0,ue.Z)(yt,2),bt=wt[0],Et=wt[1],Tt=(0,e.useState)(null),kt=(0,ue.Z)(Tt,2),Ct=kt[0],Nt=kt[1],Ot=(0,e.useState)(null),It=(0,ue.Z)(Ot,2),Mt=It[0],Ft=It[1],jt=(0,e.useState)(null),Lt=(0,ue.Z)(jt,2),At=Lt[0],Rt=Lt[1],Vt=(0,e.useState)(null),Bt=(0,ue.Z)(Vt,2),Ut=Bt[0],Ht=Bt[1],zt=(0,e.useState)(null),Zt=(0,ue.Z)(zt,2),Wt=Zt[0],qt=Zt[1],$t=(0,e.useState)(0),Kt=(0,ue.Z)($t,2),Yt=Kt[0],Jt=Kt[1],Qt=(0,e.useState)(!1),Xt=(0,ue.Z)(Qt,2),en=Xt[0],tn=Xt[1],nn=(0,e.useState)(!1),rn=(0,ue.Z)(nn,2),on=rn[0],an=rn[1],ln=Dt({TreeViewerData:i,getDefaultPanZoom:so}),sn=(0,e.useState)({scale:1,translation:{x:70,y:0}}),cn=(0,ue.Z)(sn,2),un=cn[0],fn=cn[1],dn=(0,e.useState)(null),pn=(0,ue.Z)(dn,2),hn=pn[0],mn=pn[1],vn=(0,e.useState)(null),gn=(0,ue.Z)(vn,2),yn=gn[0],wn=gn[1],bn=(0,e.useState)(0),En=(0,ue.Z)(bn,2),Sn=En[0],Tn=En[1],kn=(0,e.useState)(null),Pn=(0,ue.Z)(kn,2),Nn=Pn[0],_n=Pn[1],In=(0,e.useRef)(null),Fn=(0,e.useState)({__html:"loading..."}),jn=(0,ue.Z)(Fn,2),An=jn[0],Dn=jn[1],Bn=(0,e.useState)(null),Un=(0,ue.Z)(Bn,2),Hn=Un[0],Gn=Un[1],zn=(0,e.useState)(null),Zn=(0,ue.Z)(zn,2),Wn=Zn[0],$n=Zn[1],Kn=(0,e.useState)({}),Yn=(0,ue.Z)(Kn,2),Jn=Yn[0],Qn=Yn[1],Xn=(0,e.useState)({}),er=(0,ue.Z)(Xn,2),tr=er[0],nr=er[1],rr=(0,e.useState)(!1),ir=(0,ue.Z)(rr,2),or=ir[0],ar=ir[1],lr=(0,e.useState)(!1),sr=(0,ue.Z)(lr,2),cr=sr[0],ur=sr[1],fr=(0,e.useState)(!1),dr=(0,ue.Z)(fr,2),pr=dr[0],hr=dr[1],mr=(0,e.useState)(null),vr=(0,ue.Z)(mr,2),gr=vr[0],yr=vr[1],wr=(0,e.useState)(!1),br=(0,ue.Z)(wr,2),Er=br[0],Sr=br[1],Tr=(0,e.useState)(null),xr=(0,ue.Z)(Tr,2),Cr=xr[0],Pr=xr[1],Nr=(0,e.useState)(null),_r=(0,ue.Z)(Nr,2),Mr=_r[0],Fr=_r[1],jr=(0,e.useState)([]),Ar=(0,ue.Z)(jr,2),Dr=Ar[0],Rr=Ar[1],Vr=(0,e.useState)({}),Br=(0,ue.Z)(Vr,2),Ur=Br[0],Hr=Br[1],Gr=(0,e.useState)(!1),zr=(0,ue.Z)(Gr,2),Zr=zr[0],Wr=zr[1],$r=(0,e.useState)(!1),Jr=(0,ue.Z)($r,2),ri=Jr[0],pi=Jr[1],hi=(0,e.useState)(70),mi=(0,ue.Z)(hi,2),vi=mi[0],gi=mi[1],yi=(0,e.useState)(null),wi=(0,ue.Z)(yi,2),bi=wi[0],Ei=wi[1],Si=(0,e.useState)(null),Ti=(0,ue.Z)(Si,2),xi=Ti[0],ki=Ti[1],Ci=(0,e.useState)(null),Pi=(0,ue.Z)(Ci,2),Ni=Pi[0],_i=Pi[1],Oi=(0,e.useState)({}),Ii=(0,ue.Z)(Oi,2),Mi=Ii[0],Fi=Ii[1],ji=(0,e.useState)(!!window.TreeViewerData.UrlPrefix.QuickEdit),Li=(0,ue.Z)(ji,1)[0],Ai=(0,e.useState)(!!window.TreeViewerData.UrlPrefix.AddPersonModal),Di=(0,ue.Z)(Ai,1)[0],Ri=(0,e.useState)(null),Vi=(0,ue.Z)(Ri,2),Bi=Vi[0],Ui=Vi[1],Hi=(0,e.useState)(null),Gi=(0,ue.Z)(Hi,2),zi=Gi[0],Zi=Gi[1],Wi=(0,e.useState)(null),qi=(0,ue.Z)(Wi,2),$i=qi[0],Ki=qi[1],Yi=(0,e.useState)(null),Ji=(0,ue.Z)(Yi,2),Qi=Ji[0],Xi=Ji[1],eo=(0,e.useCallback)((function(e){var t=e.data&&"object"===(0,c.Z)(e.data)?e.data:{};if(B instanceof ti){var n=t.lineLabels,r=t.allSpouses;"boolean"==typeof n&&(i.ShowLineLabels=n,B.Refresh()),"boolean"==typeof r&&(i.ShowAllSpouses=r,B.toggleAllSpouses(r))}}),[B]);n=n||{},r=(0,pe.ValidateNumberId)(r);var to=i.Rights,no=to&&to.ed,ro="family"===i.View,io="fanchart"===i.View,oo=(0,pe.getSidebarFlags)(i);function ao(e){var t,n,r=document.querySelector(e),i=so(un.scale),o=document.querySelector(".nodeFamily.node.focus");o&&(t=o.getBoundingClientRect()),r&&(n=r.getBoundingClientRect()),o&&r&&fn({scale:1,translation:{x:Number(i.translation.x)+t.x-n.x,y:Number(i.translation.y)+t.y-n.y}})}function lo(e){if(B){e||si("undo zoom");var t=e?un.scale:1;fn(so(t))}}function so(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(ro){var r=window.innerHeight/2-(B?B.nodeSize.height/2:72)*n,o=B&&B.nodes.length>0?B.getPosition(0).height/2:72;e=window.innerWidth/2-(B?B._width/2:260)*n,t=r-o*n}else{var a,l=window.innerHeight/2-(B?B.nodeSize.height/2:20)*n,s=B?B.getPosition(0):{top:0};e=vi*(i.NewNavigation&&((null===(a=document.querySelector(".newLeftNav"))||void 0===a?void 0:a.offsetWidth)||0)<100?2:1),t=s?l-s.top*n:un.translation.y}return{scale:n,translation:{x:e,y:t}}}function co(){window.location.assign("/family-tree/pt/SelectMe.aspx?tid=".concat(r,"&hp=1&redirected=true"))}function uo(e){0!==e.length&&Vo(e).then((function(e){e&&Array.isArray(e.Persons)&&e.Persons.length>0&&Mo(!0)})).catch(pe.LogError)}function fo(e){return e.father&&e.father.isNew||e.mother&&e.mother.isNew||Array.isArray(e.parents)&&e.parents.some((function(e){return e.isNew}))}function po(e,t){var n=t.x-Math.round(window.innerWidth/3),r=t.y-Math.round(window.innerHeight/3);if(isNaN(n)||isNaN(r))return{};var i=Kr({},e);return i.translation.x=(i.translation.x||0)-n,i.translation.y=(i.translation.y||0)-r,{xDiff:n,yDiff:r,newPanZoom:i}}(0,e.useEffect)((function(){if(!dt){var e=new Pe([window.TreeViewerData.RootPids]);pt(e);var t=window.TreeViewerData.Properties["TreesUI-TreeMapFocusPersonHistory"];Array.isArray(t)&&ve({History:t})}}),[dt]),(0,e.useEffect)((function(){if(Qe(null),yr(null),dt&&r&&ne.focus){if(window.history.replaceState){n.cfpid=ne.focus;var e=new URL(window.location.href);e.search="?".concat(fe.stringify(n)),(!window.history.state||window.history.state&&window.history.state.path!==e.href)&&window.history.replaceState({path:e.href,rootPids:ne},"",e.href)}var t,i,o=dt.GetPerson("".concat(ne.focus,":1030:").concat(r));o&&(o.VisibleChildren(0,!0),dt.ShowParents(o.gid)),t=ne.focus,i=r,Mo().then((function(){return lo(!0)})),fetch("/api/treeviewer/setFocusPid?tid=".concat(i,"&cfpId=").concat(t),{credentials:"same-origin",method:"POST",cache:"no-cache"}).then((function(){return fetch("/api/treeviewer/getFocusHistory?tid=".concat(i,"&ts=").concat(Date.now()),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then((function(e){if(!e.ok)throw new Error("Unsuccessful getFocusHistory response");return e.json()})).then((function(e){ve(e?{History:e.History||[]}:null)}))})).catch((function(e){return(0,pe.LogError)(e)}))}}),[dt,ne,r]),(0,e.useEffect)((function(){window.addEventListener("printTree",(function(e){window.ui.callout.close(),gt(!0),setTimeout((function(){return window.print()}),10)})),window.onbeforeprint=function(){setTimeout((function(){gt(!0)}),100)},window.onafterprint=function(){setTimeout((function(){gt(!1)}),100)}}),[]),(0,e.useEffect)((function(){var e="UpdateShowTreeComments",t=function(e){var t;return Wr(null==e||null===(t=e.detail)||void 0===t?void 0:t.showTreeComments)};return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}),[]),(0,e.useEffect)((function(){var e,t,n;Ei(new Rn(i.UrlPrefix.TreesDna)),null!==(e=i.NPH)&&void 0!==e&&e.show&&_i(new Vn(r)),i.CommentBadges&&(ki(new qn(r)),Wr("True"!==(null===(t=i.Properties)||void 0===t||null===(n=t["TreesUI-TreeLayersSettings"])||void 0===n?void 0:n.hideTreeComments)))}),[i]),(0,e.useEffect)((function(){var e=i.NPH,t=i.View;null!=e&&e.show&&"error"!==t&&Ie.loadStyleSheetFile("https://www.ancestrycdn.com/hintsui-newpersonhints/1.1.0-2023-05-18-205/css/bundle/nphtreeviewerbundle.css","nphbundle")}),[]),(0,e.useEffect)((function(){var e=0,t=window.setInterval((function(){e++,window.ancestry.coco&&(window.clearInterval(t),window.ancestry.coco.register({handleResult:function(e,t,n,r,i){Xi({actionName:t,result:r})}}),window.ancestry.coco.onChange("person.updated",(function(e){Xi(e)})),window.ancestry.coco.onChange("hints-eval.hint-updated",(function(e){"SUCCESS"===e.action&&Ki(e)})),window.ancestry.coco.onChange("hints-eval.person-updated",(function(e){"suggestion"===e.recommendationType&&Xi({actionName:di.eval,result:e})}))),e>5&&window.clearInterval(t)}),500)}),[]),(0,e.useEffect)((function(){var e=i.AskFamily,t=i.GetHelp,n=i.View;if(t&&e&&e.show&&e.shareId&&"error"!==n)var o=0,a=window.setInterval((function(){o++,window.ancestry.coco&&(window.clearInterval(a),window.ancestry.coco.perform(di.eval,{treeId:r,personId:ne.focus,flowId:"ADD_SUGGESTIONS",data:{shareId:e.shareId,shareToken:e.shareToken}})),o>5&&window.clearInterval(a)}),500)}),[]),(0,e.useEffect)((function(){var e=i.showQuickEdit,t=i.View;if(B&&dt&&e&&"error"!==t){if(i.showQuickEdit=!1,i.SidePanelEdit){var n=Co("".concat(ne.focus,":1030:").concat(r));Go(di.edit,n)}else Ie.QuickEditModal("edit",{tid:r,pid:ne.focus},Do,Ro,pr?Wn:null);var o=new URL(window.location.href),a=new URLSearchParams;a.cfpid=ne.focus,o.search="?".concat(fe.stringify(a)),(!window.history.state||window.history.state&&window.history.state.path!==o.href)&&window.history.replaceState({path:o.href,rootPids:ne},"",o.href)}}),[B,dt]),(0,e.useEffect)((function(){if(tt&&Li){var e=tt.tid,t=tt.pid;if(i.SidePanelEdit){var n=Co("".concat(t,":1030:").concat(r));Qe(null),nt(null),Go(di.edit,n)}else Ie.QuickEditModal("edit",{tid:e,pid:t},Do,Ro,pr?Wn:null)}}),[tt,Li,pr,Wn]),(0,e.useEffect)((function(){if(on&&At&&Wt&&Di){var e=Wt.tid,t=Wt.pid,n=Mt,r=At;Ie.QuickEditModal("add",{tid:e,pid:t,gen:n,rel:r},jo,ia,pr?Wn:null)}}),[on,Di,pr,Wn]);var ho,mo,vo=!!i.IsMatchesToTrees&&"dnatrees"===(null===(ho=i.TreeMetaData)||void 0===ho?void 0:ho.org)&&(null===(mo=window.TreeViewerData.sampleId)||void 0===mo?void 0:mo.length)>0;function go(e){var t=e?B.nodes.find((function(t){return t.gid==="".concat(e,":1030:").concat(r)})):null;return t?document.querySelector('[data-nodeid="'.concat(B.nodes.indexOf(t),'"]')):null}function yo(e){if(e){var t=e.getBoundingClientRect();if(t){var n=po(un,t),r=n.newPanZoom,i=n.xDiff,o=n.yDiff;r&&(t.x-=i,t.y-=o,isNaN(r.translation.x)||isNaN(r.translation.y)||fn(r),at({target:e,rect:t}))}}}function wo(e,t){var n=B.nodes.find((function(t){return t.gid===e}));if(!n)return null;var r=ro?n[t]:n.parents.find((function(e){return e.relativeType===t}));return r?document.querySelector('[data-nodeid="'.concat(B.nodes.indexOf(r),'"]')):null}function bo(e,t,n){var i=e.split(":")[0];(0,pe.UBELink)("CoreUI_RecommendationObjectViewed",{schemaVersion:5,flow:"tree_viewer",treeId:r,personaId:i,subFlow:"m"==n?"potential_mother":"potential_father",hintId:t,objectType:"newperson"})}function Eo(e){if(e&&f){var t=e.data;if(t){var n=t.pid,i=t.tags,o=t.custom;if(o){var a=o.customTagAction,l=o.tagTitleOriginal,s=o.tagTitle;"deleting"!==a&&"editing"!==a||(f.filter((function(e){return e.HasTags})).forEach((function(e){var t=0;switch(a){case"deleting":for(;t<e.Tags.length;){if(e.Tags[t].title===s){e.Tags.splice(t,1);break}t++}break;case"editing":e.Tags.forEach((function(e){e.title===l&&(e.title=s)}))}})),d((0,se.Z)(f)))}else{var c=Co("".concat(n,":1030:").concat(r));c&&(c.Tags=i?i.map((function(e){return{v:e,title:e}})):null,d((0,se.Z)(f)))}}}}function So(e,t){if(!e||e.length<1)return Promise.resolve();if("number"!=typeof t&&(t=0),e.length>50){for(var n=[];e.length>0;)n.push(So(e.splice(0,50)));return Promise.all(n)}return fetch("/api/treeviewer/hints/tree/".concat(r,"?pid=").concat(e.join("&pid=")),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then(pe.HandleJsonResponse).then((function(e){var n=Object.keys(e).filter((function(t){return e[t]<0}));if(n.length>0){var r=2e3*Math.pow(3,t);window.setTimeout((function(){return So(n,t+1)}),r)}M(e)}))}function To(e){e.forEach((function(e){e.Hints=w&&w[e.pid]||0,e.Comments=Ur&&Ur[e.pid]||0,e.ThruLinesUrl=Jn&&Jn[e.pid]||null,e.Match=tr&&tr[e.gid]||null,function(e){var t=i.NPH,n=t.show,r=t.openId;if(e&&n&&to&&to.ed&&e.HasMissingParent){var o=T[e.gid]||null;o&&(e.NewPersonHints=o,r&&(o.father&&o.father.hid===r?Ui({fullRelation:"father",openId:r,person:e}):o.mother&&o.mother.hid===r&&Ui({fullRelation:"mother",openId:r,person:e})))}}(e)})),d((0,se.Z)(e))}function xo(e,t){if(!e||!t)return!1;if(t.Parents.length!==e.Parents.length)return!1;var n,r=Yr(t.Parents);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.Parents.indexOf(i)<0)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}function ko(e){var t=i.View||"pedigree",n="/api/treeviewer/tree/";"fanchart"===t&&(t="pedigree");var o=["focusPersonId=".concat(e),"isFocus=".concat(e===ne.focus),"view=".concat(t)];"family"===t&&(!0===i.UseNewFamilyView?(n="/api/treeviewer/tree/newfamilyview/",o.push("genup=4"),o.push("gendown=2")):n="/api/treeviewer/tree/familyview/");var a=st[e]||fetch("".concat(n).concat(r,"?").concat(o.join("&"),"&ts=").concat(Date.now()),{credentials:"same-origin",headers:{"Accept-Language":i.Language},method:"GET",cache:"no-cache"}).then((function(e){if(!e.ok)throw e.status;return e.json()}));return st[e]=a,a}function Co(e){return e&&0!==e.indexOf("null")?dt.GetPerson(e):null}function Po(){return B?Co(B.FocusGid):null}function No(e){var t=B?B.getNodeProperty(e,"gid"):null;return t?Co(t):null}function _o(e){B&&Array.isArray(e)&&(Tn(e.length),wn(JSON.stringify(e.slice(0,25))))}function Oo(e){if(!(window.treeDidDrag||e.keyCode&&13!==e.keyCode&&32!==e.keyCode)){var t,n,o,a,l,s,c,u=parseInt(e.currentTarget.dataset.nodeid),f=No(u);Jt(u),qt(f),(0,pe.UBELink)("TreesUI_ObjectClicked",{schemaVersion:1,clickType:"tree_node_click",treeId:r,personaId:f?f.pid:null,isMatchToTreeConnected:pr&&f&&!0===f.HasConfirmedMatch}),f?i.SidePanelNode?Go(di.preview,f):(function(e,t){(i.SidePanelAdd||i.SidePanelEdit)&&document.body.dispatchEvent(new CustomEvent("sidepanel-cleanup")),Qe(e),yr(null),Io(t)}(f,e.currentTarget),B&&B.setIsHoverCardExpanded(u)):(t=u,n=e.currentTarget,o=Co(B.getChildGid(t)),a=B.getRelativeType(t),l=B.getGeneration(t),s="Father"==a?"f":"m",c="Father"==a?"M":"F",Qe(null),qt(o),o&&o.HasParentHint(a)?(yr({person:o,relation:s,gender:c,generation:l}),Io(n)):(yr(null),i.SidePanelAdd?Go(di.add,o,{relationship:a.toLowerCase(),gender:c}):Fo(s,c,l)))}}function Io(e){at({target:e,rect:e.getBoundingClientRect()})}function Mo(e,t){if(!ne.focus)return Promise.resolve();if(an(!1),e||$e(!1),!e)for(var n in st)Object.prototype.hasOwnProperty.call(st,n)&&delete st[n];if(e&&Array.isArray(t)&&t.length>0)return Vo(t).then((function(){return ke((0,se.Z)(xe))})).catch(pe.LogError);var o=ko(ne.focus),a=[];if(we)for(var l in we)a.push(ko(we[l]).catch(pe.LogError));return o.then((function(t){e||dt.AddData([t]),Me(t),Promise.all(a).then((function(t){"pedigree"!==i.View&&e||dt.AddData(t),ke((0,se.Z)(t))})).catch(pe.LogError)})).catch((function(e){(0,pe.LogError)("Unsuccessful root tree retrieval: ".concat(e)),404===e?(be(null),"number"!=typeof ne.home||isNaN(ne.home)||ne.focus===ne.home?!i.ReduceRequests&&"number"==typeof ne.home&&!isNaN(ne.home)&&ae<3?(le(ae+1),window.setTimeout((function(){re(Kr({},ne))}),500*ae)):fetch("/api/treeviewer/tree/".concat(r,"/info"),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then(pe.HandleJsonResponse).then((function(e){if(e&&e.count<1)window.location.assign("/family-tree/tree/".concat(r,"/addperson?msg=et"));else if(e&&1===e.count&&e.onlyPid)re(Kr(Kr({},ne),{},{focus:e.onlyPid}));else{if(ne.home)throw new Error("Root tree data retrieval failure");(0,pe.LogError)("Redirect to home person selection",{rootPids:ne}),co()}})).catch((function(e){(0,pe.LogError)(e,{rootPids:ne}),X(e)})):re(Kr(Kr({},ne),{},{focus:ne.home}))):X("Error: ".concat(e))}))}function Fo(e,t,n){Ft(t),Rt(e),"number"!=typeof n&&"number"==typeof Yt&&(n=B.getGeneration(Yt)),Ht(n),tn(!1),an(!0)}function jo(){an(!1)}function Lo(e,t){Jt(0);var n=No(t||0);i.SidePanelAdd?Go(di.add,n):(qt(n),Ao(n,e))}function Ao(e,t){window.treeDidDrag||(i.SidePanelAdd?(Qe(null),Go(di.add,e)):(Nt(t),tn(!0)))}function Do(){nt(null)}function Ro(){tt&&Mo(!0,["".concat(tt.pid)]).catch(pe.LogError).finally((function(){for(var e in st)Object.prototype.hasOwnProperty.call(st,e)&&delete st[e];Do()}))}function Vo(e){if(!Array.isArray(e)||e.length<1)throw new Error("must include at least one pid");if(e=(e=(0,se.Z)(new Set(e))).map((function(e){return"".concat(e)})).filter((function(e){return!oi.has(e)})),0===e.length)return Promise.resolve({Persons:[]});var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;oi.add(o)}}catch(e){n.e(e)}finally{n.f()}return fetch("/api/treeviewer/tree/".concat(r),{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Failed to get the missing people");return e.json()})).then((function(t){dt.AddData([t]);var n,r=Yr(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;oi.delete(o)}}catch(e){r.e(e)}finally{r.f()}if(i.UseNewFamilyView){var a=new Set;if(t.Persons.forEach((function(e){dt.GetPerson(e.gid.v).Spouses.filter((function(e){return e&&!dt.GetPerson(e.tgid.v)})).forEach((function(e){return a.add(e.tgid.v.split(":")[0])}))})),a.size>0)return Vo((0,se.Z)(a))}return d((0,se.Z)(dt.Persons)),t}))}function Bo(e,t){if("number"!=typeof e)throw new Error("Invalid nid");if("number"!=typeof t)throw new Error("Invalid pid");var n=B.getExpandId(e),i={},o=n.split(":")[0];if(we)for(var a in we)a.split(":")[0]<o&&(i[a]=we[a]);return we&&we[n]||(i[n]=t),$e(!0),be(i),fetch("/api/treeviewer/TreeMapExpandedNodes?tid=".concat(r),{credentials:"same-origin",method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).catch((function(e){(0,pe.LogError)(e)}))}function Uo(e,t){if(!B)return null;if(!t&&B.nodes.length>0&&(t=B.nodes[0]),!t)return null;var n=B.nodes.indexOf(t);if(!B.isVisible(n))return null;var r=Co(t.gid);if(!r&&(r=new Te({gid:{v:t.gid},Names:[],Events:[],Genders:[],Family:[]})).isNew){if(!to||!to.ed)return null;var o=B.getRelativeType(n),a="Mother"===o,l=Co(B.getChildGid(n)),s=!!l&&l.HasParentHint(o);s?window.TreeViewerData.NPHDiscoverUI?r.NodeTitle=(0,de.default)("potential"):r.NodeTitle=(0,de.default)(a?"potential.mother":"potential.father"):r.NodeTitle=(0,de.default)(a?"add.mother":"add.father"),r.Gender=a?"F":"M",r.HasNewPersonHint=s}if("family"===i.View){var c=e(n,r,null,Re);return(t===B.nodes[0]?[c].concat((0,se.Z)(B.nodes.slice(1).map((function(t){return Uo(e,t)})))):[c]).flat()}return e(n,r,t.parents,Re)}function Ho(){var e=gr.person,t=gr.relation;yo(wo(e.gid,"m"===t?"mother":"father"));var n="f"===t?"Father":"Mother",r=e.GetParentHint(n);(0,pe.UBELink)("CoreUI_RecommendationObjectClicked",{schemaVersion:1,objectProperty:"review_click",flow:"tree_viewer",subFlow:"m"==t?"potential_mother":"potential_father",treeId:e.tid,personaId:e.pid,hintId:r.hid,objectType:"newperson"}),i.SidePanelNPH?zo(e,r,"m"===t?"mother":"father"):Sr(!0)}function Go(e,t,n){var o=t.gid.split(":")[0],a=no;if(a&&window.$trees.DnaMatchLinking){var l=window.$trees.DnaMatchLinking.role;a="Owner"===l||"Collaborator"===l||"Manager"===l}var s=Object.assign({prototype:"getpreviewperson",userId:i.UserId,sampleId:Wn,person:t,treeId:r,personId:o,displayName:t.FullName,gender:t.Gender,hasNoFather:!t.Family.some((function(e){return"F"===e.t})),hasNoMother:!t.Family.some((function(e){return"M"===e.t})),focusNode:ne.focus==o,showThruLines:or,showConfirmedMatches:pr,showPossibleMatches:cr,canEdit:no,canViewLiving:to.csl,canEditMatches:a,notify:e===di.add||e===di.edit||void 0,useFullTitle:!0},n||{});window.ancestry.coco.perform(e,s),function(e){var t=go(e),n=t?t.getBoundingClientRect():null;if(n){var r=n.right+380+30+20-window.innerWidth;if(r>0){var i=Kr({},un);i.translation.x-=r,fn(i)}}}(o)}function zo(e,t,n){yr(null),window.ancestry.coco.perform(di.eval,{personGid:e.gid,newPersonGid:t.gid,hintId:t.hid,relationship:n,flowId:"NEW_PERSON_HINTS"})}function Zo(){if(gr){var e=gr.person,t=gr.relation,n=gr.gender;yr(null),i.SidePanelAdd?Go(di.add,e,{relationship:"m"===t?"mother":"father",gender:n}):Fo(t,n)}}function Wo(e){e===ne.focus&&re(Kr(Kr({},ne),{},{focus:me&&me.History.length>1?me.History[me.History.length-2]:ne.home}))}function qo(){if(gr){var e=gr.person,t=gr.relation;if(e){var n=T[e.gid];n&&(delete n["f"===t?"father":"mother"],x(Object.assign({},T||{})))}}}Ir((function(){!0===z&&i.ShowFamilyViewGuidance&&ro&&document.querySelector("#guidanceFamilyview")&&window.setTimeout((function(){var e=function(e,t,n){var r,i,o,a,l=window.TreeViewerData,s=l.TreeMetaData,c=l.sampleId,u=l.IsMatchesToTrees,f=l.treeId,d=l.NewNavigation,p=[],h=null==s?void 0:s.org;if(u&&"dnatrees"===h&&null!==c)p.push(function(e){var t="".concat(window.TreeViewerData.UrlPrefix.Trees,"/tree/").concat(e,"/settings/privacy");return{content:(0,de.default)("guidance.privacySettings",{url:t}),heading:(0,de.default)("guidance.privacySettingsTitle"),scroll:!1,selector:"#privacyGuidanceModal",position:"top",hidePointer:!0,makeInteractable:!1,pulse:!1,spotlight:!0,onAfterOpen:function(){document.querySelector(".guidanceContent").insertAdjacentHTML("afterend",'<button class="doneBtn ancBtn ancBtnRnd blue" style="margin-top:15px;background-color:#117fa6">Done</button>');var e=document.querySelector(".alertNotifications");e&&e.classList.add("noClick");var t=document.querySelector(".doneBtn.ancBtn.ancBtnRnd.blue");t&&t.addEventListener("click",(function(){var e=document.querySelector(".guidanceCloseBtn.ancBtnIconOnly.icon.iconClose");e&&e.click()}))}}}(f));else{n&&document.querySelector(".lineText.top")&&p.push(function(e){return{content:(0,de.default)("guidance.relationshiplabels"),heading:(0,de.default)("guidance.relationshiplabelstitle"),scroll:!1,spotlight:!0,selector:".lineText.top",makeInteractable:!1,pulse:!1,position:"top",onOpen:function(){e(".lineText.top")},onAfterOpen:function(){e(".lineText.top")}}}(e));var m=function(e){var t=".iconArrowSmallUp.expandParents.expandTree",n=document.querySelector(t);if(!n)return null;var r="".concat(t,".guidanceTarget");return{content:(0,de.default)("guidance.treeview"),heading:(0,de.default)("guidance.treeviewtitle"),scroll:!1,pulse:!1,spotlight:!0,selector:r,makeInteractable:!1,position:"top",onClose:function(){var e=document.querySelector(r);e&&document.body.removeChild(e)},onOpen:function(){e(".ancBtn.sml.silver.icon".concat(t));var i=n.getBoundingClientRect(),o=document.createElement("div");o.className=r.split(".").join(" "),Object.assign(o.style,{position:"absolute",left:"".concat(i.left,"px"),top:"".concat(i.top,"px"),width:"".concat(i.width,"px"),height:"".concat(i.height,"px")}),document.body.appendChild(o)}}}(e);m&&p.push(m),p.push(function(e){var t,n,r=document.querySelector(".relationshipsButton.icon.iconList.calloutTrigger"),i=!0,o=".calloutContent.relationshipsCallout",a=null;return r||(o=window.TreeViewerData.NewNavigation?window.innerWidth<768?"#MobileMenuButton":"#ViewButton .icon":".cntrls .iconTreePedigree",!0===window.matchMedia("(max-width: 568px)").matches&&(o="#navMobile"),t='<div class="nodeWrapper" style="border: 2px solid black; bottom: 0px; left: 240px; height: 148px; width: 92px; transform: translate(45px, 0px)">\n\t\t\t\t<button role="button" tabindex="0" class="nodeFamily node nodeMale focus" aria-expanded="false">\n\t\t\t\t<span class="userCardSize4 userCardStacked node-bdy nfv">\n\t\t\t\t<span class="indicatorIcons">\n\t\t\t\t<span class="iconsRight">\n\t\t\t\t<span class="hintsIcon">\n\t\t\t\t<span aria-hidden="true" class="icon iconLeafImage iconLeafImagePinned" style="float:right;">\n\t\t\t\t</span></span></span></span>\n\t\t\t\t<span class="bdyWrap card">\n\t\t\t\t<span class="avatarWrap">\n\t\t\t\t<span class="icon iconMale userCardImg userCardImgSquare userCardImgOriginal"></span>\n\t\t\t\t<span class="hideVisually">'+(0,de.default)("focusPerson")+"."+(0,de.default)("male")+'</span></span>\n\t\t\t\t<span class="nodeContent"><span class="vAlignContent">\n\t\t\t\t<span class="nodeTitle">John</span><span class="nodeTitle">Doe</span><span class="nodeInfo">1891-1969</span><span class="hideVisually">'+(0,de.default)("hint.indicator")+'</span></span></span></span></span></button>\n\t\t\t\t<button aria-label="'+(0,de.default)("relationships.show").replace("{firstName}","John")+'" class="relationshipsButton sml silver ancBtn icon iconList calloutTrigger active" tabindex="0" role="button" data-ui-id="ui1631224629520763" aria-expanded="true" aria-controls="calloutWrap-ui1631224629520763"></button>\n\t\t\t\t</div><div id="calloutWrap-ui" class="callout willTransform open calloutPositionLeft" style="width: 275px; transform: translate(2px, 240px);">\n\t\t\t\t<div class="hideVisually"><button tabindex="-1" type="button">Close popup region</button></div>\n\t\t\t\t<div class="calloutContent relationshipsCallout" tabindex="-1" id="calloutContent-ui1631228129231234" role="region" aria-label="Popup"><div><div><h5>'+(0,de.default)("relationships.header").replace("{firstName}","John")+'</h5><div class="spouseList"><div class="userCard userCardSize2"><div class="profilePicture">\n\t\t\t\t<span aria-hidden="true" class="userCardImg userCardImgSquare userCardImgOriginal icon icon iconFemale nodePhoto"></span></div>\n\t\t\t\t<div class="userCardContent"><div><h6 class="userCardTitle spouseName"><a href="">Mary Jane</a></h6><div>'+(0,de.default)("Spouse.Wife")+'</div></div></div>\n\t\t\t\t<div class="toggleButton"><input class="switch" id="switch-1631228134599564" name="switch-1631228134599564" type="checkbox" value="111003502991:1030:10281865" data-ui-id="ui1631228134599223">\n\t\t\t\t<label for="switch-1631228134599564" class=""><span class="switchHandle"><span></span></span><span class="hideVisually">'+(0,de.default)("relationships.showSpouse").replace("{fullName}","Mary Jane")+'</span></label></div></div>\n\t\t\t\t<div class="userCard userCardSize2"><div class="profilePicture"><span aria-hidden="true" class="userCardImg userCardImgSquare userCardImgOriginal icon icon iconFemale nodePhoto"></span></div>\n\t\t\t\t<div class="userCardContent"><div><h6 class="userCardTitle spouseName"><a href="">Anna Tucker</a></h6><div>'+(0,de.default)("Spouse.Wife")+'</div></div></div>\n\t\t\t\t<div class="toggleButton readOnly"><input class="switch" id="switch-1631228134599186" name="switch-1631228134599186" type="checkbox" value="111003502985:1030:10281865" checked="" data-ui-id="ui1631228134599668">\n\t\t\t\t<label for="switch-1631228134599186" class=""><span class="switchHandle"><span></span></span><span class="hideVisually">'+(0,de.default)("RelationshipsCallout.hideSpouse").replace("{fullName}","Anna Tucker")+'</span></label></div></div>\n\t\t\t\t<div class="userCard userCardSize2"><div class="profilePicture"><span aria-hidden="true" class="userCardImg userCardImgSquare userCardImgOriginal icon icon iconFemale nodePhoto"></span></div><div class="userCardContent"><div><h6 class="userCardTitle spouseName">\n\t\t\t\t<a href="">Theresa Jones</a></h6><div>'+(0,de.default)("Spouse.Wife")+'</div></div></div><div class="toggleButton"><input class="switch" id="switch-1631228134599595" name="switch-1631228134599595" type="checkbox" value="111003502992:1030:10281865" data-ui-id="ui1631228134599147">\n\t\t\t\t<label for="switch-1631228134599595" class=""><span class="switchHandle"><span></span></span><span class="hideVisually">'+(0,de.default)("relationships.showSpouse").replace("{fullName}","Mary Jane")+'</span>\n\t\t\t\t</label></div></div></div></div></div></div><div class="calloutPointer willTransform" style="transform: translate(0px, 0px);"><div class="calloutPointerShadow"></div></div></div>',i=!1),{content:(0,de.default)("guidance.relationshipview"),heading:(0,de.default)("guidance.relationshipviewtitle"),hidePointer:!i,selector:o,makeInteractable:!1,pulse:!1,position:"top",scroll:!1,delay:700,spotlight:!0,onOpen:function(){if(r){e(".relationshipsButton.icon.iconList.calloutTrigger"),n=document.querySelector(".relationshipsButton.icon.iconList.calloutTrigger");var t=function(){n&&!document.querySelector(o)&&n.click()};t(),a=window.setInterval(t,250),i=!0}},onClose:function(){window.clearInterval(a),n&&document.querySelector(o)&&n.click()},onAfterOpen:function(){r||(document.querySelector(".callout.guidance .calloutContent").classList.add("guidanceStep"),document.querySelector(".guidanceContent").insertAdjacentHTML("beforeend",t))}}}(e)),p.push(d?{content:(0,de.default)("guidance.homeview"),heading:(0,de.default)("guidance.homeviewtitle"),scroll:!1,selector:".treeToolsAndNavigation .iconHome",position:"top",makeInteractable:!1,pulse:!1,spotlight:!0}:{content:(0,de.default)("guidance.resetview"),heading:(0,de.default)("guidance.resetviewtitle"),scroll:!1,selector:".ancBtn.silver.icon.iconResetZoom",position:"top",makeInteractable:!1,pulse:!1,spotlight:!0}),p.push((i=".ancBtn.silver.icon.iconLayers",o=null,a=window.innerWidth<=500,window.TreeViewerData.NewNavigation&&(i=a?"#MobileMenuButton":".MoreButtonCalloutMenu .iconLayers"),{content:(0,de.default)("guidance.layers"),heading:(0,de.default)("guidance.layerstitle"),scroll:!1,selector:i,position:"top",makeInteractable:!1,pulse:!1,spotlight:!0,onOpen:function(){if(window.TreeViewerData.NewNavigation){r=a?null:document.querySelector("#MoreButton .iconMore");var e=function(){r&&!document.querySelector(i)&&r.click()};e(),o=window.setInterval(e,250)}},onClose:function(){window.clearInterval(o),r&&document.querySelector(i)&&r.click()}}))}return{steps:p,start:0,onOpen:function(){document.body.style.overflow="hidden";var e=window.ui||{},t=e.modal,n=e.sidebar;t&&t.close(),n&&n.close()},onClose:function(){if(t(),1==p.length){var e=document.querySelector(".alertNotifications");e&&e.classList.remove("noClick")}}}}(ao,ca,i.ShowLineLabels);window.ui.guidance("#guidanceFamilyview",e)}),3e3)}),[z]),Ir((function(){if(!0===$&&i.ShowShareModalGuidance&&!i.ShowFamilyViewGuidance&&document.querySelector("#shareModalGuidance")){var e=function(e,t){var n={content:(0,de.default)("treesharing.guidance.treeowner"),heading:(0,de.default)("treesharing.guidance.treeownertitle"),spotlight:!0,selector:".treeOwnerAndRole .userCardImg",makeInteractable:!1,scroll:!1,position:"bottom"},r='<div id="step2content"><p>'+(0,de.default)("inviteModal.roleCallout.description")+'</p>\n            <table class="table topSpacing roleInfoTable"><thead>\n            <tr><th scope="col"></th><th scope="col">'+(0,de.default)("guest")+'</th><th scope="col">'+(0,de.default)("contributor")+'</th>\n            <th scope="col">'+(0,de.default)("editor")+"</th></tr></thead><tbody><tr><td>"+(0,de.default)("inviteModal.viewTree")+'</td><td data-label="Guest"><span aria-label="Yes" class="icon iconCheck"></span></td>\n            <td data-label="Contributor"><span aria-label="Yes" class="icon iconCheck"></span></td>\n            <td data-label="Editor"><span aria-label="Yes" class="icon iconCheck"></span></td></tr><tr><td>'+(0,de.default)("inviteModal.leaveComments")+'</td><td data-label="Guest"><span aria-label="Yes" class="icon iconCheck"></span></td><td data-label="Contributor"><span aria-label="Yes" class="icon iconCheck"></span></td>\n            <td data-label="Editor"><span aria-label="Yes" class="icon iconCheck"></span></td></tr><tr><td>'+(0,de.default)("inviteModal.addStoriesAndPhotos")+'</td><td data-label="Guest"><span aria-label="No"></span></td><td data-label="Contributor">\n            <span aria-label="Yes" class="icon iconCheck"></span></td><td data-label="Editor"><span aria-label="Yes" class="icon iconCheck"></span></td></tr><tr><td>'+(0,de.default)("inviteModal.addAndEditPeople")+'</td><td data-label="Guest"><span aria-label="No"></span></td><td data-label="Contributor"><span aria-label="No"></span></td>\n            <td data-label="Editor"><span aria-label="Yes" class="icon iconCheck"></span></td></tr><tr><td>'+(0,de.default)("inviteModal.seeLivingPeople")+'</td><td data-label="Guest">'+(0,de.default)("inviteModal.defaultedOff")+'</td><td data-label="Contributor">'+(0,de.default)("inviteModal.defaultedOff")+'</td><td data-label="Editor">'+(0,de.default)("inviteModal.alwaysOn")+"</td></tr></tbody>\n            </table></div>";return{steps:[n,{content:"editor"===e?(0,de.default)("treesharing.guidance.yourroleeditor"):(0,de.default)("treesharing.guidance.yourrole").replace("{role}",e),heading:(0,de.default)("treesharing.guidance.yourroletitle"),spotlight:!0,selector:".treeOwnerAndRole .userCardInfo",makeInteractable:!1,scroll:!1,position:"bottom",onOpen:function(){ui.callout.close()},onAfterOpen:function(){document.querySelector("#step2content")||(document.querySelector(".callout.guidance .calloutContent").classList.add("guidanceStep"),document.querySelector(".guidanceContent").insertAdjacentHTML("beforeend",r))}},{content:(0,de.default)("treesharing.guidance.yourtrees"),heading:(0,de.default)("treesharing.guidance.yourtreestitle"),spotlight:!0,selector:"#navTreesDefaultList",makeInteractable:!1,scroll:!1,delay:700,position:"right",onOpen:function(){document.querySelector(".navLink.navMainLink.navTrees").click()}}],start:0,onOpen:function(){document.body.style.overflow="hidden"},onClose:function(){ui.callout.close(),t()}}}(i.UserRole,ua);window.matchMedia("(min-width: 767px)").matches&&window.matchMedia("(min-height: 568px)").matches&&(window.ui.guidance("#shareModalGuidance",e),window.addEventListener("resize",(function(e){window.matchMedia("(min-width: 767px)").matches&&window.matchMedia("(min-height: 568px)").matches||window.ui.guidance.close()})))}}),[$]),(0,e.useEffect)((function(){var e=window.$trees;e||(e=window.$trees={}),e.util={link:function(){},mixlink:function(){}}}),[]),(0,e.useEffect)((function(){"error"===i.View&&X("404")}),[]),(0,e.useEffect)((function(){Wn&&"string"==typeof Wn&&bi&&bi.fetchThruLines(Wn,i.UrlPrefix.Thrulines).then((function(e){if(Qn(e),Object.keys(e).length>0){var t=window.$trees;t.ThruLines&&"object"===(0,c.Z)(t.ThruLines)&&(t.ThruLines.hasThrulines=!0)}}))}),[Wn,bi]),(0,e.useEffect)((function(){if(B){var e=B.getVisibleNodes(ct,un).map((function(e){return e.pid})).filter((function(e){return!!e}));(0,pe.arrayEquals)(Dr,e)||Rr(e)}}),[B,ct,un]),(0,e.useEffect)((function(){bi&&(cr||pr)&&B&&Dr&&(window.clearTimeout(Qr),Qr=window.setTimeout((function(){bi.fetchDNAMatches(Wn,r,Dr).then((function(e){nr(e)})).catch((function(){}))}),Qr?1e3:0))}),[Wn,bi,cr,pr,tr,Dr]),(0,e.useEffect)((function(){xi&&Dr&&0!==Dr.length&&xi.getCommentCounts(Dr).then((function(e){return Hr(e)})).catch(pe.LogError)}),[xi,Dr]),(0,e.useEffect)((function(){To((0,se.Z)(f))}),[Jn,tr,Ur]),(0,e.useEffect)((function(){In.current&&Ie.ExecuteScripts(In.current)}),[An]),(0,e.useEffect)((function(){if(r&&to&&(to.ed||to.cont)){var e=n.gdpralert;(e?Promise.resolve(e):fetch("/api/treeviewer/tree/".concat(r,"/emailprompt"),{credentials:"same-origin",method:"GET",cache:"no-cache"}).then(pe.HandleJsonResponse)).then((function(e){switch(e){case"global":case"tree":Gn(e)}})).catch((function(e){return(0,pe.LogError)(e)}))}}),[r]),(0,e.useEffect)((function(){ln&&fn({scale:ln.ViewState.ZoomFactor/50,translation:{x:ln.ViewState.Position.X,y:ln.ViewState.Position.Y}})}),[ln]),(0,e.useEffect)((function(){if(B&&ct&&un)if(B.ShiftToKeepToggledElementFixed){var e=Kr({},un);e.translation.x+=B.ShiftToKeepToggledElementFixed.x*e.scale,e.translation.y-=B.ShiftToKeepToggledElementFixed.y*e.scale,B.ShiftToKeepToggledElementFixed=null,fn(e)}else if(B.getVisibleNodes(ct,un).length<1){var t=so(un.scale);JSON.stringify(t)!=JSON.stringify(un)&&fn(t)}}),[B,ct,un]),(0,e.useEffect)((function(){if(ln){var e=un.scale,t=un.translation,n=ln.ViewState,o=n.Position.X!=t.x||n.Position.Y!=t.y||n.ZoomFactor!=50*e;n.ZoomFactor!=50*e&&(Qe(null),yr(null)),o&&(n.Position.X=t.x,n.Position.Y=t.y,n.ZoomFactor=50*e,window.ui.callout.close(),to&&"public"!==to.access&&li(i.View||"pedigree",r,ln))}}),[un,ct]),(0,e.useEffect)((function(){if(ro)if(yn)yn!==Nn&&(function(e,t,n){var r="Treeviewer-".concat(e),i=JSON.parse(sessionStorage.getItem(r))||{};i[t]=n,sessionStorage.setItem(r,JSON.stringify(i))}(r,ai,JSON.parse(yn)),_n(yn),fi(r,yn));else{var e=function(e,t){var n="Treeviewer-".concat(e);return(JSON.parse(sessionStorage.getItem(n))||{})[t]||window.TreeViewerData.Properties[t]}(r,ai);if(Array.isArray(e)){var t=JSON.stringify(e.slice(0,25));_n(t),wn(t),Tn(e.length)}}}),[yn,Nn]),(0,e.useEffect)((function(){if(ct){var e=document.getElementsByClassName(ro?"nodeFamily":"nodePedigree");if(!(e.length<1)){var t=document.getElementsByClassName(ro?"nodeFamily focus":"familyList");if(!(t.length<1)){var n=function(e,t){var n,r=e.getBoundingClientRect(),i=r.x,o=r.y,a=r.x,l=r.y+r.height,s=0,c=Yr(t);try{for(c.s();!(n=c.n()).done;)s=(r=n.value.getBoundingClientRect()).width,i=Math.min(i||r.x,r.x),o=Math.min(o||r.y,r.y),a=Math.max(a||r.x,r.x),l=Math.max(l||r.y,r.y)}catch(e){c.e(e)}finally{c.f()}return{nodeWidth:s,minX:i,minY:o,maxX:a,maxY:l}}(t[0],e),r=n.minX,i=n.minY,o=n.maxX,a=n.maxY,l=n.nodeWidth,s=un.translation,c=s.x,u=s.y;0!==l&&(null!==l&&(o+l<50?c+=50-l-o:r>document.body.offsetWidth-50&&(c=document.body.offsetWidth-50)),a<100?u+=100-a:i>ct.h-50&&(u-=i+50-ct.h),c===un.translation.x&&u===un.translation.y||fn(Kr(Kr({},un),{},{translation:{x:c,y:u}})))}}}}),[un,ct]),(0,e.useEffect)((function(){if(r&&"error"!==i.View){var e=function(e){e.state&&re(e.state.rootPids)};return window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}}),[]),(0,e.useEffect)((function(){window.SetCfpId=function(e){if(re(Kr(Kr({},ne),{},{focus:e})),ct.w<=480){var t=window.searchSidePanel;t&&t.isOpen&&t.close()}}}),[ne,ct]),(0,e.useEffect)((function(){B&&(window.highlightPid=function(e){var t=parseInt((0,pe.ValidateNumberId)(e)),n=go(t);if(Zi(t||null),B.HighlightNode=t||null,n){var r=n.getBoundingClientRect();if(!r)return;var i=po(un,r).newPanZoom;!i||isNaN(i.translation.x)||isNaN(i.translation.y)||fn(i)}else t?re(Kr(Kr({},ne),{},{focus:t})):fn(Kr({},un))})}),[B,un,ne]),(0,e.useEffect)((function(){var e=Bi||{},t=e.fullRelation,n=e.openId,r=e.person;if(n&&t&&r)var o=0,a=window.setInterval((function(){var e=wo(r.gid,t);if((++o>5||e)&&window.clearInterval(a),e)if(yo(e),i.SidePanelNPH){var n=r.GetParentHint(t);zo(r,n,t)}else yr({person:r,relation:t[0],gender:"mother"===t?"F":"M",generation:e.generation-1}),Sr(!0)}),500)}),[Bi]),(0,e.useEffect)((function(){return window.addEventListener("UpdateLayerSettings",eo),function(){return window.removeEventListener("UpdateLayerSettings",eo)}}),[B]),(0,e.useEffect)((function(){dt&&dt.ResetAllPersonToggles()}),[ne,dt]),(0,e.useEffect)((function(){if(dt&&(!i.ReduceRequests||Oe)){var e=Nn?JSON.parse(Nn):null;Array.isArray(e)&&e.length>0&&uo(dt.RestoreToggleState(r,e).map((function(e){return e.p})))}}),[dt,Nn,i.ReduceRequests?Oe:null]),(0,e.useEffect)((function(){if(dt&&Oe){var e,t,n,o,a,s,c=(e=dt,t="".concat(ne.focus,":1030:").concat(r),o=e.JSON,a=206,s=40,ro&&(a=88,s=144),B&&(B.unsubscribe(_o),B.cleanup()),(n=ro?i.UseNewFamilyView?new ti(e,t,{refreshTreeCallback:Mo,containerHeight:l.height,nodeWidth:a,largeNodeHeight:s,smallNodeHeight:20,maxGeneration:null,canAddPerson:to&&to.ed,kinshipLabels:i.KinshipLabels,showLabels:i.ShowLineLabels,showAllSpouses:i.ShowAllSpouses,FixedNode:B?B.FixedNode:null,Debug:i.Debug,OnStateChanged:_o}):new ei(e,t,{refreshTreeCallback:Mo,containerHeight:l.height,nodeWidth:a,largeNodeHeight:s,smallNodeHeight:20,maxGeneration:null,canAddPerson:to&&to.ed,showLabels:i.ShowLineLabels}):io?new ni(o,t,l.height,a,s,20,5):new Xr(o,t,l.height,a,s,20)).HighlightNode=zi,n.draw(we||{}),U(n),ro&&(gi(window.innerWidth/2+n.nodeSize.width/2),i.UseNewFamilyView&&(n.notifySubscribers(),Z(!0))),K(!0),n.MissingData);Oe&&c.length>0&&uo(c),To(dt.Persons),Je?(Qe(Co(Je.gid)),yr(null)):gr&&yr(Kr(Kr({},gr),{},{person:Co(gr.person.gid)})),nt(null)}}),[Oe,xe,r,dt]),(0,e.useEffect)((function(){if(we&&Oe){var e=[];if(we)for(var t in we)e.push(t);Ve(e),Mo(!0).then((function(){Ve(null)}))}}),[we,Oe]),(0,e.useEffect)((function(){window.dispatchEvent(new Event("nodesUpdated"))}),[f]),(0,e.useEffect)((function(){if(dt&&"pedigree"===(i.View||"pedigree")){var e=Co("".concat(ne.focus,":1030:").concat(r)),t=[],n=[],o=[];if(e){var a=e.JSON.Family.filter((function(e){return"C"===e.t})).map((function(e){return Co(e.tgid.v)}));(0,pe.SortChildren)(a),e.JSON.Family.filter((function(e){var t=(e.t||"").toUpperCase();return"H"==t||"W"==t})).map((function(n){var r,i=Co(n.tgid.v),o=a.filter((function(t){return t&&i&&t.Parents.indexOf(i.gid)>=0&&t.Parents.indexOf(e.gid)>=0})),l=Yr(o);try{for(l.s();!(r=l.n()).done;){var s=r.value;a.splice(a.indexOf(s),1)}}catch(e){l.e(e)}finally{l.f()}t.push({spouse:i,children:o})})),a.length>0&&t.push({spouse:null,children:a}),t.sort((function(t,n){return dt.CompareMarriageDates(e.gid,t.spouse?t.spouse.gid:null,n.spouse?n.spouse.gid:null)}));var l,s=Yr(e.Parents);try{for(s.s();!(l=s.n()).done;){var c=Co(l.value);c&&c.JSON.Family.filter((function(t,n){return"C"===t.t&&t.tgid.v!==e.gid})).map((function(t,r){var i=Co(t.tgid.v);n.indexOf(i)>=0||o.indexOf(i)>=0||(xo(e,i)?n.push(i):o.push(i))}))}}catch(e){s.e(e)}finally{s.f()}(0,pe.SortChildren)(n),(0,pe.SortChildren)(o)}D({members:t,siblings:n,halfSiblings:o,hasSiblings:n.length>0||o.length>0})}}),[dt,f]),(0,e.useEffect)((function(){if(B&&to&&to.ed){var e=B.nodes.filter((function(e){return e.pid&&m.indexOf(e.pid)<0})).map((function(e){return e.pid}));v([].concat((0,se.Z)(m),(0,se.Z)(e))),So(e,0).catch(pe.LogError)}}),[B]),(0,e.useEffect)((function(){b(Object.assign({},w||{},I||{}))}),[I]),(0,e.useEffect)((function(){To((0,se.Z)(f))}),[w,T]),(0,e.useEffect)((function(){if(dt)return document.body.addEventListener("nphReviewPanel:hintUnignored",e),function(){document.body.removeEventListener("nphReviewPanel:hintUnignored",e)};function e(){var e=document.getElementById("nphRejectUndo");e&&e.parentNode.removeChild(e),N([]),x([])}}),[dt]),(0,e.useEffect)((function(){if(qe){var e=document.querySelectorAll('.expandNode[aria-expanded="true"]'),t=null,n=!0,r=document.querySelector(".treeViewZoomPanContainer");if(e.length>0?t=e[e.length-1].parentElement.nextSibling:(t=document.querySelector(".treeViewZoomPanContainer ol"),n=!1),t){var i,o={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},a=Yr(t.getElementsByClassName("node"));try{for(a.s();!(i=a.n()).done;){var l=i.value.getBoundingClientRect();o.x1=Math.min(o.x1,l.left),o.y1=Math.min(o.y1,l.top),o.x2=Math.max(o.x2,l.left+l.width),o.y2=Math.max(o.y2,l.top+l.height)}}catch(e){a.e(e)}finally{a.f()}var s=un.translation,c=r.offsetWidth;n?o.x2+vi>c&&(s.x=s.x-(o.x2+vi-c)):(o.x2-o.x1>c||o.x2>c||o.x1<=vi)&&(s.x=vi);var u=r.offsetHeight;u<o.y2-o.y1+ii||o.y1<=ii?s.y=s.y+ii-o.y1:o.y2>u-ii&&(s.y=s.y-(o.y2-u)-ii),fn(Kr(Kr({},un),{},{translation:s}))}}}),[B]),(0,e.useEffect)((function(){return document.addEventListener("updateTags",Eo),function(){document.removeEventListener("updateTags",Eo)}}),[f]),(0,e.useEffect)((function(){if(hn){var e=document.getElementById("TreeBody")||null,t=e?e.offsetTop:40,n=un.translation,r=n.x,i=n.y,o=hn.x,a=hn.y,l=hn.w,s=hn.h,c={newX:r,newY:i};o<40&&(c.newX=r-o+50),o>window.innerWidth-l&&(c.newX=r+window.innerWidth-o-l-20),a<t+60&&(c.newY=i-a+t+80),a>window.innerHeight-s&&(c.newY=i+window.innerHeight-a-s-20),c.newX===r&&c.newY===i||fn(Kr(Kr({},un),{},{translation:{x:c.newX,y:c.newY}}))}}),[hn]),(0,e.useEffect)((function(){if(B&&Ni&&to&&to.ed){var e,t=[],n=Yr(B.nodes.filter(fo));try{for(n.s();!(e=n.n()).done;){var r=e.value;P.indexOf(r.gid)<0&&t.push(r.gid)}}catch(e){n.e(e)}finally{n.f()}t.length>0&&(N([].concat((0,se.Z)(P),t)),Ni.fetchNewPersonHints(t).then((function(e){!function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=(0,ue.Z)(n[t],2),i=r[0],o=r[1];o&&(o.mother&&bo(i,o.mother.hid,"m"),o.father&&bo(i,o.father.hid,"f"))}}(e),x(Object.assign({},T||{},e))})).catch(pe.LogError))}}),[B,T,P,Ni]),(0,e.useEffect)((function(){if(B){var e=i.AddPerson;if(e&&e.pid&&e.rel){var t=Co("".concat(e.pid,":1030:").concat(r)),n=0;qt(t);var o=window.setInterval((function(){n++;var r=wo(t.gid,"f"===e.rel?"father":"mother");(n>5||r)&&window.clearInterval(o),r&&r.classList.contains("add")&&(yo(r),Fo(e.rel,"f"===e.rel?"M":"F"),delete i.AddPerson)}),500)}}}),[B]),(0,e.useEffect)((function(){if(Qi){var e=Qi.actionName,t=Qi.result,i=t&&t.action?t.action:void 0,o=t&&t.personId?parseInt(t.personId):void 0;if(o)switch(e){case di.add:Mo();break;case di.edit:Mo(!0,["".concat(o)]);break;case di.eval:t&&"suggestion"===t.recommendationType?Mo(!0,["".concat(o)]):function(e,t){var n=dt.GetPerson("".concat(t,":1030:").concat(r));switch(e){case"accepted":case"deferred":case"rejected":n&&(n.Hints--,w[n.pid]=n.Hints,d([].concat((0,se.Z)(f),[n]))),"accepted"===e&&Mo(!0,["".concat(t)])}}(i,o);break;case di.preview:!function(e,t){var n=dt.GetPerson("".concat(t,":1030:").concat(r));switch(e){case"deleted":t==ne.home?co():(Wo(t),n&&Mo(!0,n.FamilyMembers.map((function(e){return e.tgid.v.split(":")[0]}))));break;case"move.to.root":ea(t);break;case"dna.match-accepted":n&&n.Match&&(n.Match.status="ACCEPTED",tr[n.gid]=n.Match,d([].concat((0,se.Z)(f),[n])));break;case"dna.match-rejected":case"dna.match-removed":n&&(n.Match=null,tr[n.gid]=null,d([].concat((0,se.Z)(f),[n])));break;case"hint.ignored":n&&(n.Hints--,w[n.pid]=n.Hints,d([].concat((0,se.Z)(f),[n])))}}(i,o)}else e===di.eval&&function(){if(n.showAskFamily&&window.history.replaceState){var e=new URL(window.location.href),t=new URLSearchParams;t.cfpid=ne.focus,e.search="?".concat(fe.stringify(t)),(!window.history.state||window.history.state&&window.history.state.path!==e.href)&&window.history.replaceState({path:e.href,rootPids:ne},"",e.href)}}()}}),[Qi]),(0,e.useEffect)((function(){if($i){var e,t,n=$i.personGid,r=$i.hintState,i=$i.relationship;if(n){var o=dt.GetPerson(n);e=i,(t=T[o.gid])&&(delete t[e],x(Object.assign({},T||{}))),"accepted"===r&&Mo()}}}),[$i]),(0,e.useEffect)((function(){if(Er&&ot){var e=document.getElementById("TreeBody")||null,t=e?e.offsetTop:40;ot&&ot.rect&&Fr({height:ot.rect.height,width:ot.rect.width,top:ot.rect.top-t,left:ot.rect.left})}else Pr(null)}),[Er,ot]);var $o=(0,e.useCallback)((function(){Et(!bt)}),[bt]),Ko=(0,e.useCallback)((function(){Pr(gr),qo(),gr&&Vo(["".concat(gr.person.pid)]).finally((function(){var e=new Set,t=dt.GetPerson("".concat(gr.person.pid,":1030:").concat(r));return t&&t.Parents.filter((function(e){return e&&!dt.GetPerson(e)})).forEach((function(t){return e.add(t.split(":")[0])})),Mo(!0,(0,se.Z)(e))}))}),[B,gr,qo,Mo]);function Yo(){qo()}function Jo(){yr(null),Sr(!1),ot&&ot.target&&ot.target.focus()}function Qo(e){if(Je||gr){for(var t=e.target;t;){if(t.classList.contains("node"))return;t=t.parentElement}Qe(null),yr(null)}}function Xo(e){var t=e.currentTarget;t&&(t.scrollLeft=0,t.scrollTop=0)}function ea(e){re(Kr(Kr({},ne),{},{focus:e}))}function ta(t){var n=t.translation,o=t.scale;return e.createElement(kr,{translation:n,scale:o,layouter:B,isEditor:no,view:i.View||"pedigree",areCommentBadgesEnabled:Zr,renderNodes:Uo,OnTreeNodeClick:Oo,OnAddRelativeClick:Lo,setEditPersonModalPerson:nt,OnSetFocus:ea,getPersonsAsync:Vo,getPersonByGid:Co,PersonPageUrl:"".concat(i.UrlPrefix.Person,"/tree/").concat(r,"/person"),renderData:{onClick:Qo,onScroll:Xo,toggleExpansion:Bo,rights:to,showThruLines:or,showConfirmedMatches:pr,showPossibleMatches:cr,rootPids:ne,setRootPids:re,getPersonByNodeId:No,focusFamily:A},isFamilyView:ro,nodeGids:B?B.nodes.map((function(e){return e.gid})):null,theme:i.Theme,setFocusNodeCoordinates:mn,title:i.TreeMetaData.name})}function na(){var e=this,t=window,n=t.searchSidePanel,r=t.layersSidePanel,i=t.workspaceView;n&&n.isOpen&&n.close(),i&&!0===i.state.isOpen&&i.handleToggle(),r.isOpen?r.close(this):(pi(!1),window.setTimeout((function(){r.open(e)}))),(0,pe.UBELink)("TreesUI_IconsClicked",{schemaVersion:2,clickType:"tree_viewing_options"})}function ra(e){window.workspaceView&&!0===window.workspaceView.state.isOpen&&window.workspaceView.handleToggle(),window.layersSidePanel&&window.layersSidePanel.isOpen&&window.layersSidePanel.close(),(0,pe.UBELink)("TreesUI_SearchClicked",{schemaVersion:3,clickType:"tree_search",clickLocation:null!=e&&e.classList.contains("findPersonButton")?"nav_bar":"menu",treeId:r}),window.searchSidePanel.isOpen?window.searchSidePanel.close():window.searchSidePanel.open(e)}function ia(e){if(e&&"success"===e.status){var t=[e.newPid];if(Wt){switch(At){case"h":case"w":Wt.ToggleSpouse("".concat(e.newPid,":1030:").concat(r));break;case"c":[Wt].concat((0,se.Z)(Wt.Spouses.map((function(e){return dt.GetPerson(e.tgid.v)})))).filter((function(e){return!!e})).forEach((function(e){return e.VisibleChildren(Ut,!0)}));break;case"s":Wt.VisibleSiblings(Ut,!0);break;case"m":case"f":Wt.VisibleParents(Ut,!0)}t.push("".concat(Wt.pid)),Wt.FamilyMembers.map((function(e){return dt.GetPerson(e.tgid.v)})).filter((function(e){return!!e})).forEach((function(e){t.push("".concat(e.pid)),e.FamilyMembers.map((function(e){return e.tgid.v.split(":")[0]})).filter((function(e){return t.indexOf(e)<0})).forEach((function(e){return t.push(e)}))}))}Mo(!0,t)}}(0,e.useEffect)((function(){if(B&&Er&&Cr){var e=Cr.person,t=Cr.relation;if(e){var n=B.nodes.find((function(t){return t.gid===e.gid}));if(n){var r="f"===t?"father":"mother",i=ro?n[r]:n.parents.find((function(e){return e.relativeType===r})),o=i?document.querySelector('[data-nodeid="'.concat(B.nodes.indexOf(i),'"]')):null;o&&Io(o)}}}}),[B,Er,Cr]),ta.propTypes={translation:F().object,scale:F().number};var oa=so(),aa=JSON.stringify(oa)!==JSON.stringify(un),la="true"===n.openLayersPanel;if("error"!==i.View&&(!ne||!ne.focus&&!ne.home))return to&&"public"===to.access?window.location.assign("/family-tree/tree/".concat(r,"/recent")):co(),null;var sa=i.Theme&&i.Theme.indexOf("bgDark")>=0,ca=function(){return(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.FamilyViewGuidance).catch((function(e){return X(e)}))},ua=function(){return(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.ShareModalGuidance).catch((function(e){return X(e)}))},fa="fam";ro||(fa="fanchart"===i.View?"fan":"ped");var da,pa=vo&&i.ShowMatchesToTreesSurvey&&i.MatchesToTreesSurveyLink.length,ha=["treeToolsAndNavigation"];return i.NewNavigation?(ha.push("newLeftNav"),(i.Theme||"").indexOf("bgDark")>=0&&ha.push("bgDark")):ha.push(i.Theme),e.createElement(e.Fragment,null,e.createElement("div",{id:"treeViewerFlexWrapper"},e.createElement("div",{id:"treeViewer",style:{height:Q?"auto":"100%"}},e.createElement("div",{className:"flexContainer"},e.createElement("div",{id:"BannerRegion"}),e.createElement("div",{id:"HeaderRegion",style:{display:ri?"none":"block"},dangerouslySetInnerHTML:{__html:i.HeaderHtml}}),Q&&e.createElement(Cn,{why:Q}),!Q&&dt&&e.createElement("div",{id:"TreeBody",className:"page pagePadded TabNav ".concat(i.SidebarPush?"sidebarPush ":"","sidebarWrapper")},e.createElement("div",{className:"trVwCon treeViewerAwesome".concat(i.SidebarPush||i.NewNavigation?" sidebarPush":"").concat(i.NewNavigation?"":" "+(i.Theme||""))},e.createElement("div",{id:"trVw",className:"tvFamily tvFamilyBC"},e.createElement("div",{className:"trVp ".concat(He?"closehand":"openhand")},e.createElement(St,{treeId:r,rights:to,beta:"fanchart"===i.View||i.Beta,newShareJsUrl:i.InviteModalJs,cfpId:ne.focus,treeFullScreen:ri,sidebarFlags:oo,setTreeFullScreen:pi,setTreeOwner:Fi,onTreeSearchClick:ra,getLivingSibling:function(){return null==dt?void 0:dt.GetLivingSibling("".concat(ne.home,":1030:").concat(r))},dismissLivingSiblingCallout:function(){return(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.LivingSiblingCallout).catch((function(e){return X(e)}))}}),e.createElement("div",{className:ha.join(" ")},e.createElement(We,{type:fa,isThumbnailNavOpen:bt,onToggleThumbs:$o,isEditor:no,tid:r,cfpId:ne.focus,toggleThruLines:ar,togglePossibleMatches:ur,toggleConfirmedMatches:hr,setSampleId:$n,sampleId:Wn,zoomHandler:function(e){var t=50*un.scale+10*(e?1:-1);t=Math.round(t/50*13)/13*50,t=Math.min(Math.max(t,10),100),si(e?"zoom in":"zoom out"),document.querySelector("#treeViewer").dispatchEvent(new CustomEvent("scaleTreeMap",{detail:t/50}))},resetHandler:function(){var e;return ro?(dt.ResetAllPersonToggles(),e=Mo(!0)):e=Promise.resolve(),e.then((function(){return B&&B.notifySubscribers(),lo(!1)}))},homeHandler:function(){si("home person click"),ne.home&&null!==Co("".concat(ne.home,":1030:").concat(r))?(re(Kr(Kr({},ne),{},{focus:ne.home})),i.NewNavigation&&fn(so(1))):co()},homePerson:Co("".concat(ne.home,":1030:").concat(r)),focusPerson:Po(),autoOpenLayersPanel:la,canClickResetButton:aa,thruLines:i.ThruLines,urlPrefix:i.UrlPrefix,layersSidePanelJs:i.LayersSidePanelJs,treeOwner:Mi,onTreeSearchClick:ra,toggleLayersSidePanel:na,scale:50*un.scale}),e.createElement("div",{className:"bottomNavigation".concat(sa?" bgDark":"")},"family"===i.View&&e.createElement(Or,{layouter:B,isOpen:bt,onToggleThumbs:$o,panZoom:un,theme:i.Theme,onChange:fn}),e.createElement(On,{history:((me?me.History:null)||[]).map((function(e){return Co("".concat(e,":1030:").concat(r))})),setFocusPerson:ea}))),i.NewNavigation&&e.createElement(_t,{isEditor:no,onTreeSearchClick:ra,type:fa,treeId:r,sampleId:Wn,treeOwner:Mi,cfpId:ne.focus,toggleLayersSidePanel:na,focusPerson:Po()}),e.createElement("div",{className:(da=["trGraph",i.Theme],Je&&da.push("trGraphFaded"),un.scale<.3?da.push("small6"):un.scale<.5&&da.push("small4"),da.filter((function(e){return!!e})).join(" "))},!B&&e.createElement("div",{"aria-label":(0,de.default)("expand.loading"),className:"loading loadingLarge".concat(sa?" bgDark":"")}),e.createElement(Gt,{minScale:.2,maxScale:2,disableZoom:!1,scale:un.scale,translation:un.translation,onMapInteraction:function(e){e&&!i.NewNavigation&&pi(window.innerWidth<768),Ge(e)},onWheelZoom:ci,onChange:fn,setDragged:function(e){e?(window.ui.callout.close(),window.draggedDelay>3?window.treeDidDrag=e:window.draggedDelay++):(window.draggedDelay=0,window.treeDidDrag=!1)}},ta)))),e.createElement(Le,{nodeId:Yt,types:Ct,person:Wt,onClose:function(){tn(!1)},onChoose:Fo,open:en}),!Di&&e.createElement(Fe,{person:Wt,gen:Mt,rel:At,open:on,nodeId:Yt,onUpdate:ia,onClose:jo}),!Li&&e.createElement(De,{person:tt,onChange:Ro,onCloseModal:Do}),ro&&i.ShowToggleStateWarning&&e.createElement(Pt,{count:Sn,maxCount:25}),ro&&e.createElement("div",{id:"guidanceFamilyview"}),e.createElement("div",{id:"shareModalGuidance"}),!vo&&i.ShowFamilyViewSurvey&&i.FamilyViewSurveyLink.length?e.createElement(Ne.Alert,{display:"notification",type:"info",role:"alert",onClose:function(){return(0,pe.DismissInterfaceExtension)(pe.InterfaceExtension.FamilyViewSurvey).catch((function(e){return X(e)}))}},e.createElement("div",null,"Have any feedback about family view?"),e.createElement("a",{href:i.FamilyViewSurveyLink,rel:"noreferrer",target:"_blank"},"Give Feedback")):null,vo&&i.ShowMatchesToTreesSurvey&&i.MatchesToTreesSurveyLink.length?e.createElement(Ne.Alert,{display:"notification",type:"info",role:"alert",onClose:function(){}},e.createElement("div",null,"Have any feedback about the family tree Ancestry started for you?"),e.createElement("a",{href:i.MatchesToTreesSurveyLink,rel:"noreferrer",target:"_blank"},"Give Feedback")):null),Je?e.createElement(xn,{person:Je,newLayout:i.UseNewHoverCard,thrulines:or,possibleMatches:cr,confirmedMatches:pr,sampleId:Wn,rights:to,PersonPageUrl:"".concat(i.UrlPrefix.Person,"/tree/").concat(r,"/person"),target:ot,areCommentBadgesEnabled:Zr,onAddRelativeClick:Ao,setTreeFullScreen:pi,setQuickEditPerson:nt,sidePanelInitialize:function(e){Dn({__html:e})},setFocusPerson:Je.pid===ne.focus?null:function(e){return re(Kr(Kr({},ne),{},{focus:e}))},onDeletePerson:Wo,onUpdate:Mo,onClick:Qe,selectNewHomePerson:co}):(B&&B.setIsHoverCardExpanded(null),null),e.createElement("aside",{className:"sidebar noDisplay",id:"nodeSidebar"},e.createElement("div",{className:"sidebarScrollArea"},e.createElement("div",{className:"sidebarControls"},e.createElement("button",{"aria-label":"Close Sidebar",className:"closeBtn sidebarCloseBtn",type:"button"})),e.createElement("header",{className:"sidebarHeader"},e.createElement("h2",{className:"sidebarTitle"},i.TreeMetaData.name),e.createElement("p",null,"Sidebar intro text goes here and can wrap to multiple lines.")),e.createElement("div",{className:"sidebarContent"},e.createElement("p",null,"The class ‘sidebarContent’ adds padding to be aligned with the header/footer.")),e.createElement("hr",{className:"sidebarDivider"}))),function(){if(!gr||Er)return null;var t=gr.person,n=gr.relation,r=gr.gender;return e.createElement(Mn,{person:t,relation:n,gender:r,target:ot,onClose:Jo,onReviewPotentialMatchClick:Ho,onAddManaullyClick:Zo})}(),function(){if(!gr)return null;var t=gr.person,n=gr.relation,r=t.GetParentHint("f"===n?"father":"mother");return e.createElement(e.Fragment,null,e.createElement(Ln,{relation:n,person:t,open:Er,hint:r,onClose:Jo,onHintAccept:Ko,onHintReject:Yo}),Er&&e.createElement("div",{className:"nphScreen",style:Mr}))}(),e.createElement("div",{id:"WorkspaceComponent",ref:In,dangerouslySetInnerHTML:An}),e.createElement(qr,{treeId:r,treeName:i.TreeMetaData.name,guidanceFlag:i.ActivitySidebarGuidanceFlag,sidebarFlags:oo}),Hn&&e.createElement(xt,{alertType:Hn,viewerType:i.View||"pedigree",treeId:r})),e.createElement("div",{id:"privacyGuidanceModal",className:pa?"m2tPrivacyModal":"privacyModal"}))),e.createElement("div",{id:"FooterRegion",style:{display:Q?"block":"none"},dangerouslySetInnerHTML:{__html:i.FooterHtml}})),vt&&dt&&e.createElement(Lr,{layouter:B,persons:dt.PersonsDictionary}))}pi.propTypes={query:F().object,treeId:F().string,viewType:F().string,TreeViewerData:F().object};var hi=pi;function mi(t){var n=(0,e.useState)(!1),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=(0,e.useState)({__html:null}),f=(0,ue.Z)(u,2),d=f[0],p=f[1],h=(0,e.useState)(""),m=(0,ue.Z)(h,2),v=m[0],g=m[1],y=(0,e.useRef)(null),w=null,b=t.rootPerson,E=t.onCloseModal,S=t.onChange;if("function"!=typeof S)throw new Error("Missing onChange handler");return(0,e.useEffect)((function(){if(t.person){var e=t.person.curPerson;window.clearInterval(w),g(""),p({__html:'<div class="loading modalLoading" aria-label='.concat((0,de.default)("expand.loading")," />")}),c(!1),o(!1),w=window.setTimeout((function(){o(!0)}),1e3),Ie.FetchAddPersonModalContents("0:0:0",e.Gender,t.person.rel).then((function(e){return Ie.LoadScripts(e).then((function(){!function(e){if(window.clearTimeout(w),g(e.title),p({__html:e.html}),c(!0),o(!1),Ie.ExecuteScripts(y.current),"function"==typeof window.AddPersonModalInit){void 0!==window.$Ap&&(window.$Ap.APMAutoCompleteDates=window.autoCompDate),window.AddPersonModalInit(0,null,null,(function(e){if(e)switch(e.action){case"submit":S(Ie.GetFormValues("FormAddPerson"));break;case"close":S(null)}c(!1),o(!1)}),"m"),function(e){function n(e,t){console.assert(!!e);var n=document.getElementById(e);n&&("boolean"==typeof t?n.checked=t:n.value=t)}var r=t.person.curPerson,i=r.isSelf;n("startingWithMyself","boolean"!=typeof i||i),"boolean"==typeof r.IsLiving&&(n("deceasedRadio",!r.IsLiving),n("livingRadio",r.IsLiving)),n("fname",r.GivenName),n("lname","f"===t.person.rel&&!r.Surname&&b&&""!=b.Surname?b.Surname:r.Surname),n("sufname",r.Suffix),n("bdate",r.BirthDate||""),n("bplace",r.BirthPlace||""),n("ddate",r.DeathDate||""),n("dplace",r.DeathPlace||""),n("m_genderMale","M"===r.Gender),n("m_genderFemale","F"===r.Gender),n("m_genderUnknown","F"!==r.Gender&&"M"!==r.Gender)}()}}(e)}))})).catch((function(e){window.clearTimeout(w),(0,pe.LogError)(e),p({__html:'<div class="alert" role="alert">'.concat((0,de.default)("modal.error"),"</div>")})}))}}),[t.person]),e.createElement(Ne.Modal,{open:s||i,onClose:E,width:i&&!s?400:800,useCustomPadding:!0,title:v,onRequestClose:function(){S(null),o(!1),c(!1)}},e.createElement("div",{ref:y,dangerouslySetInnerHTML:d}))}mi.propTypes={person:F().object,rootPerson:F().object,onChange:F().func,onCloseModal:F().func};var vi=mi;function gi(t){var n=(0,e.useState)(""),r=(0,ue.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),l=(0,ue.Z)(a,2),s=l[0],c=l[1],u=(0,e.useState)(!1),f=(0,ue.Z)(u,2),d=f[0],p=f[1],h=(0,e.useState)(!1),m=(0,ue.Z)(h,2),v=m[0],g=m[1],y=(0,e.useState)(!1),w=(0,ue.Z)(y,2),b=w[0],E=w[1],S=(0,e.useState)(!0),T=(0,ue.Z)(S,2),x=T[0],k=T[1],C=(0,e.useState)("".concat(window.location.origin,"/cs/legal/privacystatement")),P=(0,ue.Z)(C,1)[0],N=(0,e.useState)(!0),_=(0,ue.Z)(N,2),O=_[0],I=_[1],M=(0,e.useRef)(null),F=t.treeName,j=t.onSave,L=t.onCancel,A=t.isOpen;if((0,e.useEffect)((function(){v||o(F||"")})),(0,e.useEffect)((function(){c("string"==typeof i&&i.trim().length>0)}),[i]),(0,e.useEffect)((function(){!0!==A&&E(!1)}),[A]),"function"!=typeof j)throw new Error("Missing onSave handler");if("function"!=typeof L)throw new Error("Missing onCancel handler");return e.createElement(Ne.Form,{onSubmit:function(){E(!1),p(!0),j(i,x).catch((function(e){(0,pe.LogError)(e),e&&401===e.status&&I(!1),p(!1),E(!0)}))}},e.createElement("div",{className:"ancGrid"},e.createElement("div",{className:"ancCol ancColRow w66"},e.createElement("label",{className:"required",htmlFor:"treeNameReg","data-error":(0,de.default)("treeName.error")},(0,de.default)("savetree.name")),e.createElement("input",{type:"text",id:"treeNameReg",name:"treeNameReg",value:i,onChange:function(e){g(!0),o(e.target.value||"")}})),e.createElement("div",{className:"ancCol ancColRow w100"},e.createElement("input",{className:"checkbox",type:"checkbox",id:"sharingCheckBox",name:"sharingCheckBox",checked:x,onChange:function(e){k(e.target.checked)}}),e.createElement("label",{className:"sharingPrompt",htmlFor:"sharingCheckBox"},e.createElement("span",null,(0,de.default)("sharing.prompt")+" "),e.createElement("button",{className:"link iconAfter iconArrowDownAfter",ref:M,type:"button"},(0,de.default)("sharing.link"))),e.createElement(Ne.Callout,{trigger:M,width:"400"},e.createElement("div",{id:"sharingCallout"},e.createElement("h2",null,(0,de.default)("sharing.pii")),e.createElement("ul",null,e.createElement("li",null,(0,de.default)("sharing.living")),e.createElement("li",null,(0,de.default)("sharing.rights"))),e.createElement("h2",null,(0,de.default)("sharing.benefits")),e.createElement("ul",null,e.createElement("li",null,(0,de.default)("sharing.public")),e.createElement("li",null,(0,de.default)("sharing.members"))))))),e.createElement(Ne.Form.Footer,null,O&&d&&e.createElement("button",{className:"ancBtn loading",disabled:!0},(0,de.default)("savingTree")),O&&!d&&e.createElement(Ne.Form.Input,{className:"ancBtn","aria-live":"polite",type:"submit",id:"saveTreeSubmitBtn",name:"submit",value:(0,de.default)("saveTree"),disabled:!s}),O&&e.createElement(Ne.Form.Input,{type:"button",className:"link",onClick:function(){E(!1),L()},disabled:d,value:(0,de.default)("cancel")}),O&&b&&e.createElement(Ne.Alert,null,(0,de.default)("savetree.error")),!O&&e.createElement(Ne.Alert,{type:"error"},e.createElement("div",null,(0,de.default)("error.loggedout")),e.createElement("a",{href:"".concat(window.TreeViewerData.SignInUrl,"?returnurl=").concat(encodeURIComponent(window.TreeViewerData.UrlPrefix.Trees+"/pt/StartPed.aspx")),className:"ancBtn"},(0,de.default)("sign.in"))),e.createElement("div",{className:"privacyNotice icon iconLock topSpacingBlock"},(0,de.default)("privacy.value")," ",e.createElement("a",{href:P,target:"_blank",rel:"noopener noreferrer"},(0,de.default)("privacy.link")))))}gi.propTypes={treeName:F().string,isOpen:F().bool,onSave:F().func,onCancel:F().func};var yi=gi,wi=n(1853);function bi(t){var n=t.query||{},r=(0,e.useState)(null),i=(0,ue.Z)(r,2),o=i[0],a=i[1],l=(0,e.useState)({width:1e3,height:225}),s=(0,ue.Z)(l,1)[0],c=(0,e.useState)(null),u=(0,ue.Z)(c,2),f=u[0],d=u[1],p=(0,e.useState)(null),h=(0,ue.Z)(p,2),m=h[0],v=h[1],g=(0,e.useState)(null),y=(0,ue.Z)(g,2),w=y[0],b=y[1],E=(0,e.useState)(null),S=(0,ue.Z)(E,2),T=S[0],x=S[1],k=(0,e.useState)(null),C=(0,ue.Z)(k,2),P=C[0],N=C[1],_=(0,e.useState)(!1),O=(0,ue.Z)(_,2),I=O[0],M=O[1],j=(0,e.useState)(decodeURIComponent(n.tnm||"")),L=(0,ue.Z)(j,2),A=L[0],D=L[1],R=(0,e.useState)(""),V=(0,ue.Z)(R,2),B=V[0],U=V[1],H=(0,e.useState)(null),G=(0,ue.Z)(H,2),z=G[0],Z=G[1],W=(0,e.useState)(null),q=(0,ue.Z)(W,2),$=q[0],K=q[1],Y=(0,e.useState)(!1),J=(0,ue.Z)(Y,2),Q=J[0],X=J[1],ee=(0,e.useState)(1),te=(0,ue.Z)(ee,2),ne=te[0],re=te[1],ie=(0,e.useState)({x:0,y:window.innerHeight<420?40:120}),oe=(0,ue.Z)(ie,2),ae=oe[0],le=oe[1],se=(0,e.useState)(0),ce=(0,ue.Z)(se,2),fe=ce[0],he=ce[1],me=(0,e.useState)(300),ve=(0,ue.Z)(me,2),ge=ve[0],ye=ve[1],we=(0,pe.useWindowDimensions)(),be=(0,e.useState)(!!window.TreeViewerData.UrlPrefix.AddPersonModal),Ee=(0,ue.Z)(be,1)[0],Se=(0,e.useState)(!1),xe=(0,ue.Z)(Se,2),ke=xe[0],Ce=xe[1];function _e(){var e,t,n=!1;try{document.cookie&&(e=document.cookie.match(/\bATT=([^%;]+)/))&&e.length>1&&"0"!==e[1]&&(n=(t=document.cookie.match(/\bANCATT=([^%;]+)/))&&t.length>1&&e[1]===t[1])}catch(e){(0,pe.LogError)(e)}return n||((0,pe.LogError)("VerifyAuthentication failure",{ancatt:t&&t.length>1,att:e&&e.length>1&&"0"!==e[1]}),window.location.assign("".concat(window.TreeViewerData.SignInUrl,"?returnurl=").concat(encodeURIComponent(window.TreeViewerData.UrlPrefix.Trees+"/pt/StartPed.aspx")))),n}function Oe(e){var t=f.Persons.filter((function(t){return t.gid==e}));return t.length<=0?null:t[0]}function Me(e){m.HasData&&w.HasData&&T.HasData&&P.HasData?M(!0):function(e){if(e){var t="";e==T?t="f":e==m?t="y":e==P?t="m":e==w&&(t="F"==m.Gender?"h":"w"),window.modalTriggerId=document.activeElement.id,_e()&&(Z({curPerson:e,rel:t}),Ce(!0))}}(e)}function Fe(e){var t,n;window.treeDidDrag||e.keyCode&&13!==e.keyCode&&32!==e.keyCode||Me((t=parseInt(e.currentTarget.dataset.nodeid),(n=o.getNodeProperty(t,"gid"))?Oe(n):null))}function je(e){if(!e.keyCode||13===e.keyCode||32===e.keyCode){var t=m.Gender;t&&!w.Gender&&(w.Gender="F"==t?"M":"F"),Me(w)}}function Le(){if(window.modalTriggerId&&!document.querySelector("#modal .open")){document.activeElement.blur();var e=document.getElementById(window.modalTriggerId);e&&e.focus()}Ce(!1)}function Ae(){M(!1)}function De(e,t){if(!o)return null;if(!t&&o.nodes.length>0&&(t=o.nodes[0]),!t)return null;var n=o.nodes.indexOf(t),r=Oe(t.gid);return o.isVisible(n)&&r?e(n,r,t.parents):null}if((0,e.useEffect)((function(){fe>0&&le({x:Math.max(30,(we.w-fe)/2),y:ae.y})}),[we,fe]),(0,e.useEffect)((function(){!A&&m&&m.HasData&&D((0,de.default)("treeNameDefault",{surname:m.Surname}))})),(0,e.useEffect)((function(){fetch("/api/treeviewer/healthcheck",{credentials:"same-origin",method:"HEAD",cache:"no-cache",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(!e.ok||200!==e.status)throw new Error("TreeViewer API Offline");!function(){"boolean"!=typeof n.living&&(n.living=!0);var e=new Te(Te.CreateNewPersonModelData(n)),t=new Te,r=new Te(Te.CreateNewPersonModelData({gen:"F"})),i=new Te(Te.CreateNewPersonModelData({gen:"M"}));e.setFather(i),e.setMother(r),t.setSpouse(e),i.AddChild(e),r.AddChild(e);var o=new Pe;o.AddPerson(e),o.AddPerson(i),o.AddPerson(r),o.AddPerson(t),d(o),v(e),b(t),N(r),x(i);var l=o.JSON,c=new wi(l,e.gid,s.height,206,40,20);c.draw(),he(c.Width),ye(c.Height),a(c)}()})).catch((function(e){return U(e.message)}))}),[]),(0,e.useEffect)((function(){if(z&&z.curPerson&&ke&&Ee){var e,t=z.rel,n=z.curPerson,r=n.tid,i=n.pid,o=n.Gender,a="y"===t;1===r&&(r=0),i<=4&&(i=0);var l=function(e){var t=e.data&&e.data.values;t&&(t.status=t.status||t.statusRadio,t.gender=((t.gender||t.genderRadio||"")[0]||"").toUpperCase(),K(t))};if(n.HasData){var s=n.LifeSpan.split("-"),c={First:n.GivenName,Last:n.Surname,Suffix:n.Suffix,Gender:n.Gender,BirthDate:n.BirthDate,BirthYear:s[0],BirthPlace:n.BirthPlace,DeathDate:n.DeathDate,DeathPlace:n.DeathPlace,DeathYear:s[1],Living:n.IsLiving,LifeSpan:n.LifeSpan,IsRoot:a};n.IsLiving&&(c.status="Living"),a&&(c.startingWithMyself=n.isSelf),e={type:"persona"},Ie.QuickEditModal("edit",{tid:r,pid:i,gen:o,rel:t},Le,l,null,e,c)}else{switch(t){case"f":e={lname:m.Surname,bdate:m.BirthDate,ddate:m.DeathDate};break;case"m":e={bdate:m.BirthDate,ddate:m.DeathDate}}Ie.QuickEditModal("add",{tid:r,pid:i,gen:o,rel:t},Le,l,null,e)}}}),[ke]),(0,e.useEffect)((function(){var e=$;if(e&&z){if(!_e())return;var t=z.curPerson;t.setDataFromModal(e),t===w?(t.setSpouse(m),w.Gender||m.Gender||(m.setSpouse(w),m._data.Family[m._data.Family.length-1].t="W",w._data.Family[w._data.Family.length-1].t="H")):t===T?(t.relation="W",t.setSpouse(P)):t===P&&(t.relation="H",t.setSpouse(T)),d(f),Z(null),K(null),m.HasData&&(w.HasData||T.HasData||P.HasData)&&M(!0)}}),[$]),B)return e.createElement(Cn,{why:B});function Re(t){var n=t.translation,r=t.scale;return e.createElement(kr,{translation:n,scale:r,layouter:o,isEditor:!1,view:window.TreeViewerData.View,renderNodes:De,OnTreeNodeClick:Fe,OnAddRelativeClick:je,renderData:{spouse:w,rootPerson:m,father:T,mother:P}})}return Re.propTypes={translation:F().object,scale:F().number},e.createElement("div",{id:"treeViewerFlexWrapper"},e.createElement("div",{id:"treeViewer",style:{height:"100%"}},e.createElement("div",{className:"flexContainer"},e.createElement("div",{id:"BannerRegion"}),e.createElement("div",{id:"HeaderRegion",dangerouslySetInnerHTML:{__html:window.TreeViewerData.HeaderHtml}}),e.createElement("div",{id:"TreeBody",className:"page pagePadded TabNav"},e.createElement("header",{className:"pageHeader ".concat(window.TreeViewerData.Theme)},e.createElement("h1",{className:"pageTitle"},(0,de.default)("startped.title"))),e.createElement("div",{className:"trVwCon treeViewerAwesome ".concat(window.TreeViewerData.Theme)},e.createElement("div",{id:"trVw",className:"tvFamily tvFamilyBC"},e.createElement("div",{className:"trVp ".concat(Q?"closehand":"openhand")},e.createElement("div",{className:"trGraph ".concat(window.TreeViewerData.Theme)},e.createElement(Gt,{minScale:.2,maxScale:2,disableZoom:!0,scale:ne,translation:ae,onMapInteraction:X,onChange:function(e){var t=e.scale,n=e.translation;re(t),n&&we&&fe&&ge&&(n.x=Math.min(Math.max(n.x,100-fe),we.w-50),n.y=Math.min(Math.max(n.y,200-ge),we.h-200)),le(n)},setDragged:function(e){e?(window.draggedDelay++,window.draggedDelay>3&&(window.treeDidDrag=e)):(window.draggedDelay=0,window.treeDidDrag=!1)}},Re)),e.createElement("div",{className:"trVwHoverArea hoverArea"}))),!Ee&&e.createElement(vi,{person:z,rootPerson:m,onChange:function(e){K(e)},onCloseModal:Le}),e.createElement(Ne.Modal,{open:I,title:(0,de.default)("savetree.title"),closeOnBkgClick:!1,onRequestClose:Ae,onClose:Le,width:"440"},e.createElement(yi,{isOpen:I,treeName:A,onSave:function(e,t){if("string"!=typeof e||0===e.trim().length)return Promise.reject("Missing tree name");e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"boolean"!=typeof t&&(t=!1);var n=[],r=f.JSON.Persons.filter((function(e){return e.Names.length>0||(n.push(e.gid.v),!1)})).map((function(e,t){return e.Family=e.Family.filter((function(e){return n.indexOf(e.tgid.v)<0})),e}));return fetch("/api/treeviewer/tree/create?treeName=".concat(encodeURIComponent(e),"&self=").concat(m.isSelf||!1,"&isPublic=").concat(t),{credentials:"same-origin",method:"POST",cache:"no-cache",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){if(!e.ok)throw{status:e.status,statusText:e.statusText,error:"Tree creation failed"};return e.json()})).then((function(e){e.url&&window.location.replace("".concat(e.url,"/family"))}))},onCancel:Ae})))))))}n(2702).polyfill(),n(4301),bi.propTypes={location:F().object};var Ei=bi;var Si=function(t){s(l,t);var n,r,o=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(r){var i=d(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return f(this,e)});function l(e){var t;return i(this,l),(t=o.call(this,e)).state={hasError:!1,caughtError:""},t}return a(l,[{key:"componentDidMount",value:function(){window.newrelic&&window.newrelic.setErrorHandler((function(e){try{if(e&&"string"==typeof e.message&&e.message.indexOf("clickedClose")>=0)return!0}catch(e){}return!1}))}},{key:"componentDidCatch",value:function(e){this.setState({hasError:!0,caughtError:e})}},{key:"render",value:function(){return this.state.hasError?((0,pe.LogError)(this.state.caughtError),e.createElement("div",{id:"treeViewerFlexWrapper"},e.createElement("div",{id:"treeViewer",style:{height:"auto"}},e.createElement("div",{className:"flexContainer"},e.createElement("div",{id:"BannerRegion"}),e.createElement("div",{id:"HeaderRegion",style:{display:"block"},dangerouslySetInnerHTML:{__html:window.TreeViewerData.HeaderHtml}}),e.createElement(Cn,{why:this.state.caughtError}))),e.createElement("div",{id:"FooterRegion",dangerouslySetInnerHTML:{__html:window.TreeViewerData.FooterHtml}}))):this.props.children}}]),l}(e.Component);function Ti(){var t,n=Q(),r=(0,pe.useQuery)(n),i=(t=J(G).match)?t.params:{},o=i.treeId,a=i.viewType;return e.createElement(Si,null,e.createElement(hi,{treeId:o,viewType:a,query:r,TreeViewerData:window.TreeViewerData}))}function xi(){var t=Q(),n=(0,pe.useQuery)(t);return e.createElement(Si,null,e.createElement(Ei,{query:n}))}var ki=function(){return e.createElement(X,null,e.createElement(Y,null,e.createElement(K,{path:"/family-tree/pt/startped.aspx"},e.createElement(xi,null)),e.createElement(K,{path:"/family-tree/tree/:treeId"},e.createElement(Ti,null)),e.createElement(K,{path:"/family-tree/tree/:treeId/family"},e.createElement(Ti,null)),e.createElement(K,{path:"/family-tree/tree/:treeId/family/:viewType"},e.createElement(Ti,null))))};function Ci(n){window.TreeViewerData=n,t.render(e.createElement(ki,null),document.getElementById("Main"))}}(),treeViewer=r}();
//# sourceMappingURL=bundle.js.map
